{"ast":null,"code":"var _jsxFileName = \"A:\\\\AI_LOGS\\\\hosting_1\\\\GIT_H3\\\\FrontendX\\\\src\\\\components\\\\user_auth\\\\CombinedAuth.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Message from \"../ui/alert\";\n// import \"../../style/user_auth/Login.css\";\n// import \"../../style/user_auth/CombinedAuth.css\"\nimport \"../../styles/user_auth/login.css\";\nimport \"../../styles/user_auth/CombinedAuth.css\";\nimport HCaptcha from \"@hcaptcha/react-hcaptcha\";\nimport emailjs from 'emailjs-com';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CombinedAuth = () => {\n  _s();\n  const [userOtp, setUserOtp] = useState('');\n  const [verified, setVerified] = useState(false);\n\n  // const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  // const [message, setMessage] = useState({ type: '', text: '' });\n  // const [passwordMatch, setPasswordMatch] = useState(null);\n  const recaptchaRef = useRef(null);\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    username: \"\",\n    email: \"\",\n    mobileNumber: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  // const [message, setMessage] = useState({ type: \"\", text: \"\" });\n  const [passwordMatch, setPasswordMatch] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [recaptchaValue, setRecaptchaValue] = useState(null);\n  const [token, setToken] = useState(null);\n  const navigate = useNavigate();\n  const [step, setStep] = useState(1); // 1: Login, 2: OTP Verification\n  const [mobileNumber, setMobileNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [otp, setOtp] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]); // Array of 6 empty strings\n  const [message, setMessage] = useState({\n    type: '',\n    text: ''\n  });\n  const [isResendDisabled, setIsResendDisabled] = useState(false);\n  const [resendTimer, setResendTimer] = useState(30);\n  const [generatedOtp, setGeneratedOtp] = useState(\"\"); // holds the real OTP (not shown in inputs)\n\n  const showMessage = (type, text) => {\n    setMessage({\n      type,\n      text\n    });\n    setTimeout(() => setMessage({\n      type: '',\n      text: ''\n    }), 3000);\n  };\n  useEffect(() => {\n    // Check if passwords match   \n    // \n    if (password !== confirmPassword) {\n      console.log(\"Passwords do not match - Showing error message\");\n      showMessage(\"error\", \"Passwords do not match.\");\n      return;\n    }\n    setPasswordMatch(password && confirmPassword && password === confirmPassword);\n  }, [password, confirmPassword]);\n  useEffect(() => {\n    if (formData.password && formData.confirmPassword) {\n      setPasswordMatch(formData.password === formData.confirmPassword);\n    }\n  }, [formData.password, formData.confirmPassword]);\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!passwordMatch) {\n      showMessage(\"error\", \"Passwords do not match.\");\n      return;\n    }\n\n    //   if (!token) {\n    //     alert('Please complete the CAPTCHA');\n    //     return;\n    //   }\n\n    // Don't send data to backend yet\n    try {\n      await sendOtp(); // Generate + send OTP to email\n      showMessage(\"success\", \"OTP sent to email. Please verify.\");\n      setStep(2); // Show OTP input\n    } catch (err) {\n      showMessage(\"error\", \"Failed to send OTP.\");\n    }\n  };\n  const generateOtp = () => Math.floor(100000 + Math.random() * 900000).toString();\n  const sendOtp = async () => {\n    const generatedOtp = generateOtp();\n    setGeneratedOtp(generatedOtp); // don't show it in inputs\n    setUserOtp([\"\", \"\", \"\", \"\", \"\", \"\"]); // clear user inputs // convert to array of characters\n\n    const templateParams = {\n      email: formData.email,\n      passcode: generatedOtp\n    };\n    emailjs.send('service_eujikip',\n    // Replace\n    'template_btttiss',\n    // Replace\n    templateParams, 'YMx9-O4Luo0IkGjSP' // Replace\n    ).then(() => alert('OTP sent to email'), startResendTimer() // Start the resend timer\n    ).catch(err => alert('Failed to send OTP', err));\n  };\n  const verifyOtp = async () => {\n    const enteredOtp = userOtp.join(\"\");\n    if (enteredOtp === generatedOtp) {\n      setVerified(true);\n      try {\n        const response = await axios.post(\"http://localhost:5000/api/signup\", {\n          ...formData,\n          userId: `${formData.firstName}${formData.lastName}${Math.floor(100 + Math.random() * 900)}`.toLowerCase(),\n          token\n        });\n        if (response.status === 200) {\n          alert(\"Email verified and user registered successfully!\");\n          setTimeout(() => navigate(\"/signin\"), 2000);\n        } else {\n          showMessage(\"error\", \"Something went wrong during registration.\");\n        }\n      } catch (error) {\n        var _error$response, _error$response$data;\n        showMessage(\"error\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Failed to register user.\");\n      }\n    } else {\n      alert(\"Incorrect OTP\");\n    }\n  };\n  const handleOtpChange = (value, index) => {\n    if (/^\\d*$/.test(value)) {\n      const updatedOtp = [...userOtp];\n      updatedOtp[index] = value;\n      setUserOtp(updatedOtp);\n      if (value && index < userOtp.length - 1) {\n        document.getElementById(`otp-input-${index + 1}`).focus();\n      }\n    }\n  };\n  const handleKeyDown = (e, index) => {\n    if (e.key === \"Backspace\" && !otp[index] && index > 0) {\n      document.getElementById(`otp-input-${index - 1}`).focus();\n    }\n  };\n  const handlePaste = e => {\n    e.preventDefault();\n    const pasteData = e.clipboardData.getData(\"text\").slice(0, 6);\n    if (/^\\d{6}$/.test(pasteData)) {\n      setOtp(pasteData.split(\"\"));\n      document.getElementById(`otp-input-5`).focus();\n    }\n  };\n  const startResendTimer = () => {\n    // setOtp(\"\")\n    setIsResendDisabled(true);\n    setResendTimer(60);\n    const interval = setInterval(() => {\n      setResendTimer(prev => {\n        if (prev === 1) {\n          clearInterval(interval);\n          setIsResendDisabled(false);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"log-body\",\n    children: [step === 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-container_signup\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo\",\n            children: \"Create Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 7\n          }, this), message.text && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: message.type === \"error\" ? \"error-message\" : \"success-message\",\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [Object.keys(formData).map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: field.includes(\"password\") ? \"password\" : \"text\",\n                className: \"form-input\",\n                placeholder: field.replace(/([A-Z])/g, \" $1\").trim(),\n                name: field,\n                value: formData[field],\n                onChange: handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 13\n              }, this)\n            }, field, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 11\n            }, this)), /*#__PURE__*/_jsxDEV(HCaptcha, {\n              sitekey: \"5802b3c2-cac6-4ae0-b450-107cb7244ace\" // ← Replace with your real key\n              ,\n              onVerify: token => setToken(token),\n              onExpire: () => setToken(null)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"auth-button\",\n              disabled: !passwordMatch || loading,\n              children: loading ? \"Processing...\" : \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Message, {\n          type: message.type,\n          text: message.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 3\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"otp-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Enter OTP Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"otp-inputs\",\n          onPaste: handlePaste,\n          children: userOtp.map((digit, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n            id: `otp-input-${index}`,\n            type: \"text\",\n            maxLength: \"1\",\n            value: digit,\n            onChange: e => handleOtpChange(e.target.value, index),\n            onKeyDown: e => handleKeyDown(e, index),\n            className: \"otp-input\"\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: verifyOtp,\n          className: \"otp-button\",\n          children: \"Verify OTP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendOtp,\n          disabled: isResendDisabled,\n          className: \"otp-resend-button\",\n          children: isResendDisabled ? `Resend OTP in ${resendTimer}s` : \"Resend OTP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Message, {\n      type: message.type,\n      text: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(CombinedAuth, \"m2KwPsp+TXmsWQXsKI6o0wy4tnQ=\", false, function () {\n  return [useNavigate];\n});\n_c = CombinedAuth;\nexport default CombinedAuth;\nvar _c;\n$RefreshReg$(_c, \"CombinedAuth\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","axios","Message","HCaptcha","emailjs","jsxDEV","_jsxDEV","Fragment","_Fragment","CombinedAuth","_s","userOtp","setUserOtp","verified","setVerified","confirmPassword","setConfirmPassword","recaptchaRef","formData","setFormData","firstName","lastName","username","email","mobileNumber","password","passwordMatch","setPasswordMatch","loading","setLoading","recaptchaValue","setRecaptchaValue","token","setToken","navigate","step","setStep","setMobileNumber","setPassword","otp","setOtp","message","setMessage","type","text","isResendDisabled","setIsResendDisabled","resendTimer","setResendTimer","generatedOtp","setGeneratedOtp","showMessage","setTimeout","console","log","handleChange","e","target","name","value","handleSubmit","preventDefault","sendOtp","err","generateOtp","Math","floor","random","toString","templateParams","passcode","send","then","alert","startResendTimer","catch","verifyOtp","enteredOtp","join","response","post","userId","toLowerCase","status","error","_error$response","_error$response$data","data","handleOtpChange","index","test","updatedOtp","length","document","getElementById","focus","handleKeyDown","key","handlePaste","pasteData","clipboardData","getData","slice","split","interval","setInterval","prev","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Object","keys","map","field","includes","placeholder","replace","trim","onChange","required","sitekey","onVerify","onExpire","disabled","onPaste","digit","id","maxLength","onKeyDown","onClick","_c","$RefreshReg$"],"sources":["A:/AI_LOGS/hosting_1/GIT_H3/FrontendX/src/components/user_auth/CombinedAuth.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Message from \"../ui/alert\";\r\n// import \"../../style/user_auth/Login.css\";\r\n// import \"../../style/user_auth/CombinedAuth.css\"\r\nimport \"../../styles/user_auth/login.css\"\r\nimport \"../../styles/user_auth/CombinedAuth.css\"  \r\nimport HCaptcha from \"@hcaptcha/react-hcaptcha\";\r\nimport emailjs from 'emailjs-com';\r\n\r\n\r\nconst CombinedAuth = () => {\r\n  const [userOtp, setUserOtp] = useState('');\r\n  const [verified, setVerified] = useState(false);\r\n\r\n  // const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    // const [message, setMessage] = useState({ type: '', text: '' });\r\n    // const [passwordMatch, setPasswordMatch] = useState(null);\r\n    const recaptchaRef = useRef(null);\r\n  \r\n    const [formData, setFormData] = useState({\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      mobileNumber: \"\",\r\n      \r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    });\r\n    // const [message, setMessage] = useState({ type: \"\", text: \"\" });\r\n    const [passwordMatch, setPasswordMatch] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [recaptchaValue, setRecaptchaValue] = useState(null);\r\n    const [token, setToken] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(1); // 1: Login, 2: OTP Verification\r\n  const [mobileNumber, setMobileNumber] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [otp, setOtp] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]); // Array of 6 empty strings\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [isResendDisabled, setIsResendDisabled] = useState(false);\r\n  const [resendTimer, setResendTimer] = useState(30);\r\n\r\n  const [generatedOtp, setGeneratedOtp] = useState(\"\"); // holds the real OTP (not shown in inputs)\r\n\r\n\r\n  const showMessage = (type, text) => {\r\n    setMessage({ type, text });\r\n    setTimeout(() => setMessage({ type: '', text: '' }), 3000);\r\n  };\r\n\r\n    useEffect(() => {\r\n      // Check if passwords match   \r\n      // \r\n       if (password !== confirmPassword) {\r\n        console.log(\"Passwords do not match - Showing error message\");\r\n        showMessage(\"error\", \"Passwords do not match.\");\r\n        return;\r\n      }\r\n      setPasswordMatch(password && confirmPassword && password === confirmPassword);\r\n    }, [password, confirmPassword]);\r\n\r\n    useEffect(() => {\r\n      if (formData.password && formData.confirmPassword) {\r\n        setPasswordMatch(formData.password === formData.confirmPassword);\r\n      }\r\n    }, [formData.password, formData.confirmPassword]);\r\n\r\n    const handleChange = (e) => {\r\n      setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n    \r\n      if (!passwordMatch) {\r\n        showMessage(\"error\", \"Passwords do not match.\");\r\n        return;\r\n      }\r\n    \r\n    //   if (!token) {\r\n    //     alert('Please complete the CAPTCHA');\r\n    //     return;\r\n    //   }\r\n    \r\n      // Don't send data to backend yet\r\n      try {\r\n        await sendOtp(); // Generate + send OTP to email\r\n        showMessage(\"success\", \"OTP sent to email. Please verify.\");\r\n        setStep(2); // Show OTP input\r\n      } catch (err) {\r\n        showMessage(\"error\", \"Failed to send OTP.\");\r\n      }\r\n    };\r\n    \r\n\r\n  const generateOtp = () => Math.floor(100000 + Math.random() * 900000).toString();\r\n\r\n\r\n  const sendOtp = async () => {\r\n    const generatedOtp = generateOtp();\r\n    setGeneratedOtp(generatedOtp); // don't show it in inputs\r\n    setUserOtp([\"\", \"\", \"\", \"\", \"\", \"\"]); // clear user inputs // convert to array of characters\r\n\r\n    const templateParams = {\r\n      email: formData.email,\r\n      passcode: generatedOtp\r\n    };\r\n\r\n    emailjs.send(\r\n      'service_eujikip',     // Replace\r\n      'template_btttiss',    // Replace\r\n      templateParams,\r\n      'YMx9-O4Luo0IkGjSP'      // Replace\r\n    )\r\n    .then(() => alert('OTP sent to email'),        startResendTimer() // Start the resend timer\r\n  )\r\n    \r\n\r\n    .catch(err => alert('Failed to send OTP', err));\r\n  };\r\n\r\n  const verifyOtp = async () => {\r\n    const enteredOtp = userOtp.join(\"\");\r\n  \r\n    if (enteredOtp === generatedOtp) {\r\n      setVerified(true);\r\n      try {\r\n        const response = await axios.post(\"http://localhost:5000/api/signup\", {\r\n          ...formData,\r\n          userId: `${formData.firstName}${formData.lastName}${Math.floor(100 + Math.random() * 900)}`.toLowerCase(),\r\n          token,\r\n        });\r\n  \r\n        if (response.status === 200) {\r\n          alert(\"Email verified and user registered successfully!\");\r\n          setTimeout(() => navigate(\"/signin\"), 2000);\r\n        } else {\r\n          showMessage(\"error\", \"Something went wrong during registration.\");\r\n        }\r\n      } catch (error) {\r\n        showMessage(\"error\", error.response?.data?.error || \"Failed to register user.\");\r\n      }\r\n    } else {\r\n      alert(\"Incorrect OTP\");\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  const handleOtpChange = (value, index) => {\r\n    if (/^\\d*$/.test(value)) {\r\n      const updatedOtp = [...userOtp];\r\n      updatedOtp[index] = value;\r\n      setUserOtp(updatedOtp);\r\n  \r\n      if (value && index < userOtp.length - 1) {\r\n        document.getElementById(`otp-input-${index + 1}`).focus();\r\n      }\r\n    }\r\n  };\r\n  \r\n\r\n  const handleKeyDown = (e, index) => {\r\n    if (e.key === \"Backspace\" && !otp[index] && index > 0) {\r\n      document.getElementById(`otp-input-${index - 1}`).focus();\r\n    }\r\n  };\r\n\r\n  const handlePaste = (e) => {\r\n    e.preventDefault();\r\n    const pasteData = e.clipboardData.getData(\"text\").slice(0, 6);\r\n    if (/^\\d{6}$/.test(pasteData)) {\r\n      setOtp(pasteData.split(\"\"));\r\n      document.getElementById(`otp-input-5`).focus();\r\n    }\r\n  };\r\n\r\n  const startResendTimer = () => {\r\n    // setOtp(\"\")\r\n    setIsResendDisabled(true);\r\n    setResendTimer(60);\r\n\r\n    const interval = setInterval(() => {\r\n      setResendTimer((prev) => {\r\n        if (prev === 1) {\r\n          clearInterval(interval);\r\n          setIsResendDisabled(false);\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"log-body\">\r\n       \r\n      \r\n      {step === 1 ? (\r\n        <>\r\n  <div className=\"auth-container_signup\">\r\n    <div className=\"auth-form\">\r\n      <div className=\"logo\">Create Account</div>\r\n      {message.text && (\r\n        <div className={message.type === \"error\" ? \"error-message\" : \"success-message\"}>{message.text}</div>\r\n      )}\r\n      <form onSubmit={handleSubmit}>\r\n        {Object.keys(formData).map((field) => (\r\n          <div className=\"form-group\" key={field}>\r\n            <input\r\n              type={field.includes(\"password\") ? \"password\" : \"text\"}\r\n              className=\"form-input\"\r\n              placeholder={field.replace(/([A-Z])/g, \" $1\").trim()}\r\n              name={field}\r\n              value={formData[field]}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n        ))}\r\n        <HCaptcha\r\n          sitekey=\"5802b3c2-cac6-4ae0-b450-107cb7244ace\" // ← Replace with your real key\r\n          onVerify={(token) => setToken(token)}\r\n          onExpire={() => setToken(null)}\r\n        />\r\n        {/* <ReCAPTCHA  sitekey=\"\" onChange={setRecaptchaValue}             size=\"invisible\"\r\n /> */}\r\n        <button type=\"submit\" className=\"auth-button\" disabled={!passwordMatch || loading}>\r\n          {loading ? \"Processing...\" : \"Sign Up\"}\r\n        </button>\r\n      </form>\r\n      {/* <div className=\"auth-toggle\">\r\n        <a href=\"/signin\">Already have an account? Login</a>\r\n      </div> */}\r\n    </div>\r\n    <Message type={message.type} text={message.text} />\r\n  </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"auth-container\"> \r\n        <div className=\"otp-container\">\r\n            <h2>Enter OTP Code</h2>\r\n            <div className=\"otp-inputs\" onPaste={handlePaste} >\r\n              {userOtp.map((digit, index) => (\r\n                <input\r\n                  key={index}\r\n                  id={`otp-input-${index}`}\r\n                  type=\"text\"\r\n                  maxLength=\"1\"\r\n                  value={digit}\r\n                  onChange={(e) => handleOtpChange(e.target.value, index)}\r\n\r\n                  onKeyDown={(e) => handleKeyDown(e, index)}\r\n\r\n                  className=\"otp-input\"\r\n                />\r\n             ))\r\n             }\r\n            </div>\r\n            <button onClick={verifyOtp} className=\"otp-button\">\r\n              Verify OTP\r\n            </button>\r\n            <button\r\n              onClick={sendOtp}\r\n              disabled={isResendDisabled}\r\n              className=\"otp-resend-button\"\r\n            >\r\n              {isResendDisabled\r\n                ? `Resend OTP in ${resendTimer}s`\r\n                : \"Resend OTP\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        )}\r\n        {/* {message.text && (\r\n          <p\r\n            className={`auth-message ${\r\n              message.type === \"success\" ? \"success\" : \"error\"\r\n            }`}\r\n          >\r\n            {message.text}\r\n          </p>\r\n        )} */}\r\n      <Message type={message.type} text={message.text} />\r\n \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CombinedAuth;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}