{"ast":null,"code":"var _jsxFileName = \"A:\\\\AI_LOGS\\\\hosting_1\\\\GIT_H3\\\\FrontendX\\\\src\\\\components\\\\home\\\\8GP.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Home, Check, X, RefreshCw, Play } from 'lucide-react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport bdaLogo from '../resources/BDA-avc.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ThreeGames = () => {\n  _s();\n  const [currentGame, setCurrentGame] = useState('menu');\n  const [userId, setUserId] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [performanceData, setPerformanceData] = useState({\n    totalGames: 0,\n    totalCorrect: 0,\n    totalScore: 0,\n    gameTypes: {},\n    dailyStats: {},\n    history: []\n  });\n  const navigate = useNavigate();\n  const API_URL = 'http://localhost:5000/api';\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const deviceId = localStorage.getItem('deviceId');\n    if (token) {\n      axios.get(`${API_URL}/auth/verify`, {\n        headers: {\n          Authorization: `${token}`,\n          'X-Device-Id': deviceId\n        }\n      }).then(response => {\n        setUserId(response.data.userId);\n        fetchUserData(response.data.userId);\n        console.log(\"User authenticated:\", response.data.userId);\n        console.log(\"user\", response.userId);\n      }).catch(err => {\n        console.error(\"Authentication error:\", err);\n        localStorage.removeItem('token');\n        setIsLoading(false);\n        loadLocalData();\n      });\n    } else {\n      loadLocalData();\n      setIsLoading(false);\n    }\n  }, []);\n  const loadLocalData = () => {\n    const savedData = localStorage.getItem('threeGamesPerformance');\n    if (savedData) {\n      try {\n        setPerformanceData(JSON.parse(savedData));\n      } catch (e) {\n        console.error(\"Error parsing saved performance data\", e);\n      }\n    }\n  };\n  const fetchUserData = uid => {\n    const token = localStorage.getItem('token');\n    const deviceId = localStorage.getItem('deviceId');\n    setIsLoading(true);\n    axios.get(`${API_URL}/performance/${uid}`, {\n      headers: {\n        Authorization: `${token}`,\n        'X-Device-Id': deviceId\n      }\n    }).then(response => {\n      if (response.data) {\n        setPerformanceData(response.data);\n      }\n      setIsLoading(false);\n    }).catch(err => {\n      console.error(\"Error fetching user data:\", err);\n      setError(\"Could not load your data. Using local data instead.\");\n      loadLocalData();\n      setIsLoading(false);\n    });\n  };\n  useEffect(() => {\n    if (isLoading) return;\n    localStorage.setItem('threeGamesPerformance', JSON.stringify(performanceData));\n    const deviceId = localStorage.getItem('deviceId');\n    if (userId) {\n      const timerId = setTimeout(() => {\n        axios.post(`${API_URL}/performance/${userId}`, performanceData, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `${localStorage.getItem('token')}`,\n            'X-Device-Id': deviceId\n          }\n        }).then(response => {\n          console.log(\"Successfully saved to server:\", response.data);\n        }).catch(err => {\n          console.error(\"Error saving data to server:\", err);\n        });\n      }, 2000);\n      return () => clearTimeout(timerId);\n    }\n  }, [performanceData, userId, isLoading]);\n  const PageLoader = ({\n    message = \"Loading...\"\n  }) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-loader-overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-loader-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-loader-spinner\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner-ring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-loader-text\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n        .page-loader-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(102, 126, 234, 0.95);\n          backdrop-filter: blur(10px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 9999;\n          animation: page-loader-fadeIn 0.3s ease;\n        }\n\n        @keyframes page-loader-fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .page-loader-content {\n          text-align: center;\n        }\n\n        .page-loader-spinner {\n          position: relative;\n          width: 80px;\n          height: 80px;\n          margin: 0 auto 1.5rem;\n        }\n\n        .spinner-ring {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          border: 4px solid transparent;\n          border-top-color: white;\n          border-radius: 50%;\n          animation: spinner-rotate 1.5s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n        }\n\n        .spinner-ring:nth-child(1) {\n          animation-delay: -0.45s;\n        }\n\n        .spinner-ring:nth-child(2) {\n          animation-delay: -0.3s;\n          opacity: 0.7;\n        }\n\n        .spinner-ring:nth-child(3) {\n          animation-delay: -0.15s;\n          opacity: 0.5;\n        }\n\n        @keyframes spinner-rotate {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .page-loader-text {\n          color: white;\n          font-size: 1.25rem;\n          font-weight: 600;\n          letter-spacing: 1px;\n          animation: text-pulse 1.5s ease-in-out infinite;\n        }\n\n        @keyframes text-pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.6; }\n        }\n      `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }, this);\n  };\n  const getCurrentDateString = () => {\n    const now = new Date();\n    return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n  };\n  const updatePerformanceData = (gameType, correct, score, additionalData = {}) => {\n    const today = getCurrentDateString();\n    setPerformanceData(prevData => {\n      const newData = JSON.parse(JSON.stringify(prevData));\n      newData.totalGames = (newData.totalGames || 0) + 1;\n      newData.totalCorrect = (newData.totalCorrect || 0) + (correct ? 1 : 0);\n      newData.totalScore = (newData.totalScore || 0) + score;\n      if (!newData.gameTypes[gameType]) {\n        newData.gameTypes[gameType] = {\n          plays: 0,\n          correct: 0,\n          score: 0,\n          totalQuestions: 0,\n          correctAnswers: 0\n        };\n      }\n      newData.gameTypes[gameType].plays += 1;\n      newData.gameTypes[gameType].correct += correct ? 1 : 0;\n      newData.gameTypes[gameType].score += score;\n      newData.gameTypes[gameType].totalQuestions += additionalData.totalQuestions || 1;\n      newData.gameTypes[gameType].correctAnswers += additionalData.correctAnswers || (correct ? 1 : 0);\n      if (!newData.dailyStats[today]) {\n        newData.dailyStats[today] = {\n          plays: 0,\n          correct: 0,\n          score: 0,\n          totalQuestions: 0,\n          correctAnswers: 0,\n          gameTypes: {}\n        };\n      }\n      newData.dailyStats[today].plays += 1;\n      newData.dailyStats[today].correct += correct ? 1 : 0;\n      newData.dailyStats[today].score += score;\n      newData.dailyStats[today].totalQuestions += additionalData.totalQuestions || 1;\n      newData.dailyStats[today].correctAnswers += additionalData.correctAnswers || (correct ? 1 : 0);\n      if (!newData.dailyStats[today].gameTypes[gameType]) {\n        newData.dailyStats[today].gameTypes[gameType] = {\n          plays: 0,\n          correct: 0,\n          score: 0,\n          totalQuestions: 0,\n          correctAnswers: 0\n        };\n      }\n      newData.dailyStats[today].gameTypes[gameType].plays += 1;\n      newData.dailyStats[today].gameTypes[gameType].correct += correct ? 1 : 0;\n      newData.dailyStats[today].gameTypes[gameType].score += score;\n      newData.dailyStats[today].gameTypes[gameType].totalQuestions += additionalData.totalQuestions || 1;\n      newData.dailyStats[today].gameTypes[gameType].correctAnswers += additionalData.correctAnswers || (correct ? 1 : 0);\n      newData.history = newData.history || [];\n      newData.history.unshift({\n        date: today,\n        timestamp: new Date().toISOString(),\n        gameType,\n        difficulty: additionalData.difficulty || 'N/A',\n        speed: additionalData.speed || 0,\n        count: additionalData.count || 1,\n        correct,\n        score,\n        maxScore: additionalData.maxScore || score,\n        totalQuestions: additionalData.totalQuestions || 1,\n        correctAnswers: additionalData.correctAnswers || (correct ? 1 : 0),\n        accuracy: additionalData.accuracy || (correct ? '100%' : '0%'),\n        userId\n      });\n      if (newData.history.length > 100) {\n        newData.history = newData.history.slice(0, 100);\n      }\n      return newData;\n    });\n  };\n\n  // if (isLoading) {\n  //   return(\n  //     <div className=\"edugame-loader-wrapper\">\n  //       <div className=\"edugame-spinner-circle\"></div>\n  //       <div className=\"edugame-loading-text\">Loading Your Games...</div>\n  //     </div>\n  //   );\n\n  // }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(PageLoader, {\n      message: \"Loading Your Games...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-main-container\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-error-banner\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"edugame-error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"edugame-error-dismiss\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), currentGame === 'menu' && /*#__PURE__*/_jsxDEV(UpdatedGameMenu, {\n      setCurrentGame: setCurrentGame,\n      navigate: navigate,\n      userId: userId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 32\n    }, this), currentGame === 'table' && /*#__PURE__*/_jsxDEV(TableGame, {\n      setCurrentGame: setCurrentGame,\n      updatePerformanceData: updatePerformanceData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 33\n    }, this), currentGame === 'shape-menu' && /*#__PURE__*/_jsxDEV(ShapeGamesMenu, {\n      setCurrentGame: setCurrentGame\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 38\n    }, this), currentGame === 'circle' && /*#__PURE__*/_jsxDEV(CircleGame, {\n      setCurrentGame: setCurrentGame,\n      updatePerformanceData: updatePerformanceData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 34\n    }, this), currentGame === 'rectangle' && /*#__PURE__*/_jsxDEV(RectangleGame, {\n      setCurrentGame: setCurrentGame,\n      updatePerformanceData: updatePerformanceData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 37\n    }, this), currentGame === 'square' && /*#__PURE__*/_jsxDEV(SquareGame, {\n      setCurrentGame: setCurrentGame,\n      updatePerformanceData: updatePerformanceData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 34\n    }, this), currentGame === 'triangle' && /*#__PURE__*/_jsxDEV(TriangleGame, {\n      setCurrentGame: setCurrentGame,\n      updatePerformanceData: updatePerformanceData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 36\n    }, this), currentGame === 'pattern' && /*#__PURE__*/_jsxDEV(PatternGame, {\n      setCurrentGame: setCurrentGame,\n      updatePerformanceData: updatePerformanceData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .edugame-main-container {\n          min-height: 100vh;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          padding: 1rem;\n        }\n        \n        .edugame-loader-wrapper {\n          min-height: 100vh;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          gap: 1.5rem;\n        }\n        \n        .edugame-spinner-circle {\n          width: 60px;\n          height: 60px;\n          border: 4px solid rgba(255, 255, 255, 0.3);\n          border-top-color: white;\n          border-radius: 50%;\n          animation: edugame-spin 1s linear infinite;\n        }\n        \n        @keyframes edugame-spin {\n          to { transform: rotate(360deg); }\n        }\n        \n        .edugame-loading-text {\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: white;\n          letter-spacing: 0.5px;\n        }\n        \n        .edugame-error-banner {\n          max-width: 90%;\n          margin: 0 auto 1rem;\n          background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);\n          color: white;\n          padding: 1rem 1.25rem;\n          border-radius: 12px;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .edugame-error-message {\n          font-size: 0.9rem;\n          font-weight: 500;\n        }\n        \n        .edugame-error-dismiss {\n          background: transparent;\n          border: none;\n          color: white;\n          font-size: 1.5rem;\n          font-weight: bold;\n          cursor: pointer;\n          padding: 0 0.5rem;\n          transition: transform 0.2s;\n        }\n        \n        .edugame-error-dismiss:hover {\n          transform: scale(1.2);\n        }\n        \n        .edugame-menu-wrapper {\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .edugame-header-bar {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n          margin-bottom: 2rem;\n        }\n        \n        .edugame-title-main {\n          font-size: 1.75rem;\n          font-weight: 800;\n          color: white;\n          text-align: center;\n          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n          letter-spacing: 0.5px;\n        }\n        \n        .edugame-header-actions {\n          display: flex;\n          gap: 0.75rem;\n          justify-content: center;\n          flex-wrap: wrap;\n        }\n        \n        .edugame-sync-indicator {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          background: rgba(255, 255, 255, 0.25);\n          backdrop-filter: blur(10px);\n          padding: 0.5rem 1rem;\n          border-radius: 20px;\n          font-size: 0.85rem;\n          color: white;\n          font-weight: 600;\n          border: 1px solid rgba(255, 255, 255, 0.3);\n        }\n        \n        .edugame-btn-login,\n        .edugame-btn-dashboard {\n          padding: 0.6rem 1.25rem;\n          border-radius: 20px;\n          font-size: 0.85rem;\n          font-weight: 600;\n          border: none;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        }\n        \n        .edugame-btn-login {\n          background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);\n          color: white;\n        }\n        \n        .edugame-btn-dashboard {\n          background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\n          color: white;\n        }\n        \n        .edugame-btn-login:hover,\n        .edugame-btn-dashboard:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\n        }\n        \n        .edugame-cards-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 1.25rem;\n        }\n        \n        .edugame-game-card {\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(10px);\n          border-radius: 20px;\n          padding: 2rem 1.5rem;\n          cursor: pointer;\n          transition: all 0.4s ease;\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\n          border: 2px solid transparent;\n        }\n        \n        .edugame-game-card:hover {\n          transform: translateY(-8px) scale(1.02);\n          box-shadow: 0 16px 40px rgba(0, 0, 0, 0.2);\n          border-color: white;\n        }\n        \n        .edugame-card-icon {\n          font-size: 4rem;\n          text-align: center;\n          margin-bottom: 1rem;\n          filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n        }\n        \n        .edugame-card-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          text-align: center;\n          margin-bottom: 0.5rem;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n        }\n        \n        .edugame-card-desc {\n          text-align: center;\n          color: #64748b;\n          font-size: 0.95rem;\n          font-weight: 500;\n        }\n        \n        .edugame-activity-container {\n          background: rgba(255, 255, 255, 0.98);\n          backdrop-filter: blur(10px);\n          border-radius: 24px;\n          padding: 1.5rem;\n          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);\n          max-width: 900px;\n          margin: 0 auto;\n        }\n        \n        .edugame-back-button {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          background: transparent;\n          border: none;\n          color: #64748b;\n          font-size: 0.95rem;\n          font-weight: 600;\n          cursor: pointer;\n          margin-bottom: 1.5rem;\n          padding: 0.5rem;\n          border-radius: 8px;\n          transition: all 0.3s ease;\n        }\n        \n        .edugame-back-button:hover {\n          background: rgba(100, 116, 139, 0.1);\n          color: #334155;\n        }\n        \n        .edugame-activity-header {\n          font-size: 2rem;\n          font-weight: 800;\n          text-align: center;\n          margin-bottom: 1.5rem;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n        }\n        \n        .edugame-settings-group {\n          margin-bottom: 1.5rem;\n        }\n        \n        .edugame-setting-label {\n          display: block;\n          font-size: 1.05rem;\n          font-weight: 700;\n          color: #334155;\n          margin-bottom: 0.75rem;\n        }\n        \n        .edugame-select-input,\n        .edugame-range-input {\n          width: 100%;\n          padding: 0.875rem;\n          border: 2px solid #e2e8f0;\n          border-radius: 12px;\n          font-size: 1rem;\n          transition: all 0.3s ease;\n          background: white;\n        }\n        \n        .edugame-select-input:focus {\n          outline: none;\n          border-color: #667eea;\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n        }\n        \n        .edugame-range-input {\n          padding: 0.5rem 0;\n          accent-color: #667eea;\n        }\n        \n        .edugame-btn-primary,\n        .edugame-btn-success,\n        .edugame-btn-warning,\n        .edugame-btn-secondary {\n          width: 100%;\n          padding: 1rem;\n          border-radius: 14px;\n          font-size: 1.05rem;\n          font-weight: 700;\n          border: none;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.75rem;\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);\n        }\n        \n        .edugame-btn-primary {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n        }\n        \n        .edugame-btn-success {\n          background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);\n          color: white;\n        }\n        \n        .edugame-btn-warning {\n          background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n          color: white;\n        }\n        \n        .edugame-btn-secondary {\n          background: linear-gradient(135deg, #868f96 0%, #596164 100%);\n          color: white;\n        }\n        \n        .edugame-btn-primary:hover,\n        .edugame-btn-success:hover,\n        .edugame-btn-warning:hover,\n        .edugame-btn-secondary:hover {\n          transform: translateY(-3px);\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\n        }\n        \n        .edugame-gameplay-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 1.5rem;\n          flex-wrap: wrap;\n          gap: 1rem;\n        }\n        \n        .edugame-gameplay-title {\n          font-size: 1.75rem;\n          font-weight: 800;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n        }\n        \n        .edugame-timer-display {\n          font-size: 1.5rem;\n          font-weight: 800;\n          padding: 0.5rem 1.25rem;\n          border-radius: 12px;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n        }\n        \n        .edugame-timer-critical {\n          background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);\n          animation: edugame-pulse 1s infinite;\n        }\n        \n        @keyframes edugame-pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.05); }\n        }\n        \n        .edugame-questions-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 1rem;\n          margin-bottom: 1.5rem;\n        }\n        \n        .edugame-question-row {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n            min-width: 0; /* Allow shrinking */\n\n        }\n        \n        .edugame-question-text {\n          font-size: 1.1rem;\n          font-weight: 700;\n          color: #334155;\n          min-width: 120px;\n           flex-shrink: 0; /* Don't shrink the question */\n  white-space: nowrap;\n        }\n\n        @media (max-width: 639px) {\n  .edugame-question-text {\n    min-width: 90px;\n    font-size: 0.95rem;\n  }\n  \n  .edugame-answer-input {\n    padding: 0.625rem;\n    font-size: 0.95rem;\n  }\n  \n  .edugame-questions-grid {\n    gap: 0.75rem;\n  }\n}\n        \n        .edugame-answer-input {\n          flex: 1;\n            min-width: 0; /* Critical: allows input to shrink */\n\n          padding: 0.875rem;\n          border: 2px solid #e2e8f0;\n          border-radius: 12px;\n          font-size: 1rem;\n          transition: all 0.3s ease;\n        }\n        \n        .edugame-answer-input:focus {\n          outline: none;\n          border-color: #667eea;\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n        }\n        \n        .edugame-result-panel {\n          text-align: center;\n          margin-bottom: 1.5rem;\n          padding: 2rem 1.5rem;\n          border-radius: 20px;\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n        }\n        \n        .edugame-result-success {\n          background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);\n        }\n        \n        .edugame-result-failure {\n          background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);\n        }\n        \n        .edugame-result-emoji {\n          font-size: 4rem;\n          margin-bottom: 1rem;\n          filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n        }\n        \n        .edugame-result-status {\n          font-size: 1.75rem;\n          font-weight: 800;\n          color: #334155;\n          margin-bottom: 0.75rem;\n        }\n        \n        .edugame-result-stats {\n          font-size: 1.25rem;\n          color: #475569;\n          font-weight: 600;\n          margin-bottom: 0.5rem;\n        }\n        \n        .edugame-result-score {\n          font-size: 1.1rem;\n          color: #64748b;\n          font-weight: 600;\n        }\n        \n        .edugame-answers-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 0.875rem;\n          margin-bottom: 1.5rem;\n        }\n        \n        .edugame-answer-item {\n          padding: 1rem;\n          border-radius: 12px;\n          border: 2px solid;\n          transition: all 0.3s ease;\n        }\n        \n        .edugame-answer-correct {\n          background: rgba(209, 250, 229, 0.5);\n          border-color: #10b981;\n        }\n        \n        .edugame-answer-incorrect {\n          background: rgba(254, 226, 226, 0.5);\n          border-color: #ef4444;\n        }\n        \n        .edugame-answer-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 0.25rem;\n        }\n        \n        .edugame-answer-equation {\n          font-weight: 600;\n          color: #334155;\n        }\n        \n        .edugame-answer-detail {\n          font-size: 0.9rem;\n          color: #64748b;\n        }\n        \n        .edugame-action-buttons {\n          display: flex;\n          gap: 1rem;\n          flex-wrap: wrap;\n        }\n        \n        .edugame-action-buttons > button {\n          flex: 1;\n          min-width: 140px;\n        }\n        \n        .edugame-canvas-wrapper {\n          margin-bottom: 1.5rem;\n          text-align: center;\n        }\n        \n        .edugame-canvas-hint {\n          margin-bottom: 1rem;\n          font-size: 1rem;\n          color: #64748b;\n          font-weight: 600;\n        }\n        \n        .edugame-drawing-canvas {\n          border: 4px solid #e2e8f0;\n          border-radius: 16px;\n          cursor: crosshair;\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n          background: white;\n          max-width: 100%;\n          height: auto;\n        }\n        \n        .edugame-result-perfect {\n          background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);\n        }\n        \n        .edugame-result-good {\n          background: linear-gradient(135deg, #fff1b8 0%, #f9d976 100%);\n        }\n        \n        .edugame-result-try {\n          background: linear-gradient(135deg, #ffdde1 0%, #ee9ca7 100%);\n        }\n        \n        .edugame-pattern-instruction {\n          text-align: center;\n          margin-bottom: 1.5rem;\n        }\n        \n        .edugame-pattern-name {\n          font-size: 1.5rem;\n          font-weight: 800;\n          margin-bottom: 0.75rem;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n        }\n        \n        .edugame-pattern-hint {\n          color: #64748b;\n          font-size: 1rem;\n          font-weight: 600;\n        }\n        \n        .edugame-comparison-grid {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 1.5rem;\n          margin-bottom: 1.5rem;\n        }\n        \n        .edugame-comparison-item {\n          text-align: center;\n        }\n        \n        .edugame-comparison-label {\n          font-size: 1.1rem;\n          font-weight: 700;\n          color: #334155;\n          margin-bottom: 0.75rem;\n        }\n        \n        .edugame-comparison-canvas {\n          border: 4px solid;\n          border-radius: 16px;\n          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n          max-width: 100%;\n          height: auto;\n        }\n        \n        .edugame-canvas-original {\n          border-color: #667eea;\n        }\n        \n        .edugame-canvas-user {\n          border-color: #56ab2f;\n        }\n        \n        @media (min-width: 640px) {\n          .edugame-title-main {\n            font-size: 2.5rem;\n          }\n          \n          .edugame-header-bar {\n            flex-direction: row;\n            justify-content: space-between;\n            align-items: center;\n          }\n          \n          .edugame-header-actions {\n            justify-content: flex-end;\n          }\n          \n          .edugame-cards-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n          \n          .edugame-questions-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n          \n          .edugame-answers-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n          \n          .edugame-comparison-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n        }\n        \n        @media (min-width: 1024px) {\n          .edugame-cards-grid {\n            grid-template-columns: repeat(3, 1fr);\n          }\n          \n          .edugame-activity-container {\n            padding: 2.5rem;\n          }\n        }\n\n        @media (max-width: 639px) {\n  .edugame-drawing-canvas {\n    width: 100% !important;\n    height: auto !important;\n    aspect-ratio: 1;\n  }\n  \n  .edugame-comparison-canvas {\n    width: 100% !important;\n    height: auto !important;\n    aspect-ratio: 1;\n  }\n  \n  .edugame-answer-input,\n  .edugame-select-input {\n    font-size: 16px !important; /* Prevents zoom on iOS */\n  }\n  \n  .edugame-canvas-wrapper {\n    overflow-x: auto;\n  }\n  \n  .edugame-title-main {\n    font-size: 1.5rem;\n  }\n  \n  .edugame-activity-header {\n    font-size: 1.5rem;\n  }\n}\n\n/* Prevent text selection while drawing */\n.edugame-drawing-canvas {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-touch-callout: none;\n}\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 3\n  }, this);\n};\n_s(ThreeGames, \"8R5sWsng0yfo/rTVzUngoTtitUk=\", false, function () {\n  return [useNavigate];\n});\n_c = ThreeGames;\nconst GameMenu = ({\n  setCurrentGame,\n  navigate,\n  userId\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-menu-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-header-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"edugame-title-main\",\n        children: \"Educational Games\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-header-actions\",\n        children: [userId ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-sync-indicator\",\n          children: \"\\u2713 Data syncing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/login'),\n          className: \"edugame-btn-login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"edugame-btn-dashboard\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1013,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1005,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-cards-grid\",\n      children: [/*#__PURE__*/_jsxDEV(GameCard, {\n        title: \"Table Game\",\n        description: \"Practice multiplication tables\",\n        icon: \"\\uD83D\\uDCCA\",\n        onClick: () => setCurrentGame('table')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1036,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GameCard, {\n        title: \"Circle Accuracy\",\n        description: \"Draw perfect circles\",\n        icon: \"\\u2B55\",\n        onClick: () => setCurrentGame('circle')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1043,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GameCard, {\n        title: \"Pattern Matching\",\n        description: \"Replicate patterns on grid\",\n        icon: \"\\uD83C\\uDFA8\",\n        onClick: () => setCurrentGame('pattern')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1050,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1035,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1004,\n    columnNumber: 5\n  }, this);\n};\n_c2 = GameMenu;\nconst GameCard = ({\n  title,\n  description,\n  icon,\n  onClick\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: \"edugame-game-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-card-icon\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"edugame-card-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1065,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"edugame-card-desc\",\n      children: description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1063,\n    columnNumber: 5\n  }, this);\n};\n_c3 = GameCard;\nconst TableGame = ({\n  setCurrentGame,\n  updatePerformanceData\n}) => {\n  _s2();\n  const [gameState, setGameState] = useState('setup');\n  const [difficulty, setDifficulty] = useState('single');\n  const [totalTime, setTotalTime] = useState(60);\n  const [currentNumber, setCurrentNumber] = useState(null);\n  const [userAnswers, setUserAnswers] = useState(Array(10).fill(''));\n  const [timeLeft, setTimeLeft] = useState(60);\n  const [result, setResult] = useState(null);\n  useEffect(() => {\n    if (gameState === 'playing' && timeLeft > 0) {\n      const timer = setInterval(() => {\n        setTimeLeft(prev => {\n          if (prev <= 1) {\n            clearInterval(timer);\n            checkAnswers();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [gameState, timeLeft]);\n  const startGame = () => {\n    let num;\n    if (difficulty === 'single') num = Math.floor(Math.random() * 9) + 1; // 1-9\n    else if (difficulty === 'double') num = Math.floor(Math.random() * 90) + 10; // 10-99\n    else if (difficulty === 'triple') num = Math.floor(Math.random() * 900) + 100; // 100-999\n    else if (difficulty === 'four') num = Math.floor(Math.random() * 9000) + 1000; // 1000-9999\n    else if (difficulty === 'five') num = Math.floor(Math.random() * 90000) + 10000; // 10000-99999\n\n    setCurrentNumber(num);\n    setTimeLeft(totalTime);\n    setUserAnswers(Array(10).fill(''));\n    setGameState('playing');\n    setResult(null);\n  };\n  const checkAnswers = () => {\n    const correctAnswers = Array(10).fill(0).map((_, i) => currentNumber * (i + 1));\n    const userNumAnswers = userAnswers.map(ans => parseInt(ans) || 0);\n    const correctCount = userNumAnswers.filter((ans, idx) => ans === correctAnswers[idx]).length;\n    const accuracy = correctCount / 10 * 100;\n    const isCorrect = accuracy >= 80;\n    const score = isCorrect ? 2 : -1;\n    setResult({\n      correct: isCorrect,\n      accuracy: accuracy.toFixed(1),\n      correctAnswers,\n      correctCount,\n      score\n    });\n    updatePerformanceData('tableGame', isCorrect, score, {\n      difficulty,\n      speed: totalTime,\n      count: 10,\n      totalQuestions: 10,\n      correctAnswers: correctCount,\n      accuracy: accuracy.toFixed(1) + '%',\n      maxScore: 2\n    });\n    setGameState('result');\n  };\n  const handleAnswerChange = (index, value) => {\n    const newAnswers = [...userAnswers];\n    newAnswers[index] = value;\n    setUserAnswers(newAnswers);\n  };\n  if (gameState === 'setup') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-activity-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentGame('menu'),\n        className: \"edugame-back-button\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1151,\n          columnNumber: 11\n        }, this), \" Back to Menu\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avc-logo-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: bdaLogo,\n          alt: \"BDA Abacus Classes Logo\",\n          className: \"avc-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"edugame-activity-header\",\n        children: \"Table Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-settings-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"edugame-setting-label\",\n          children: \"Difficulty Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: difficulty,\n          onChange: e => setDifficulty(e.target.value),\n          className: \"edugame-select-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"single\",\n            children: \"Single Digit (1-9)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"double\",\n            children: \"Double Digit (10-99)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"triple\",\n            children: \"Triple Digit (100-999)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"four\",\n            children: \"4 Digits (1,000-9,999)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"five\",\n            children: \"5 Digits (10,000-99,999)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-settings-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"edugame-setting-label\",\n          children: [\"Time Limit: \", totalTime, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"30\",\n          max: \"180\",\n          step: \"10\",\n          value: totalTime,\n          onChange: e => setTotalTime(parseInt(e.target.value)),\n          className: \"edugame-range-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startGame,\n        className: \"edugame-btn-primary\",\n        children: [/*#__PURE__*/_jsxDEV(Play, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1181,\n          columnNumber: 11\n        }, this), \" Start Game\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1149,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameState === 'playing') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-activity-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-gameplay-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"edugame-gameplay-title\",\n          children: [\"Table of \", currentNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `edugame-timer-display ${timeLeft <= 10 ? 'edugame-timer-critical' : ''}`,\n          children: [timeLeft, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-questions-grid\",\n        children: Array(10).fill(0).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-question-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"edugame-question-text\",\n            children: [currentNumber, \" \\xD7 \", i + 1, \" =\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: userAnswers[i],\n            onChange: e => handleAnswerChange(i, e.target.value),\n            className: \"edugame-answer-input\",\n            style: {\n              minWidth: 0\n            } // This fixes overflow\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1201,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1199,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: checkAnswers,\n        className: \"edugame-btn-success\",\n        children: \"Submit Answers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1189,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameState === 'result') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-activity-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"edugame-activity-header\",\n        children: \"Your Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `edugame-result-panel ${result.correct ? 'edugame-result-success' : 'edugame-result-failure'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-emoji\",\n          children: result.correct ? 'ðŸŽ‰' : 'ðŸ˜¢'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-status\",\n          children: result.correct ? 'Excellent Work!' : 'Keep Practicing!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-stats\",\n          children: [\"Accuracy: \", result.accuracy, \"% (\", result.correctCount, \"/10)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-score\",\n          children: [\"Score: \", result.score > 0 ? '+' : '', result.score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-answers-grid\",\n        children: Array(10).fill(0).map((_, i) => {\n          const isCorrect = parseInt(userAnswers[i]) === result.correctAnswers[i];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `edugame-answer-item ${isCorrect ? 'edugame-answer-correct' : 'edugame-answer-incorrect'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edugame-answer-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"edugame-answer-equation\",\n                children: [currentNumber, \" \\xD7 \", i + 1, \" = \", result.correctAnswers[i]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 19\n              }, this), isCorrect ? /*#__PURE__*/_jsxDEV(Check, {\n                className: \"text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 32\n              }, this) : /*#__PURE__*/_jsxDEV(X, {\n                className: \"text-red-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 71\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1237,\n              columnNumber: 17\n            }, this), !isCorrect && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edugame-answer-detail\",\n              children: [\"Your answer: \", userAnswers[i] || 'None']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 32\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setGameState('setup'),\n          className: \"edugame-btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1249,\n            columnNumber: 13\n          }, this), \" Play Again\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentGame('menu'),\n          className: \"edugame-btn-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(Home, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 13\n          }, this), \" Main Menu\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 7\n    }, this);\n  }\n};\n_s2(TableGame, \"lwqXQwF3GBcd+1UJZYTv/Rnmnz4=\");\n_c4 = TableGame;\nconst CircleGame = ({\n  setCurrentGame,\n  updatePerformanceData\n}) => {\n  _s3();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [points, setPoints] = useState([]);\n  const [result, setResult] = useState(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'white';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n  }, []);\n  const startDrawing = e => {\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    setPoints([{\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    }]);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const stopDrawing = () => {\n    if (isDrawing && points.length > 10) calculateCircleAccuracy();\n    setIsDrawing(false);\n  };\n  const calculateCircleAccuracy = () => {\n    if (points.length < 10) return;\n    const centerX = points.reduce((sum, p) => sum + p.x, 0) / points.length;\n    const centerY = points.reduce((sum, p) => sum + p.y, 0) / points.length;\n    const radii = points.map(p => Math.sqrt(Math.pow(p.x - centerX, 2) + Math.pow(p.y - centerY, 2)));\n    const avgRadius = radii.reduce((sum, r) => sum + r, 0) / radii.length;\n    const variance = radii.reduce((sum, r) => sum + Math.pow(r - avgRadius, 2), 0) / radii.length;\n    const stdDev = Math.sqrt(variance);\n    const accuracy = Math.max(0, Math.min(100, 100 - stdDev / avgRadius * 100));\n    const isCorrect = accuracy >= 70;\n    const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\n    setResult({\n      accuracy: accuracy.toFixed(1),\n      perfect: accuracy >= 90,\n      good: accuracy >= 70,\n      correct: isCorrect,\n      score,\n      centerX,\n      centerY,\n      avgRadius\n    });\n    updatePerformanceData('circleAccuracy', isCorrect, score, {\n      difficulty: 'N/A',\n      totalQuestions: 1,\n      correctAnswers: isCorrect ? 1 : 0,\n      accuracy: accuracy.toFixed(1) + '%',\n      maxScore: 2\n    });\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\n    ctx.lineWidth = 2;\n    ctx.setLineDash([5, 5]);\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, avgRadius, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.setLineDash([]);\n  };\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    setPoints([]);\n    setResult(null);\n  };\n  const handleTouchStart = e => {\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    setPoints([{\n      x,\n      y\n    }]);\n  };\n  const handleTouchMove = e => {\n    if (!isDrawing) return;\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const handleTouchEnd = () => {\n    if (isDrawing && points.length > 10) calculateCircleAccuracy();\n    setIsDrawing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-activity-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentGame('menu'),\n      className: \"edugame-back-button\",\n      children: [/*#__PURE__*/_jsxDEV(Home, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1407,\n        columnNumber: 9\n      }, this), \" Back to Menu\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1406,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avc-logo-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: bdaLogo,\n        alt: \"BDA Abacus Classes Logo\",\n        className: \"avc-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1411,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1410,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"edugame-activity-header\",\n      children: \"Circle Accuracy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1418,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-canvas-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-canvas-hint\",\n        children: \"Draw a perfect circle!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 600,\n        height: 600,\n        onMouseDown: startDrawing,\n        onMouseMove: draw,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        className: \"edugame-drawing-canvas\",\n        style: {\n          touchAction: 'none',\n          maxWidth: '100%',\n          height: 'auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1422,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1420,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-emoji\",\n        children: result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1440,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-status\",\n        children: [\"Accuracy: \", result.accuracy, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1441,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-stats\",\n        children: result.perfect ? 'Perfect Circle!' : result.good ? 'Good Job!' : 'Keep Trying!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1442,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-score\",\n        children: [\"Score: \", result.score > 0 ? '+' : '', result.score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1443,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1439,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearCanvas,\n        className: \"edugame-btn-warning\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1449,\n          columnNumber: 11\n        }, this), \" Clear Canvas\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1448,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentGame('menu'),\n        className: \"edugame-btn-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1452,\n          columnNumber: 11\n        }, this), \" Main Menu\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1451,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1447,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1405,\n    columnNumber: 5\n  }, this);\n};\n// UPDATED PATTERN GAME - Dot to Dot Connection with Live Preview\n// UPDATED PATTERN GAME - Dot to Dot Connection with Live Preview\n_s3(CircleGame, \"ECPsUqnnavICBLl41PKngcQCY18=\");\n_c5 = CircleGame;\nconst PatternGame = ({\n  setCurrentGame,\n  updatePerformanceData\n}) => {\n  _s4();\n  const canvasRef = useRef(null);\n  const [gameState, setGameState] = useState('setup');\n  const [timeLimit, setTimeLimit] = useState(60);\n  const [timeLeft, setTimeLeft] = useState(60);\n  const [currentPattern, setCurrentPattern] = useState(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [startDot, setStartDot] = useState(null);\n  const [currentMousePos, setCurrentMousePos] = useState(null);\n  const [drawnLines, setDrawnLines] = useState([]);\n  const [result, setResult] = useState(null);\n  const patterns = [{\n    name: 'Stairs',\n    lines: [[1, 5, 1, 3], [1, 3, 3, 3], [3, 3, 3, 1], [3, 1, 5, 1]]\n  }, {\n    name: 'House',\n    lines: [[2, 1, 4, 3], [4, 3, 4, 5], [4, 5, 2, 5], [2, 5, 2, 3], [2, 3, 2, 1]]\n  }, {\n    name: 'Arrow',\n    lines: [[3, 1, 1, 3], [3, 1, 5, 3], [3, 1, 3, 5]]\n  }, {\n    name: 'Star',\n    lines: [[3, 1, 2, 5], [3, 1, 4, 5], [1, 2, 5, 2], [1, 4, 5, 4], [2, 2, 4, 4], [2, 4, 4, 2]]\n  }, {\n    name: 'Triangle',\n    lines: [[3, 1, 1, 5], [3, 1, 5, 5], [1, 5, 5, 5]]\n  }, {\n    name: 'Diamond',\n    lines: [[3, 1, 1, 3], [1, 3, 3, 5], [3, 5, 5, 3], [5, 3, 3, 1]]\n  }, {\n    name: 'Cross',\n    lines: [[3, 1, 3, 5], [1, 3, 5, 3]]\n  }, {\n    name: 'Rectangle',\n    lines: [[1, 1, 5, 1], [5, 1, 5, 5], [5, 5, 1, 5], [1, 5, 1, 1]]\n  }, {\n    name: 'Lightning',\n    lines: [[2, 1, 3, 2], [3, 2, 2, 3], [2, 3, 3, 4], [3, 4, 2, 5]]\n  }, {\n    name: 'Flag',\n    lines: [[1, 1, 1, 5], [1, 1, 4, 2], [4, 2, 1, 3]]\n  }, {\n    name: 'Pentagon',\n    lines: [[3, 1, 1, 2], [1, 2, 1, 4], [1, 4, 3, 5], [3, 5, 5, 4], [5, 4, 5, 2], [5, 2, 3, 1]]\n  }];\n  useEffect(() => {\n    if (gameState === 'playing' && timeLeft > 0) {\n      const timer = setInterval(() => {\n        setTimeLeft(prev => {\n          if (prev <= 1) {\n            clearInterval(timer);\n            checkPattern();\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n      return () => clearInterval(timer);\n    }\n  }, [gameState, timeLeft]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas && currentPattern) {\n      drawGrid(canvas);\n      if (gameState === 'setup') drawPattern(canvas, currentPattern.lines);\n    }\n  }, [currentPattern, gameState]);\n\n  // Redraw canvas when drawing or mouse moves\n  useEffect(() => {\n    if (gameState === 'playing') {\n      const canvas = canvasRef.current;\n      if (canvas) {\n        redrawCanvas();\n      }\n    }\n  }, [drawnLines, isDrawing, startDot, currentMousePos, gameState]);\n  const drawGrid = canvas => {\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    const cellSize = canvas.width / 6;\n\n    // Draw dots\n    for (let i = 0; i < 6; i++) {\n      for (let j = 0; j < 6; j++) {\n        ctx.fillStyle = '#94A3B8';\n        ctx.beginPath();\n        ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 6, 0, 2 * Math.PI);\n        ctx.fill();\n      }\n    }\n    // Add touch support for mobile devices\n    const handleTouchStart = e => {\n      if (gameState !== 'playing') return;\n      e.preventDefault();\n      const canvas = canvasRef.current;\n      const rect = canvas.getBoundingClientRect();\n      const touch = e.touches[0];\n      const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n      const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n      const dot = getNearestDot(x, y, canvas);\n      setStartDot(dot);\n      setIsDrawing(true);\n      setCurrentMousePos({\n        x,\n        y\n      });\n    };\n    const handleTouchMove = e => {\n      if (!isDrawing || gameState !== 'playing') return;\n      e.preventDefault();\n      const canvas = canvasRef.current;\n      const rect = canvas.getBoundingClientRect();\n      const touch = e.touches[0];\n      const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n      const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n      const nearestDot = getNearestDot(x, y, canvas);\n      const dotPos = getDotPosition(nearestDot, canvas);\n      setCurrentMousePos(dotPos);\n    };\n    const handleTouchEnd = e => {\n      if (!isDrawing || !startDot || gameState !== 'playing') return;\n      e.preventDefault();\n      const canvas = canvasRef.current;\n      const rect = canvas.getBoundingClientRect();\n      const touch = e.changedTouches[0];\n      const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n      const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n      const endDot = getNearestDot(x, y, canvas);\n      if (startDot.col !== endDot.col || startDot.row !== endDot.row) {\n        const newLine = [startDot.col, startDot.row, endDot.col, endDot.row];\n        setDrawnLines([...drawnLines, newLine]);\n      }\n      setIsDrawing(false);\n      setStartDot(null);\n      setCurrentMousePos(null);\n    };\n    {/* <canvas\r\n      ref={canvasRef}\r\n      width={400}\r\n      height={400}\r\n      onMouseDown={handleMouseDown}\r\n      onMouseMove={handleMouseMove}\r\n      onMouseUp={handleMouseUp}\r\n      onMouseLeave={handleMouseUp}\r\n      onTouchStart={handleTouchStart}\r\n      onTouchMove={handleTouchMove}\r\n      onTouchEnd={handleTouchEnd}\r\n      className=\"edugame-drawing-canvas\"\r\n      style={{ touchAction: 'none', maxWidth: '100%', height: 'auto' }}\r\n     /> */}\n\n    // Update the canvas in playing state to include touch events:\n    // Replace the canvas element in 'playing' state with this:\n    /*\r\n    <canvas\r\n      ref={canvasRef}\r\n      width={400}\r\n      height={400}\r\n      onMouseDown={handleMouseDown}\r\n      onMouseMove={handleMouseMove}\r\n      onMouseUp={handleMouseUp}\r\n      onMouseLeave={handleMouseUp}\r\n      onTouchStart={handleTouchStart}\r\n      onTouchMove={handleTouchMove}\r\n      onTouchEnd={handleTouchEnd}\r\n      className=\"edugame-drawing-canvas\"\r\n      style={{ touchAction: 'none' }}\r\n    />\r\n    */\n  };\n  const drawPattern = (canvas, lines, color = '#667eea') => {\n    const ctx = canvas.getContext('2d');\n    const cellSize = canvas.width / 6;\n    ctx.strokeStyle = color;\n    ctx.lineWidth = 4;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    lines.forEach(([x1, y1, x2, y2]) => {\n      ctx.beginPath();\n      ctx.moveTo(cellSize * (x1 + 0.5), cellSize * (y1 + 0.5));\n      ctx.lineTo(cellSize * (x2 + 0.5), cellSize * (y2 + 0.5));\n      ctx.stroke();\n    });\n  };\n  const redrawCanvas = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const cellSize = canvas.width / 6;\n\n    // Clear and draw grid\n    drawGrid(canvas);\n\n    // Draw completed lines\n    if (drawnLines.length > 0) {\n      drawPattern(canvas, drawnLines, '#56ab2f');\n    }\n\n    // Draw preview line while dragging\n    if (isDrawing && startDot && currentMousePos) {\n      ctx.strokeStyle = 'rgba(102, 126, 234, 0.6)';\n      ctx.lineWidth = 4;\n      ctx.lineCap = 'round';\n      ctx.setLineDash([8, 4]); // Dashed line for preview\n\n      ctx.beginPath();\n      ctx.moveTo(cellSize * (startDot.col + 0.5), cellSize * (startDot.row + 0.5));\n      ctx.lineTo(currentMousePos.x, currentMousePos.y);\n      ctx.stroke();\n      ctx.setLineDash([]); // Reset dash\n    }\n\n    // Highlight start dot when dragging\n    if (isDrawing && startDot) {\n      ctx.fillStyle = '#667eea';\n      ctx.beginPath();\n      ctx.arc(cellSize * (startDot.col + 0.5), cellSize * (startDot.row + 0.5), 10, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n  };\n  const startGame = () => {\n    setTimeLeft(timeLimit);\n    setGameState('playing');\n    setDrawnLines([]);\n    setResult(null);\n  };\n  const getNearestDot = (x, y, canvas) => {\n    const cellSize = canvas.width / 6;\n\n    // Find the closest dot by checking distance to all dots\n    let minDistance = Infinity;\n    let nearestDot = {\n      col: 0,\n      row: 0\n    };\n    for (let col = 0; col < 6; col++) {\n      for (let row = 0; row < 6; row++) {\n        const dotX = cellSize * (col + 0.5);\n        const dotY = cellSize * (row + 0.5);\n        const distance = Math.sqrt(Math.pow(x - dotX, 2) + Math.pow(y - dotY, 2));\n        if (distance < minDistance) {\n          minDistance = distance;\n          nearestDot = {\n            col,\n            row\n          };\n        }\n      }\n    }\n    return nearestDot;\n  };\n  const getDotPosition = (dot, canvas) => {\n    const cellSize = canvas.width / 6;\n    return {\n      x: cellSize * (dot.col + 0.5),\n      y: cellSize * (dot.row + 0.5)\n    };\n  };\n  const handleMouseDown = e => {\n    if (gameState !== 'playing') return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const dot = getNearestDot(x, y, canvas);\n    setStartDot(dot);\n    setIsDrawing(true);\n    setCurrentMousePos({\n      x,\n      y\n    });\n  };\n  const handleMouseMove = e => {\n    if (!isDrawing || gameState !== 'playing') return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // Find nearest dot and snap preview to it\n    const nearestDot = getNearestDot(x, y, canvas);\n    const dotPos = getDotPosition(nearestDot, canvas);\n    setCurrentMousePos(dotPos); // Snap to nearest dot position\n  };\n  const handleMouseUp = e => {\n    if (!isDrawing || !startDot || gameState !== 'playing') return;\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const endDot = getNearestDot(x, y, canvas);\n\n    // Only draw if it's a different dot\n    if (startDot.col !== endDot.col || startDot.row !== endDot.row) {\n      const newLine = [startDot.col, startDot.row, endDot.col, endDot.row];\n      setDrawnLines([...drawnLines, newLine]);\n    }\n    setIsDrawing(false);\n    setStartDot(null);\n    setCurrentMousePos(null);\n  };\n  const checkPattern = () => {\n    if (!currentPattern) return;\n    const normalizeLine = line => {\n      const [x1, y1, x2, y2] = line;\n      return x1 > x2 || x1 === x2 && y1 > y2 ? [x2, y2, x1, y1] : line;\n    };\n    const normalizedPattern = currentPattern.lines.map(normalizeLine).sort().map(l => l.join(','));\n    const normalizedDrawn = drawnLines.map(normalizeLine).sort().map(l => l.join(','));\n    const matchedLines = normalizedDrawn.filter(line => normalizedPattern.includes(line)).length;\n    const accuracy = matchedLines / normalizedPattern.length * 100;\n    const isCorrect = accuracy >= 80;\n    const score = isCorrect ? 2 : -1;\n    setResult({\n      accuracy: accuracy.toFixed(1),\n      correct: isCorrect,\n      matchedLines,\n      totalLines: normalizedPattern.length,\n      score\n    });\n    updatePerformanceData('patternMatching', isCorrect, score, {\n      difficulty: currentPattern.name,\n      speed: timeLimit,\n      count: currentPattern.lines.length,\n      totalQuestions: currentPattern.lines.length,\n      correctAnswers: matchedLines,\n      accuracy: accuracy.toFixed(1) + '%',\n      maxScore: 2\n    });\n    setGameState('result');\n  };\n  const handleTouchStart = e => {\n    if (gameState !== 'playing') return;\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    const dot = getNearestDot(x, y, canvas);\n    setStartDot(dot);\n    setIsDrawing(true);\n    setCurrentMousePos({\n      x,\n      y\n    });\n  };\n  const handleTouchMove = e => {\n    if (!isDrawing || gameState !== 'playing') return;\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    const nearestDot = getNearestDot(x, y, canvas);\n    const dotPos = getDotPosition(nearestDot, canvas);\n    setCurrentMousePos(dotPos);\n  };\n  const handleTouchEnd = e => {\n    if (!isDrawing || !startDot || gameState !== 'playing') return;\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.changedTouches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    const endDot = getNearestDot(x, y, canvas);\n    if (startDot.col !== endDot.col || startDot.row !== endDot.row) {\n      const newLine = [startDot.col, startDot.row, endDot.col, endDot.row];\n      setDrawnLines([...drawnLines, newLine]);\n    }\n    setIsDrawing(false);\n    setStartDot(null);\n    setCurrentMousePos(null);\n  };\n  const clearDrawing = () => {\n    setDrawnLines([]);\n    setIsDrawing(false);\n    setStartDot(null);\n    setCurrentMousePos(null);\n    const canvas = canvasRef.current;\n    if (canvas) drawGrid(canvas);\n  };\n  if (gameState === 'setup') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-activity-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentGame('menu'),\n        className: \"edugame-back-button\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1877,\n          columnNumber: 11\n        }, this), \" Back to Menu\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1876,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avc-logo-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: bdaLogo,\n          alt: \"BDA Abacus Classes Logo\",\n          className: \"avc-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1881,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1880,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"edugame-activity-header\",\n        children: \"Pattern Matching\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1888,\n        columnNumber: 9\n      }, this), !currentPattern ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-settings-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"edugame-setting-label\",\n            children: [\"Time Limit: \", timeLimit, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1893,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"30\",\n            max: \"120\",\n            step: \"10\",\n            value: timeLimit,\n            onChange: e => setTimeLimit(parseInt(e.target.value)),\n            className: \"edugame-range-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1894,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1892,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentPattern(patterns[Math.floor(Math.random() * patterns.length)]),\n          className: \"edugame-btn-primary\",\n          children: \"Show Pattern\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1896,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-pattern-instruction\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"edugame-pattern-name\",\n            children: [\"Memorize: \", currentPattern.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1906,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"edugame-pattern-hint\",\n            children: [\"Connect dots to replicate pattern - \", timeLimit, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1907,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1905,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-canvas-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            width: 400,\n            height: 400,\n            className: \"edugame-drawing-canvas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1910,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1909,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startGame,\n          className: \"edugame-btn-success\",\n          children: [/*#__PURE__*/_jsxDEV(Play, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1913,\n            columnNumber: 15\n          }, this), \" Start Drawing\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1912,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1875,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameState === 'playing') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-activity-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-gameplay-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"edugame-gameplay-title\",\n          children: \"Draw the Pattern\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1925,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `edugame-timer-display ${timeLeft <= 10 ? 'edugame-timer-critical' : ''}`,\n          children: [timeLeft, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1926,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1924,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-canvas-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-canvas-hint\",\n          children: \"Click and drag from dot to dot to connect them\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1932,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: 400,\n          height: 400,\n          onMouseDown: handleMouseDown,\n          onMouseMove: handleMouseMove,\n          onMouseUp: handleMouseUp,\n          onMouseLeave: handleMouseUp,\n          onTouchStart: handleTouchStart,\n          onTouchMove: handleTouchMove,\n          onTouchEnd: handleTouchEnd,\n          className: \"edugame-drawing-canvas\",\n          style: {\n            touchAction: 'none',\n            maxWidth: '100%',\n            height: 'auto'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1933,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1931,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearDrawing,\n          className: \"edugame-btn-warning\",\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1950,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: checkPattern,\n          className: \"edugame-btn-success\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1953,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1949,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1923,\n      columnNumber: 7\n    }, this);\n  }\n  if (gameState === 'result') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-activity-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"edugame-activity-header\",\n        children: \"Your Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1964,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `edugame-result-panel ${result.correct ? 'edugame-result-success' : 'edugame-result-failure'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-emoji\",\n          children: result.correct ? 'ðŸŽ‰' : 'ðŸ˜”'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1967,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-status\",\n          children: result.correct ? 'Well Done!' : 'Keep Trying!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1968,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-stats\",\n          children: [\"Accuracy: \", result.accuracy, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1969,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-stats\",\n          children: [\"Matched \", result.matchedLines, \"/\", result.totalLines, \" lines\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1970,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-result-score\",\n          children: [\"Score: \", result.score > 0 ? '+' : '', result.score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1971,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1966,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-comparison-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-comparison-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"edugame-comparison-label\",\n            children: \"Original\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1976,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvas => {\n              if (canvas && currentPattern) {\n                const ctx = canvas.getContext('2d');\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                const cellSize = canvas.width / 6;\n                ctx.fillStyle = '#94A3B8';\n                for (let i = 0; i < 6; i++) {\n                  for (let j = 0; j < 6; j++) {\n                    ctx.beginPath();\n                    ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 6, 0, 2 * Math.PI);\n                    ctx.fill();\n                  }\n                }\n                ctx.strokeStyle = '#667eea';\n                ctx.lineWidth = 4;\n                ctx.lineCap = 'round';\n                ctx.lineJoin = 'round';\n                currentPattern.lines.forEach(([x1, y1, x2, y2]) => {\n                  ctx.beginPath();\n                  ctx.moveTo(cellSize * (x1 + 0.5), cellSize * (y1 + 0.5));\n                  ctx.lineTo(cellSize * (x2 + 0.5), cellSize * (y2 + 0.5));\n                  ctx.stroke();\n                });\n              }\n            },\n            width: 300,\n            height: 300,\n            className: \"edugame-comparison-canvas edugame-canvas-original\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1977,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1975,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-comparison-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"edugame-comparison-label\",\n            children: \"Your Drawing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2013,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvas => {\n              if (canvas) {\n                const ctx = canvas.getContext('2d');\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                const cellSize = canvas.width / 6;\n                ctx.fillStyle = '#94A3B8';\n                for (let i = 0; i < 6; i++) {\n                  for (let j = 0; j < 6; j++) {\n                    ctx.beginPath();\n                    ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 6, 0, 2 * Math.PI);\n                    ctx.fill();\n                  }\n                }\n                ctx.strokeStyle = '#56ab2f';\n                ctx.lineWidth = 4;\n                ctx.lineCap = 'round';\n                ctx.lineJoin = 'round';\n                drawnLines.forEach(([x1, y1, x2, y2]) => {\n                  ctx.beginPath();\n                  ctx.moveTo(cellSize * (x1 + 0.5), cellSize * (y1 + 0.5));\n                  ctx.lineTo(cellSize * (x2 + 0.5), cellSize * (y2 + 0.5));\n                  ctx.stroke();\n                });\n              }\n            },\n            width: 300,\n            height: 300,\n            className: \"edugame-comparison-canvas edugame-canvas-user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2014,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2012,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1974,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-action-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setGameState('setup');\n            setCurrentPattern(null);\n            setDrawnLines([]);\n            setResult(null);\n          },\n          className: \"edugame-btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2060,\n            columnNumber: 13\n          }, this), \" Play Again\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2051,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentGame('menu'),\n          className: \"edugame-btn-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(Home, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2063,\n            columnNumber: 13\n          }, this), \" Main Menu\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2062,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2050,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1963,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n// NEW SHAPE GAMES MENU\n_s4(PatternGame, \"ps/PXyRnkRnc5pUv0t4RzLZjlZA=\");\n_c6 = PatternGame;\nconst ShapeGamesMenu = ({\n  setCurrentGame\n}) => {\n  const shapeGames = [{\n    id: 'circle',\n    name: 'Circle',\n    icon: 'â­•',\n    color: 'from-blue-400 to-blue-600'\n  }, {\n    id: 'rectangle',\n    name: 'Rectangle',\n    icon: 'â–­',\n    color: 'from-green-400 to-green-600'\n  }, {\n    id: 'square',\n    name: 'Square',\n    icon: 'â—»ï¸',\n    color: 'from-purple-400 to-purple-600'\n  }, {\n    id: 'triangle',\n    name: 'Triangle',\n    icon: 'â–²',\n    color: 'from-orange-400 to-orange-600'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-activity-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentGame('menu'),\n      className: \"edugame-back-button\",\n      children: [/*#__PURE__*/_jsxDEV(Home, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2083,\n        columnNumber: 9\n      }, this), \" Back to Menu\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2082,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"edugame-activity-header\",\n      children: \"Choose Shape to Draw\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2086,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-cards-grid\",\n      style: {\n        gridTemplateColumns: 'repeat(2, 1fr)'\n      },\n      children: shapeGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setCurrentGame(game.id),\n        className: \"edugame-game-card\",\n        style: {\n          minHeight: '180px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-card-icon\",\n          children: game.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2096,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"edugame-card-title\",\n          children: game.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2097,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"edugame-card-desc\",\n          children: [\"Draw a perfect \", game.name.toLowerCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2098,\n          columnNumber: 13\n        }, this)]\n      }, game.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2090,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2088,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2081,\n    columnNumber: 5\n  }, this);\n};\n\n// RECTANGLE GAME\n_c7 = ShapeGamesMenu;\nconst RectangleGame = ({\n  setCurrentGame,\n  updatePerformanceData\n}) => {\n  _s5();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [points, setPoints] = useState([]);\n  const [result, setResult] = useState(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'white';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n  }, []);\n  const startDrawing = e => {\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // Clear canvas\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    setPoints([{\n      x,\n      y\n    }]);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const stopDrawing = () => {\n    if (isDrawing && points.length > 20) calculateRectangleAccuracy();\n    setIsDrawing(false);\n  };\n  const calculateRectangleAccuracy = () => {\n    if (points.length < 20) return;\n\n    // Find bounding box\n    const xs = points.map(p => p.x);\n    const ys = points.map(p => p.y);\n    const minX = Math.min(...xs);\n    const maxX = Math.max(...xs);\n    const minY = Math.min(...ys);\n    const maxY = Math.max(...ys);\n    const width = maxX - minX;\n    const height = maxY - minY;\n\n    // Check if it's rectangular (not square-ish)\n    const aspectRatio = Math.max(width, height) / Math.min(width, height);\n    const isRectangular = aspectRatio >= 1.3; // Should be elongated\n\n    // Calculate how well points follow the rectangle perimeter\n    const corners = [{\n      x: minX,\n      y: minY\n    },\n    // top-left\n    {\n      x: maxX,\n      y: minY\n    },\n    // top-right\n    {\n      x: maxX,\n      y: maxY\n    },\n    // bottom-right\n    {\n      x: minX,\n      y: maxY\n    } // bottom-left\n    ];\n\n    // Check distance from points to nearest rectangle edge\n    let totalDeviation = 0;\n    points.forEach(point => {\n      const distToTop = Math.abs(point.y - minY);\n      const distToBottom = Math.abs(point.y - maxY);\n      const distToLeft = Math.abs(point.x - minX);\n      const distToRight = Math.abs(point.x - maxX);\n      const minDist = Math.min(distToTop, distToBottom, distToLeft, distToRight);\n      totalDeviation += minDist;\n    });\n    const avgDeviation = totalDeviation / points.length;\n    const avgSize = (width + height) / 2;\n    const deviationRatio = avgDeviation / avgSize;\n\n    // Calculate accuracy\n    let accuracy = Math.max(0, Math.min(100, 100 - deviationRatio * 200));\n\n    // Penalty if too square-ish\n    if (!isRectangular) {\n      accuracy = Math.min(accuracy, 60);\n    }\n    const isCorrect = accuracy >= 70;\n    const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\n    setResult({\n      accuracy: accuracy.toFixed(1),\n      perfect: accuracy >= 90,\n      good: accuracy >= 70,\n      correct: isCorrect,\n      score\n    });\n    updatePerformanceData('rectangleAccuracy', isCorrect, score, {\n      difficulty: 'N/A',\n      totalQuestions: 1,\n      correctAnswers: isCorrect ? 1 : 0,\n      accuracy: accuracy.toFixed(1) + '%',\n      maxScore: 2\n    });\n\n    // Draw ideal rectangle overlay\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\n    ctx.lineWidth = 2;\n    ctx.setLineDash([5, 5]);\n    ctx.strokeRect(minX, minY, width, height);\n    ctx.setLineDash([]);\n  };\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    setPoints([]);\n    setResult(null);\n  };\n  const handleTouchStart = e => {\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    setPoints([{\n      x,\n      y\n    }]);\n  };\n  const handleTouchMove = e => {\n    if (!isDrawing) return;\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const handleTouchEnd = () => {\n    if (isDrawing && points.length > 10) calculateRectangleAccuracy();\n    setIsDrawing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-activity-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentGame('shape-menu'),\n      className: \"edugame-back-button\",\n      children: [/*#__PURE__*/_jsxDEV(Home, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2300,\n        columnNumber: 9\n      }, this), \" Back\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avc-logo-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: bdaLogo,\n        alt: \"BDA Abacus Classes Logo\",\n        className: \"avc-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2303,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"edugame-activity-header\",\n      children: \"Rectangle Accuracy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-canvas-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-canvas-hint\",\n        children: \"Draw a perfect rectangle!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 600,\n        height: 600,\n        onMouseDown: startDrawing,\n        onMouseMove: draw,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        className: \"edugame-drawing-canvas\",\n        style: {\n          touchAction: 'none',\n          maxWidth: '100%',\n          height: 'auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2313,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-emoji\",\n        children: result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2344,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-status\",\n        children: [\"Accuracy: \", result.accuracy, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2345,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-stats\",\n        children: result.perfect ? 'Perfect Rectangle!' : result.good ? 'Good Job!' : 'Keep Trying!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2346,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-score\",\n        children: [\"Score: \", result.score > 0 ? '+' : '', result.score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2347,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2343,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearCanvas,\n        className: \"edugame-btn-warning\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2353,\n          columnNumber: 11\n        }, this), \" Clear Canvas\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentGame('shape-menu'),\n        className: \"edugame-btn-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2356,\n          columnNumber: 11\n        }, this), \" Shape Menu\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2355,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2351,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2298,\n    columnNumber: 5\n  }, this);\n};\n\n// SQUARE GAME\n_s5(RectangleGame, \"ECPsUqnnavICBLl41PKngcQCY18=\");\n_c8 = RectangleGame;\nconst SquareGame = ({\n  setCurrentGame,\n  updatePerformanceData\n}) => {\n  _s6();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [points, setPoints] = useState([]);\n  const [result, setResult] = useState(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'white';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n  }, []);\n  const startDrawing = e => {\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    setPoints([{\n      x,\n      y\n    }]);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const stopDrawing = () => {\n    if (isDrawing && points.length > 20) calculateSquareAccuracy();\n    setIsDrawing(false);\n  };\n  const calculateSquareAccuracy = () => {\n    if (points.length < 20) return;\n\n    // Find bounding box\n    const xs = points.map(p => p.x);\n    const ys = points.map(p => p.y);\n    const minX = Math.min(...xs);\n    const maxX = Math.max(...xs);\n    const minY = Math.min(...ys);\n    const maxY = Math.max(...ys);\n    const width = maxX - minX;\n    const height = maxY - minY;\n\n    // Check how close to square (width â‰ˆ height)\n    const difference = Math.abs(width - height);\n    const averageSize = (width + height) / 2;\n    const sizeRatio = difference / averageSize;\n\n    // Calculate how well points follow the square perimeter\n    let totalDeviation = 0;\n    points.forEach(point => {\n      const distToTop = Math.abs(point.y - minY);\n      const distToBottom = Math.abs(point.y - maxY);\n      const distToLeft = Math.abs(point.x - minX);\n      const distToRight = Math.abs(point.x - maxX);\n      const minDist = Math.min(distToTop, distToBottom, distToLeft, distToRight);\n      totalDeviation += minDist;\n    });\n    const avgDeviation = totalDeviation / points.length;\n    const deviationRatio = avgDeviation / averageSize;\n\n    // Calculate accuracy\n    let accuracy = Math.max(0, Math.min(100, 100 - deviationRatio * 200 - sizeRatio * 100));\n    const isCorrect = accuracy >= 70;\n    const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\n    setResult({\n      accuracy: accuracy.toFixed(1),\n      perfect: accuracy >= 90,\n      good: accuracy >= 70,\n      correct: isCorrect,\n      score\n    });\n    updatePerformanceData('squareAccuracy', isCorrect, score, {\n      difficulty: 'N/A',\n      totalQuestions: 1,\n      correctAnswers: isCorrect ? 1 : 0,\n      accuracy: accuracy.toFixed(1) + '%',\n      maxScore: 2\n    });\n\n    // Draw ideal square overlay\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const size = Math.min(width, height);\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\n    ctx.lineWidth = 2;\n    ctx.setLineDash([5, 5]);\n    ctx.strokeRect(minX, minY, size, size);\n    ctx.setLineDash([]);\n  };\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    setPoints([]);\n    setResult(null);\n  };\n  const handleTouchStart = e => {\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    setPoints([{\n      x,\n      y\n    }]);\n  };\n  const handleTouchMove = e => {\n    if (!isDrawing) return;\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const handleTouchEnd = () => {\n    if (isDrawing && points.length > 10) calculateSquareAccuracy();\n    setIsDrawing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-activity-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentGame('shape-menu'),\n      className: \"edugame-back-button\",\n      children: [/*#__PURE__*/_jsxDEV(Home, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2544,\n        columnNumber: 9\n      }, this), \" Back\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2543,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avc-logo-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: bdaLogo,\n        alt: \"BDA Abacus Classes Logo\",\n        className: \"avc-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2548,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2547,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"edugame-activity-header\",\n      children: \"Square Accuracy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2555,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-canvas-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-canvas-hint\",\n        children: \"Draw a perfect square!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2558,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 600,\n        height: 600,\n        onMouseDown: startDrawing,\n        onMouseMove: draw,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        className: \"edugame-drawing-canvas\",\n        style: {\n          touchAction: 'none',\n          maxWidth: '100%',\n          height: 'auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2570,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2557,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-emoji\",\n        children: result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2588,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-status\",\n        children: [\"Accuracy: \", result.accuracy, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2589,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-stats\",\n        children: result.perfect ? 'Perfect Square!' : result.good ? 'Good Job!' : 'Keep Trying!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2590,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-score\",\n        children: [\"Score: \", result.score > 0 ? '+' : '', result.score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2591,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2587,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearCanvas,\n        className: \"edugame-btn-warning\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2597,\n          columnNumber: 11\n        }, this), \" Clear Canvas\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2596,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentGame('shape-menu'),\n        className: \"edugame-btn-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2600,\n          columnNumber: 11\n        }, this), \" Shape Menu\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2599,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2595,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2542,\n    columnNumber: 5\n  }, this);\n};\n\n// TRIANGLE GAME\n_s6(SquareGame, \"ECPsUqnnavICBLl41PKngcQCY18=\");\n_c9 = SquareGame;\nconst TriangleGame = ({\n  setCurrentGame,\n  updatePerformanceData\n}) => {\n  _s7();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [points, setPoints] = useState([]);\n  const [result, setResult] = useState(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'white';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n  }, []);\n  const startDrawing = e => {\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    setPoints([{\n      x,\n      y\n    }]);\n  };\n  const draw = e => {\n    if (!isDrawing) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const stopDrawing = () => {\n    if (isDrawing && points.length > 20) calculateTriangleAccuracy();\n    setIsDrawing(false);\n  };\n  const calculateTriangleAccuracy = () => {\n    if (points.length < 20) return;\n\n    // Find the 3 extreme points (likely triangle corners)\n    const xs = points.map(p => p.x);\n    const ys = points.map(p => p.y);\n\n    // Top point (minimum y)\n    const topIdx = ys.indexOf(Math.min(...ys));\n    const topPoint = points[topIdx];\n\n    // Bottom-left point (minimum x among lower half)\n    const lowerHalf = points.filter(p => p.y > topPoint.y);\n    const leftIdx = lowerHalf.findIndex(p => p.x === Math.min(...lowerHalf.map(pt => pt.x)));\n    const leftPoint = lowerHalf[leftIdx];\n\n    // Bottom-right point (maximum x among lower half)\n    const rightIdx = lowerHalf.findIndex(p => p.x === Math.max(...lowerHalf.map(pt => pt.x)));\n    const rightPoint = lowerHalf[rightIdx];\n\n    // Calculate triangle formed by these 3 points\n    const corners = [topPoint, leftPoint, rightPoint];\n\n    // Calculate side lengths\n    const dist = (p1, p2) => Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n    const side1 = dist(corners[0], corners[1]);\n    const side2 = dist(corners[1], corners[2]);\n    const side3 = dist(corners[2], corners[0]);\n    const sides = [side1, side2, side3].sort((a, b) => a - b);\n\n    // Check if it's a valid triangle\n    const isValidTriangle = sides[0] + sides[1] > sides[2];\n    if (!isValidTriangle) {\n      setResult({\n        accuracy: 0,\n        perfect: false,\n        good: false,\n        correct: false,\n        score: -1\n      });\n      updatePerformanceData('triangleAccuracy', false, -1, {\n        difficulty: 'N/A',\n        totalQuestions: 1,\n        correctAnswers: 0,\n        accuracy: '0%',\n        maxScore: 2\n      });\n      return;\n    }\n\n    // Calculate how well drawn points follow the triangle edges\n    let totalDeviation = 0;\n    points.forEach(point => {\n      // Calculate distance from point to each of the 3 triangle sides\n      const distToSide1 = pointToLineDistance(point, corners[0], corners[1]);\n      const distToSide2 = pointToLineDistance(point, corners[1], corners[2]);\n      const distToSide3 = pointToLineDistance(point, corners[2], corners[0]);\n      const minDist = Math.min(distToSide1, distToSide2, distToSide3);\n      totalDeviation += minDist;\n    });\n    const avgDeviation = totalDeviation / points.length;\n    const avgSideLength = (side1 + side2 + side3) / 3;\n    const deviationRatio = avgDeviation / avgSideLength;\n\n    // Calculate how close to equilateral\n    const avgSide = (side1 + side2 + side3) / 3;\n    const variance = (Math.pow(side1 - avgSide, 2) + Math.pow(side2 - avgSide, 2) + Math.pow(side3 - avgSide, 2)) / 3;\n    const stdDev = Math.sqrt(variance);\n    const symmetryRatio = stdDev / avgSide;\n\n    // Calculate accuracy\n    let accuracy = Math.max(0, Math.min(100, 100 - deviationRatio * 150 - symmetryRatio * 50));\n    const isCorrect = accuracy >= 60;\n    const score = accuracy >= 85 ? 2 : accuracy >= 60 ? 1 : -1;\n    setResult({\n      accuracy: accuracy.toFixed(1),\n      perfect: accuracy >= 85,\n      good: accuracy >= 60,\n      correct: isCorrect,\n      score\n    });\n    updatePerformanceData('triangleAccuracy', isCorrect, score, {\n      difficulty: 'N/A',\n      totalQuestions: 1,\n      correctAnswers: isCorrect ? 1 : 0,\n      accuracy: accuracy.toFixed(1) + '%',\n      maxScore: 2\n    });\n\n    // Draw ideal triangle overlay\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\n    ctx.lineWidth = 2;\n    ctx.setLineDash([5, 5]);\n    ctx.beginPath();\n    ctx.moveTo(corners[0].x, corners[0].y);\n    ctx.lineTo(corners[1].x, corners[1].y);\n    ctx.lineTo(corners[2].x, corners[2].y);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.setLineDash([]);\n  };\n\n  // Helper function: calculate distance from point to line segment\n  const pointToLineDistance = (point, lineStart, lineEnd) => {\n    const A = point.x - lineStart.x;\n    const B = point.y - lineStart.y;\n    const C = lineEnd.x - lineStart.x;\n    const D = lineEnd.y - lineStart.y;\n    const dot = A * C + B * D;\n    const lenSq = C * C + D * D;\n    let param = -1;\n    if (lenSq !== 0) param = dot / lenSq;\n    let xx, yy;\n    if (param < 0) {\n      xx = lineStart.x;\n      yy = lineStart.y;\n    } else if (param > 1) {\n      xx = lineEnd.x;\n      yy = lineEnd.y;\n    } else {\n      xx = lineStart.x + param * C;\n      yy = lineStart.y + param * D;\n    }\n    const dx = point.x - xx;\n    const dy = point.y - yy;\n    return Math.sqrt(dx * dx + dy * dy);\n  };\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    setPoints([]);\n    setResult(null);\n  };\n  const handleTouchStart = e => {\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    setIsDrawing(true);\n    setPoints([]);\n    setResult(null);\n    setPoints([{\n      x,\n      y\n    }]);\n  };\n  const handleTouchMove = e => {\n    if (!isDrawing) return;\n    e.preventDefault();\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const rect = canvas.getBoundingClientRect();\n    const touch = e.touches[0];\n    const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\n    const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\n    ctx.strokeStyle = '#667eea';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    if (points.length > 0) {\n      ctx.beginPath();\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n      ctx.lineTo(x, y);\n      ctx.stroke();\n    }\n    setPoints([...points, {\n      x,\n      y\n    }]);\n  };\n  const handleTouchEnd = () => {\n    if (isDrawing && points.length > 10) calculateTriangleAccuracy();\n    setIsDrawing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-activity-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentGame('shape-menu'),\n      className: \"edugame-back-button\",\n      children: [/*#__PURE__*/_jsxDEV(Home, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2863,\n        columnNumber: 9\n      }, this), \" Back\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2862,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avc-logo-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: bdaLogo,\n        alt: \"BDA Abacus Classes Logo\",\n        className: \"avc-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2867,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2866,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"edugame-activity-header\",\n      children: \"Triangle Accuracy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2874,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-canvas-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-canvas-hint\",\n        children: \"Draw a perfect triangle!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2877,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: 600,\n        height: 600,\n        onMouseDown: startDrawing,\n        onMouseMove: draw,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        onTouchStart: handleTouchStart,\n        onTouchMove: handleTouchMove,\n        onTouchEnd: handleTouchEnd,\n        className: \"edugame-drawing-canvas\",\n        style: {\n          touchAction: 'none',\n          maxWidth: '100%',\n          height: 'auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2889,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2876,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-emoji\",\n        children: result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2907,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-status\",\n        children: [\"Accuracy: \", result.accuracy, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2908,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-stats\",\n        children: result.perfect ? 'Perfect Triangle!' : result.good ? 'Good Job!' : 'Keep Trying!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2909,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-result-score\",\n        children: [\"Score: \", result.score > 0 ? '+' : '', result.score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2910,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2906,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearCanvas,\n        className: \"edugame-btn-warning\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2916,\n          columnNumber: 11\n        }, this), \" Clear Canvas\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2915,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentGame('shape-menu'),\n        className: \"edugame-btn-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(Home, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2919,\n          columnNumber: 11\n        }, this), \" Shape Menu\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2918,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2914,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2861,\n    columnNumber: 5\n  }, this);\n};\n\n// Update the main GameMenu to include shape games option\n_s7(TriangleGame, \"ECPsUqnnavICBLl41PKngcQCY18=\");\n_c10 = TriangleGame;\nconst UpdatedGameMenu = ({\n  setCurrentGame,\n  navigate,\n  userId\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edugame-menu-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-header-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avc-logo-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: bdaLogo,\n          alt: \"BDA Abacus Classes Logo\",\n          className: \"avc-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2933,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2932,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"edugame-title-main\",\n        children: \"Educational Games\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2939,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edugame-header-actions\",\n        children: [userId ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edugame-sync-indicator\",\n          children: \"\\u2713 Data syncing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2942,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/signin'),\n          className: \"edugame-btn-login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2946,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"edugame-btn-dashboard\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2953,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2940,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2930,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edugame-cards-grid\",\n      children: [/*#__PURE__*/_jsxDEV(GameCard, {\n        title: \"Table Game\",\n        description: \"Practice multiplication tables\",\n        icon: \"\\uD83D\\uDCCA\",\n        onClick: () => setCurrentGame('table')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2963,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GameCard, {\n        title: \"Shape Drawing\",\n        description: \"Draw perfect shapes\",\n        icon: \"\\uD83D\\uDD37\",\n        onClick: () => setCurrentGame('shape-menu')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2970,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GameCard, {\n        title: \"Pattern Matching\",\n        description: \"Replicate patterns on grid\",\n        icon: \"\\uD83C\\uDFA8\",\n        onClick: () => setCurrentGame('pattern')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2977,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2962,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2929,\n    columnNumber: 5\n  }, this);\n};\n_c11 = UpdatedGameMenu;\nexport default ThreeGames;\n\n// import React, { useState, useRef, useEffect } from 'react';\n// import { Home, Check, X, RefreshCw, Play } from 'lucide-react';\n// import axios from 'axios';\n// import { useNavigate } from 'react-router-dom';\n\n// const ThreeGames = () => {\n//   const [currentGame, setCurrentGame] = useState('menu');\n//   const [userId, setUserId] = useState(null);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const [performanceData, setPerformanceData] = useState({\n//     totalGames: 0,\n//     totalCorrect: 0,\n//     totalScore: 0,\n//     gameTypes: {},\n//     dailyStats: {},\n//     history: []\n//   });\n\n//   const navigate = useNavigate();\n//   const API_URL = 'http://localhost:5000/api';\n\n//   useEffect(() => {\n//     const token = localStorage.getItem('token');\n//     const deviceId = localStorage.getItem('deviceId');\n\n//     if (token) {\n//       axios.get(`${API_URL}/auth/verify`, {\n//         headers: { \n//           Authorization: `${token}`,\n//           'X-Device-Id': deviceId \n//         }\n//       })\n//       .then(response => {\n//         setUserId(response.data.userId);\n//         fetchUserData(response.data.userId);\n//       })\n//       .catch(err => {\n//         console.error(\"Authentication error:\", err);\n//         localStorage.removeItem('token');\n//         setIsLoading(false);\n//         loadLocalData();\n//       });\n//     } else {\n//       loadLocalData();\n//       setIsLoading(false);\n//     }\n//   }, []);\n\n//   const loadLocalData = () => {\n//     const savedData = localStorage.getItem('threeGamesPerformance');\n//     if (savedData) {\n//       try {\n//         setPerformanceData(JSON.parse(savedData));\n//       } catch (e) {\n//         console.error(\"Error parsing saved performance data\", e);\n//       }\n//     }\n//   };\n\n//   const fetchUserData = (uid) => {\n//     const token = localStorage.getItem('token');\n//     const deviceId = localStorage.getItem('deviceId');\n\n//     setIsLoading(true);\n//     axios.get(`${API_URL}/performance/${uid}`, {\n//       headers: { \n//         Authorization: `${token}`,\n//         'X-Device-Id': deviceId \n//       }\n//     })\n//     .then(response => {\n//       if (response.data) {\n//         setPerformanceData(response.data);\n//       }\n//       setIsLoading(false);\n//     })\n//     .catch(err => {\n//       console.error(\"Error fetching user data:\", err);\n//       setError(\"Could not load your data. Using local data instead.\");\n//       loadLocalData();\n//       setIsLoading(false);\n//     });\n//   };\n\n//   useEffect(() => {\n//     if (isLoading) return;\n\n//     localStorage.setItem('threeGamesPerformance', JSON.stringify(performanceData));\n\n//     const deviceId = localStorage.getItem('deviceId');\n//     if (userId) {\n//       const timerId = setTimeout(() => {\n//         axios.post(`${API_URL}/performance/${userId}`, performanceData, {\n//           headers: { \n//             'Content-Type': 'application/json',\n//             'Authorization': `${localStorage.getItem('token')}`,\n//             'X-Device-Id': deviceId\n//           }\n//         })\n//         .then(response => {\n//           console.log(\"Successfully saved to server:\", response.data);\n//         })\n//         .catch(err => {\n//           console.error(\"Error saving data to server:\", err);\n//         });\n//       }, 2000);\n\n//       return () => clearTimeout(timerId);\n//     }\n//   }, [performanceData, userId, isLoading]);\n\n//   const getCurrentDateString = () => {\n//     const now = new Date();\n//     return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n//   };\n\n//   const updatePerformanceData = (gameType, correct, score, additionalData = {}) => {\n//     const today = getCurrentDateString();\n\n//     setPerformanceData(prevData => {\n//       const newData = JSON.parse(JSON.stringify(prevData));\n\n//       newData.totalGames = (newData.totalGames || 0) + 1;\n//       newData.totalCorrect = (newData.totalCorrect || 0) + (correct ? 1 : 0);\n//       newData.totalScore = (newData.totalScore || 0) + score;\n\n//       if (!newData.gameTypes[gameType]) {\n//         newData.gameTypes[gameType] = {\n//           plays: 0,\n//           correct: 0,\n//           score: 0,\n//           totalQuestions: 0,\n//           correctAnswers: 0\n//         };\n//       }\n//       newData.gameTypes[gameType].plays += 1;\n//       newData.gameTypes[gameType].correct += correct ? 1 : 0;\n//       newData.gameTypes[gameType].score += score;\n//       newData.gameTypes[gameType].totalQuestions += (additionalData.totalQuestions || 1);\n//       newData.gameTypes[gameType].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\n\n//       if (!newData.dailyStats[today]) {\n//         newData.dailyStats[today] = {\n//           plays: 0,\n//           correct: 0,\n//           score: 0,\n//           totalQuestions: 0,\n//           correctAnswers: 0,\n//           gameTypes: {}\n//         };\n//       }\n//       newData.dailyStats[today].plays += 1;\n//       newData.dailyStats[today].correct += correct ? 1 : 0;\n//       newData.dailyStats[today].score += score;\n//       newData.dailyStats[today].totalQuestions += (additionalData.totalQuestions || 1);\n//       newData.dailyStats[today].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\n\n//       if (!newData.dailyStats[today].gameTypes[gameType]) {\n//         newData.dailyStats[today].gameTypes[gameType] = {\n//           plays: 0,\n//           correct: 0,\n//           score: 0,\n//           totalQuestions: 0,\n//           correctAnswers: 0\n//         };\n//       }\n//       newData.dailyStats[today].gameTypes[gameType].plays += 1;\n//       newData.dailyStats[today].gameTypes[gameType].correct += correct ? 1 : 0;\n//       newData.dailyStats[today].gameTypes[gameType].score += score;\n//       newData.dailyStats[today].gameTypes[gameType].totalQuestions += (additionalData.totalQuestions || 1);\n//       newData.dailyStats[today].gameTypes[gameType].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\n\n//       newData.history = newData.history || [];\n//       newData.history.unshift({\n//         date: today,\n//         timestamp: new Date().toISOString(),\n//         gameType,\n//         difficulty: additionalData.difficulty || 'N/A',\n//         speed: additionalData.speed || 0,\n//         count: additionalData.count || 1,\n//         correct,\n//         score,\n//         maxScore: additionalData.maxScore || score,\n//         totalQuestions: additionalData.totalQuestions || 1,\n//         correctAnswers: additionalData.correctAnswers || (correct ? 1 : 0),\n//         accuracy: additionalData.accuracy || (correct ? '100%' : '0%'),\n//         userId\n//       });\n\n//       if (newData.history.length > 100) {\n//         newData.history = newData.history.slice(0, 100);\n//       }\n\n//       return newData;\n//     });\n//   };\n\n//   if (isLoading) {\n//     return (\n//       <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center\">\n//         <div className=\"text-2xl font-bold text-gray-700\">Loading...</div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4\">\n//       {error && (\n//         <div className=\"max-w-4xl mx-auto mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n//           {error}\n//           <button onClick={() => setError(null)} className=\"float-right font-bold\">Ã—</button>\n//         </div>\n//       )}\n\n//       {currentGame === 'menu' && <GameMenu setCurrentGame={setCurrentGame} navigate={navigate} userId={userId} />}\n//       {currentGame === 'table' && <TableGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\n//       {currentGame === 'circle' && <CircleGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\n//       {currentGame === 'pattern' && <PatternGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\n//     </div>\n//   );\n// };\n\n// const GameMenu = ({ setCurrentGame, navigate, userId }) => {\n//   return (\n//     <div className=\"max-w-4xl mx-auto\">\n//       <div className=\"flex justify-between items-center mb-8\">\n//         <h1 className=\"text-4xl font-bold text-gray-800\">Educational Games</h1>\n//         <div className=\"flex gap-4\">\n//           {userId ? (\n//             <div className=\"text-sm text-green-600 flex items-center gap-2\">\n//               âœ“ Data syncing\n//             </div>\n//           ) : (\n//             <button\n//               onClick={() => navigate('/login')}\n//               className=\"bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 text-sm\"\n//             >\n//               Login\n//             </button>\n//           )}\n//           <button\n//             onClick={() => navigate('/')}\n//             className=\"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 text-sm\"\n//           >\n//             Dashboard\n//           </button>\n//         </div>\n//       </div>\n\n//       <div className=\"grid md:grid-cols-3 gap-6\">\n//         <GameCard\n//           title=\"Table Game\"\n//           description=\"Practice multiplication tables\"\n//           icon=\"ðŸ“Š\"\n//           onClick={() => setCurrentGame('table')}\n//           color=\"from-blue-400 to-blue-600\"\n//         />\n\n//         <GameCard\n//           title=\"Circle Accuracy\"\n//           description=\"Draw perfect circles\"\n//           icon=\"â­•\"\n//           onClick={() => setCurrentGame('circle')}\n//           color=\"from-green-400 to-green-600\"\n//         />\n\n//         <GameCard\n//           title=\"Pattern Matching\"\n//           description=\"Replicate patterns on grid\"\n//           icon=\"ðŸŽ¨\"\n//           onClick={() => setCurrentGame('pattern')}\n//           color=\"from-purple-400 to-purple-600\"\n//         />\n//       </div>\n//     </div>\n//   );\n// };\n\n// const GameCard = ({ title, description, icon, onClick, color }) => {\n//   return (\n//     <div\n//       onClick={onClick}\n//       className={`bg-gradient-to-br ${color} rounded-xl p-6 cursor-pointer transform transition hover:scale-105 hover:shadow-xl text-white`}\n//     >\n//       <div className=\"text-6xl mb-4 text-center\">{icon}</div>\n//       <h3 className=\"text-2xl font-bold mb-2 text-center\">{title}</h3>\n//       <p className=\"text-center text-white/90\">{description}</p>\n//     </div>\n//   );\n// };\n\n// // TABLE GAME\n// const TableGame = ({ setCurrentGame, updatePerformanceData }) => {\n//   const [gameState, setGameState] = useState('setup');\n//   const [difficulty, setDifficulty] = useState('single');\n//   const [totalTime, setTotalTime] = useState(60);\n//   const [currentNumber, setCurrentNumber] = useState(null);\n//   const [userAnswers, setUserAnswers] = useState(Array(10).fill(''));\n//   const [timeLeft, setTimeLeft] = useState(60);\n//   const [result, setResult] = useState(null);\n\n//   useEffect(() => {\n//     if (gameState === 'playing' && timeLeft > 0) {\n//       const timer = setInterval(() => {\n//         setTimeLeft(prev => {\n//           if (prev <= 1) {\n//             clearInterval(timer);\n//             checkAnswers();\n//             return 0;\n//           }\n//           return prev - 1;\n//         });\n//       }, 1000);\n//       return () => clearInterval(timer);\n//     }\n//   }, [gameState, timeLeft]);\n\n//   const startGame = () => {\n//     let num;\n//     if (difficulty === 'single') num = Math.floor(Math.random() * 9) + 1;\n//     else if (difficulty === 'double') num = Math.floor(Math.random() * 90) + 10;\n//     else num = Math.floor(Math.random() * 900) + 100;\n\n//     setCurrentNumber(num);\n//     setTimeLeft(totalTime);\n//     setUserAnswers(Array(10).fill(''));\n//     setGameState('playing');\n//     setResult(null);\n//   };\n\n//   const checkAnswers = () => {\n//     const correctAnswers = Array(10).fill(0).map((_, i) => currentNumber * (i + 1));\n//     const userNumAnswers = userAnswers.map(ans => parseInt(ans) || 0);\n\n//     const correctCount = userNumAnswers.filter((ans, idx) => ans === correctAnswers[idx]).length;\n//     const accuracy = (correctCount / 10) * 100;\n//     const isCorrect = accuracy >= 80;\n//     const score = isCorrect ? 2 : -1;\n\n//     setResult({\n//       correct: isCorrect,\n//       accuracy: accuracy.toFixed(1),\n//       correctAnswers,\n//       correctCount,\n//       score\n//     });\n\n//     updatePerformanceData('tableGame', isCorrect, score, {\n//       difficulty,\n//       speed: totalTime,\n//       count: 10,\n//       totalQuestions: 10,\n//       correctAnswers: correctCount,\n//       accuracy: accuracy.toFixed(1) + '%',\n//       maxScore: 2\n//     });\n\n//     setGameState('result');\n//   };\n\n//   const handleAnswerChange = (index, value) => {\n//     const newAnswers = [...userAnswers];\n//     newAnswers[index] = value;\n//     setUserAnswers(newAnswers);\n//   };\n\n//   if (gameState === 'setup') {\n//     return (\n//       <div className=\"max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8\">\n//         <button onClick={() => setCurrentGame('menu')} className=\"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-800\">\n//           <Home size={20} /> Back\n//         </button>\n\n//         <h2 className=\"text-3xl font-bold mb-6 text-center text-gray-800\">Table Game</h2>\n\n//         <div className=\"space-y-6\">\n//           <div>\n//             <label className=\"block text-lg font-semibold mb-2\">Difficulty:</label>\n//             <select value={difficulty} onChange={(e) => setDifficulty(e.target.value)} className=\"w-full p-3 border-2 rounded-lg\">\n//               <option value=\"single\">Single (1-9)</option>\n//               <option value=\"double\">Double (10-99)</option>\n//               <option value=\"triple\">Triple (100-999)</option>\n//             </select>\n//           </div>\n\n//           <div>\n//             <label className=\"block text-lg font-semibold mb-2\">Time: {totalTime}s</label>\n//             <input type=\"range\" min=\"30\" max=\"180\" step=\"10\" value={totalTime} onChange={(e) => setTotalTime(parseInt(e.target.value))} className=\"w-full\" />\n//           </div>\n\n//           <button onClick={startGame} className=\"w-full bg-blue-500 text-white py-4 rounded-lg font-bold hover:bg-blue-600 flex items-center justify-center gap-2\">\n//             <Play size={24} /> Start\n//           </button>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   if (gameState === 'playing') {\n//     return (\n//       <div className=\"max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8\">\n//         <div className=\"mb-6 flex justify-between items-center\">\n//           <h2 className=\"text-3xl font-bold\">Table of {currentNumber}</h2>\n//           <div className={`text-2xl font-bold ${timeLeft <= 10 ? 'text-red-600' : 'text-blue-600'}`}>\n//             {timeLeft}s\n//           </div>\n//         </div>\n\n//         <div className=\"grid grid-cols-2 gap-4 mb-6\">\n//           {Array(10).fill(0).map((_, i) => (\n//             <div key={i} className=\"flex items-center gap-3\">\n//               <span className=\"text-xl font-semibold w-32\">{currentNumber} Ã— {i + 1} =</span>\n//               <input\n//                 type=\"number\"\n//                 value={userAnswers[i]}\n//                 onChange={(e) => handleAnswerChange(i, e.target.value)}\n//                 className=\"flex-1 p-3 border-2 rounded-lg\"\n//               />\n//             </div>\n//           ))}\n//         </div>\n\n//         <button onClick={checkAnswers} className=\"w-full bg-green-500 text-white py-4 rounded-lg font-bold hover:bg-green-600\">\n//           Submit\n//         </button>\n//       </div>\n//     );\n//   }\n\n//   if (gameState === 'result') {\n//     return (\n//       <div className=\"max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8\">\n//         <h2 className=\"text-3xl font-bold mb-6 text-center\">Results</h2>\n\n//         <div className={`text-center mb-6 p-6 rounded-lg ${result.correct ? 'bg-green-100' : 'bg-red-100'}`}>\n//           <div className=\"text-6xl mb-4\">{result.correct ? 'ðŸŽ‰' : 'ðŸ˜”'}</div>\n//           <div className=\"text-2xl font-bold mb-2\">{result.correct ? 'Excellent!' : 'Keep Practicing!'}</div>\n//           <div className=\"text-xl\">Accuracy: {result.accuracy}% ({result.correctCount}/10)</div>\n//           <div className=\"text-lg mt-2\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\n//         </div>\n\n//         <div className=\"grid grid-cols-2 gap-4 mb-6\">\n//           {Array(10).fill(0).map((_, i) => {\n//             const isCorrect = parseInt(userAnswers[i]) === result.correctAnswers[i];\n//             return (\n//               <div key={i} className={`p-3 rounded-lg ${isCorrect ? 'bg-green-50 border-2 border-green-500' : 'bg-red-50 border-2 border-red-500'}`}>\n//                 <div className=\"flex justify-between\">\n//                   <span>{currentNumber} Ã— {i + 1} = {result.correctAnswers[i]}</span>\n//                   {isCorrect ? <Check className=\"text-green-600\" /> : <X className=\"text-red-600\" />}\n//                 </div>\n//                 {!isCorrect && <div className=\"text-sm text-gray-600\">Your: {userAnswers[i] || 'None'}</div>}\n//               </div>\n//             );\n//           })}\n//         </div>\n\n//         <div className=\"flex gap-4\">\n//           <button onClick={() => setGameState('setup')} className=\"flex-1 bg-blue-500 text-white py-4 rounded-lg font-bold hover:bg-blue-600 flex items-center justify-center gap-2\">\n//             <RefreshCw size={24} /> Again\n//           </button>\n//           <button onClick={() => setCurrentGame('menu')} className=\"flex-1 bg-gray-500 text-white py-4 rounded-lg font-bold hover:bg-gray-600 flex items-center justify-center gap-2\">\n//             <Home size={24} /> Menu\n//           </button>\n//         </div>\n//       </div>\n//     );\n//   }\n// };\n\n// // CIRCLE GAME\n// const CircleGame = ({ setCurrentGame, updatePerformanceData }) => {\n//   const canvasRef = useRef(null);\n//   const [isDrawing, setIsDrawing] = useState(false);\n//   const [points, setPoints] = useState([]);\n//   const [result, setResult] = useState(null);\n\n//   useEffect(() => {\n//     const canvas = canvasRef.current;\n//     if (canvas) {\n//       const ctx = canvas.getContext('2d');\n//       ctx.fillStyle = 'white';\n//       ctx.fillRect(0, 0, canvas.width, canvas.height);\n//     }\n//   }, []);\n\n//   const startDrawing = (e) => {\n//     setIsDrawing(true);\n//     setPoints([]);\n//     setResult(null);\n//     const canvas = canvasRef.current;\n//     const rect = canvas.getBoundingClientRect();\n//     setPoints([{ x: e.clientX - rect.left, y: e.clientY - rect.top }]);\n//   };\n\n//   const draw = (e) => {\n//     if (!isDrawing) return;\n//     const canvas = canvasRef.current;\n//     const ctx = canvas.getContext('2d');\n//     const rect = canvas.getBoundingClientRect();\n//     const x = e.clientX - rect.left;\n//     const y = e.clientY - rect.top;\n\n//     ctx.strokeStyle = '#3B82F6';\n//     ctx.lineWidth = 3;\n//     ctx.lineCap = 'round';\n\n//     if (points.length > 0) {\n//       ctx.beginPath();\n//       ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\n//       ctx.lineTo(x, y);\n//       ctx.stroke();\n//     }\n//     setPoints([...points, { x, y }]);\n//   };\n\n//   const stopDrawing = () => {\n//     if (isDrawing && points.length > 10) calculateCircleAccuracy();\n//     setIsDrawing(false);\n//   };\n\n//   const calculateCircleAccuracy = () => {\n//     if (points.length < 10) return;\n\n//     const centerX = points.reduce((sum, p) => sum + p.x, 0) / points.length;\n//     const centerY = points.reduce((sum, p) => sum + p.y, 0) / points.length;\n//     const radii = points.map(p => Math.sqrt(Math.pow(p.x - centerX, 2) + Math.pow(p.y - centerY, 2)));\n//     const avgRadius = radii.reduce((sum, r) => sum + r, 0) / radii.length;\n//     const variance = radii.reduce((sum, r) => sum + Math.pow(r - avgRadius, 2), 0) / radii.length;\n//     const stdDev = Math.sqrt(variance);\n//     const accuracy = Math.max(0, Math.min(100, 100 - (stdDev / avgRadius) * 100));\n//     const isCorrect = accuracy >= 70;\n//     const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\n\n//     setResult({\n//       accuracy: accuracy.toFixed(1),\n//       perfect: accuracy >= 90,\n//       good: accuracy >= 70,\n//       correct: isCorrect,\n//       score,\n//       centerX,\n//       centerY,\n//       avgRadius\n//     });\n\n//     updatePerformanceData('circleAccuracy', isCorrect, score, {\n//       difficulty: 'N/A',\n//       totalQuestions: 1,\n//       correctAnswers: isCorrect ? 1 : 0,\n//       accuracy: accuracy.toFixed(1) + '%',\n//       maxScore: 2\n//     });\n\n//     const canvas = canvasRef.current;\n//     const ctx = canvas.getContext('2d');\n//     ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\n//     ctx.lineWidth = 2;\n//     ctx.setLineDash([5, 5]);\n//     ctx.beginPath();\n//     ctx.arc(centerX, centerY, avgRadius, 0, 2 * Math.PI);\n//     ctx.stroke();\n//     ctx.setLineDash([]);\n//   };\n\n//   const clearCanvas = () => {\n//     const canvas = canvasRef.current;\n//     const ctx = canvas.getContext('2d');\n//     ctx.fillStyle = 'white';\n//     ctx.fillRect(0, 0, canvas.width, canvas.height);\n//     setPoints([]);\n//     setResult(null);\n//   };\n\n//   return (\n//     <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\n//       <button onClick={() => setCurrentGame('menu')} className=\"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-800\">\n//         <Home size={20} /> Back\n//       </button>\n\n//       <h2 className=\"text-3xl font-bold mb-6 text-center\">Circle Accuracy</h2>\n//       <div className=\"mb-6 text-center text-gray-600\">Draw a perfect circle!</div>\n\n//       <canvas\n//         ref={canvasRef}\n//         width={600}\n//         height={600}\n//         onMouseDown={startDrawing}\n//         onMouseMove={draw}\n//         onMouseUp={stopDrawing}\n//         onMouseLeave={stopDrawing}\n//         className=\"border-4 border-gray-300 rounded-lg cursor-crosshair mx-auto block bg-white mb-6\"\n//       />\n\n//       {result && (\n//         <div className={`mb-6 p-6 rounded-lg text-center ${result.perfect ? 'bg-green-100' : result.good ? 'bg-yellow-100' : 'bg-orange-100'}`}>\n//           <div className=\"text-5xl mb-3\">{result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'}</div>\n//           <div className=\"text-2xl font-bold mb-2\">Accuracy: {result.accuracy}%</div>\n//           <div className=\"text-lg\">{result.perfect ? 'Perfect!' : result.good ? 'Good!' : 'Keep Trying!'}</div>\n//           <div className=\"text-lg mt-2\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\n//         </div>\n//       )}\n\n//       <div className=\"flex gap-4\">\n//         <button onClick={clearCanvas} className=\"flex-1 bg-orange-500 text-white py-4 rounded-lg font-bold hover:bg-orange-600 flex items-center justify-center gap-2\">\n//           <RefreshCw size={24} /> Clear\n//         </button>\n//         <button onClick={() => setCurrentGame('menu')} className=\"flex-1 bg-gray-500 text-white py-4 rounded-lg font-bold hover:bg-gray-600 flex items-center justify-center gap-2\">\n//           <Home size={24} /> Menu\n//         </button>\n//       </div>\n//     </div>\n//   );\n// };\n\n// // PATTERN GAME\n// const PatternGame = ({ setCurrentGame, updatePerformanceData }) => {\n//   const canvasRef = useRef(null);\n//   const [gameState, setGameState] = useState('setup');\n//   const [timeLimit, setTimeLimit] = useState(60);\n//   const [timeLeft, setTimeLeft] = useState(60);\n//   const [currentPattern, setCurrentPattern] = useState(null);\n//   const [isDrawing, setIsDrawing] = useState(false);\n//   const [lastPoint, setLastPoint] = useState(null);\n//   const [drawnLines, setDrawnLines] = useState([]);\n//   const [result, setResult] = useState(null);\n\n//   const patterns = [\n//     { name: 'Stairs', lines: [[1,5,1,3], [1,3,3,3], [3,3,3,1], [3,1,5,1]] },\n//     { name: 'House', lines: [[2,1,4,3], [4,3,4,5], [4,5,2,5], [2,5,2,3], [2,3,2,1]] },\n//     { name: 'Arrow', lines: [[3,1,1,3], [3,1,5,3], [3,1,3,5]] },\n//     { name: 'Star', lines: [[3,1,2,5], [3,1,4,5], [1,2,5,2], [1,4,5,4], [2,2,4,4], [2,4,4,2]] },\n//     { name: 'Triangle', lines: [[3,1,1,5], [3,1,5,5], [1,5,5,5]] },\n//   ];\n\n//   useEffect(() => {\n//     if (gameState === 'playing' && timeLeft > 0) {\n//       const timer = setInterval(() => {\n//         setTimeLeft(prev => {\n//           if (prev <= 1) {\n//             clearInterval(timer);\n//             checkPattern();\n//             return 0;\n//           }\n//           return prev - 1;\n//         });\n//       }, 1000);\n//       return () => clearInterval(timer);\n//     }\n//   }, [gameState, timeLeft]);\n\n//   useEffect(() => {\n//     const canvas = canvasRef.current;\n//     if (canvas && currentPattern) {\n//       drawGrid(canvas);\n//       if (gameState === 'setup') drawPattern(canvas, currentPattern.lines);\n//     }\n//   }, [currentPattern, gameState]);\n\n//   const drawGrid = (canvas) => {\n//     const ctx = canvas.getContext('2d');\n//     ctx.fillStyle = 'white';\n//     ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n//     const cellSize = canvas.width / 6;\n//     ctx.fillStyle = '#CBD5E1';\n//     for (let i = 0; i < 6; i++) {\n//       for (let j = 0; j < 6; j++) {\n//         ctx.beginPath();\n//         ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 4, 0, 2 * Math.PI);\n//         ctx.fill();\n//       }\n//     }\n//   };\n\n//   const drawPattern = (canvas, lines, color = '#3B82F6') => {\n//     const ctx = canvas.getContext('2d');\n//     const cellSize = canvas.width / 6;\n//     ctx.strokeStyle = color;\n//     ctx.lineWidth = 3;\n//     ctx.lineCap = 'round';\n//     lines.forEach(([x1, y1, x2, y2]) => {\n//       ctx.beginPath();\n//       ctx.moveTo(cellSize * x1, cellSize * y1);\n//       ctx.lineTo(cellSize * x2, cellSize * y2);\n//       ctx.stroke();\n//     });\n//   };\n\n//   const startGame = () => {\n//     setTimeLeft(timeLimit);\n//     setGameState('playing');\n//     setDrawnLines([]);\n//     setResult(null);\n//   };\n\n//   const getGridPoint = (x, y, canvas) => {\n//     const cellSize = canvas.width / 6;\n//     return { x: Math.round(x / cellSize), y: Math.round(y / cellSize) };\n//   };\n\n//   const handleMouseDown = (e) => {\n//     if (gameState !== 'playing') return;\n//     const canvas = canvasRef.current;\n//     const rect = canvas.getBoundingClientRect();\n//     const point = getGridPoint(e.clientX - rect.left, e.clientY - rect.top, canvas);\n//     setIsDrawing(true);\n//     setLastPoint(point);\n//   };\n\n//   const handleMouseMove = (e) => {\n//     if (!isDrawing || gameState !== 'playing') return;\n//     const canvas = canvasRef.current;\n//     const rect = canvas.getBoundingClientRect();\n//     const point = getGridPoint(e.clientX - rect.left, e.clientY - rect.top, canvas);\n\n//     if (point.x !== lastPoint.x || point.y !== lastPoint.y) {\n//       const newLines = [...drawnLines, [lastPoint.x, lastPoint.y, point.x, point.y]];\n//       setDrawnLines(newLines);\n//       drawGrid(canvas);\n//       drawPattern(canvas, newLines, '#10B981');\n//       setLastPoint(point);\n//     }\n//   };\n\n//   const handleMouseUp = () => {\n//     setIsDrawing(false);\n//     setLastPoint(null);\n//   };\n\n//   const checkPattern = () => {\n//     if (!currentPattern) return;\n\n//     const normalizeLine = (line) => {\n//       const [x1, y1, x2, y2] = line;\n//       return x1 > x2 || (x1 === x2 && y1 > y2) ? [x2, y2, x1, y1] : line;\n//     };\n\n//     const normalizedPattern = currentPattern.lines.map(normalizeLine).sort().map(l => l.join(','));\n//     const normalizedDrawn = drawnLines.map(normalizeLine).sort().map(l => l.join(','));\n//     const matchedLines = normalizedDrawn.filter(line => normalizedPattern.includes(line)).length;\n//     const accuracy = (matchedLines / normalizedPattern.length) * 100;\n//     const isCorrect = accuracy >= 80;\n//     const score = isCorrect ? 2 : -1;\n\n//     setResult({\n//       accuracy: accuracy.toFixed(1),\n//       correct: isCorrect,\n//       matchedLines,\n//       totalLines: normalizedPattern.length,\n//       score\n//     });\n\n//     updatePerformanceData('patternMatching', isCorrect, score, {\n//       difficulty: currentPattern.name,\n//       speed: timeLimit,\n//       count: currentPattern.lines.length,\n//       totalQuestions: currentPattern.lines.length,\n//       correctAnswers: matchedLines,\n//       accuracy: accuracy.toFixed(1) + '%',\n//       maxScore: 2\n//     });\n\n//     setGameState('result');\n//   };\n\n//   const clearDrawing = () => {\n//     setDrawnLines([]);\n//     const canvas = canvasRef.current;\n//     if (canvas) drawGrid(canvas);\n//   };\n\n//   if (gameState === 'setup') {\n//     return (\n//       <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\n//         <button onClick={() => setCurrentGame('menu')} className=\"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-800\">\n//           <Home size={20} /> Back\n//         </button>\n\n//         <h2 className=\"text-3xl font-bold mb-6 text-center\">Pattern Matching</h2>\n\n//         {!currentPattern ? (\n//           <>\n//             <div className=\"mb-6\">\n//               <label className=\"block text-lg font-semibold mb-2\">Time: {timeLimit}s</label>\n//               <input type=\"range\" min=\"30\" max=\"120\" step=\"10\" value={timeLimit} onChange={(e) => setTimeLimit(parseInt(e.target.value))} className=\"w-full\" />\n//             </div>\n//             <button\n//               onClick={() => setCurrentPattern(patterns[Math.floor(Math.random() * patterns.length)])}\n//               className=\"w-full bg-purple-500 text-white py-4 rounded-lg font-bold hover:bg-purple-600\"\n//             >\n//               Show Pattern\n//             </button>\n//           </>\n//         ) : (\n//           <>\n//             <div className=\"text-center mb-6\">\n//               <h3 className=\"text-2xl font-bold mb-4\">Memorize: {currentPattern.name}</h3>\n//               <p className=\"text-gray-600\">You have {timeLimit}s to replicate it</p>\n//             </div>\n//             <canvas ref={canvasRef} width={400} height={400} className=\"border-4 border-gray-300 rounded-lg mx-auto block mb-6\" />\n//             <button onClick={startGame} className=\"w-full bg-green-500 text-white py-4 rounded-lg font-bold hover:bg-green-600 flex items-center justify-center gap-2\">\n//               <Play size={24} /> Start Drawing\n//             </button>\n//           </>\n//         )}\n//       </div>\n//     );\n//   }\n\n//   if (gameState === 'playing') {\n//     return (\n//       <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\n//         <div className=\"mb-6 flex justify-between items-center\">\n//           <h2 className=\"text-3xl font-bold\">Draw the Pattern</h2>\n//           <div className={`text-2xl font-bold ${timeLeft <= 10 ? 'text-red-600' : 'text-blue-600'}`}>\n//             {timeLeft}s\n//           </div>\n//         </div>\n\n//         <div className=\"text-center mb-4 text-gray-600\">Click and drag to connect dots</div>\n\n//         <canvas\n//           ref={canvasRef}\n//           width={400}\n//           height={400}\n//           onMouseDown={handleMouseDown}\n//           onMouseMove={handleMouseMove}\n//           onMouseUp={handleMouseUp}\n//           onMouseLeave={handleMouseUp}\n//           className=\"border-4 border-gray-300 rounded-lg cursor-crosshair mx-auto block mb-6\"\n//         />\n\n//         <div className=\"flex gap-4\">\n//           <button onClick={clearDrawing} className=\"flex-1 bg-orange-500 text-white py-3 rounded-lg font-bold hover:bg-orange-600\">\n//             Clear\n//           </button>\n//           <button onClick={checkPattern} className=\"flex-1 bg-green-500 text-white py-3 rounded-lg font-bold hover:bg-green-600\">\n//             Submit\n//           </button>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   if (gameState === 'result') {\n//     return (\n//       <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\n//         <h2 className=\"text-3xl font-bold mb-6 text-center\">Results</h2>\n\n//         <div className={`text-center mb-6 p-6 rounded-lg ${result.correct ? 'bg-green-100' : 'bg-red-100'}`}>\n//           <div className=\"text-6xl mb-4\">{result.correct ? 'ðŸŽ‰' : 'ðŸ˜”'}</div>\n//           <div className=\"text-2xl font-bold mb-2\">{result.correct ? 'Well Done!' : 'Keep Trying!'}</div>\n//           <div className=\"text-xl\">Accuracy: {result.accuracy}%</div>\n//           <div className=\"text-lg mt-2\">Matched {result.matchedLines}/{result.totalLines} lines</div>\n//           <div className=\"text-lg mt-2\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\n//         </div>\n\n//         <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\n//           <div>\n//             <h3 className=\"text-xl font-bold mb-3 text-center\">Original</h3>\n//             <canvas\n//               ref={(canvas) => {\n//                 if (canvas && currentPattern) {\n//                   const ctx = canvas.getContext('2d');\n//                   ctx.fillStyle = 'white';\n//                   ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n//                   const cellSize = canvas.width / 6;\n//                   ctx.fillStyle = '#CBD5E1';\n//                   for (let i = 0; i < 6; i++) {\n//                     for (let j = 0; j < 6; j++) {\n//                       ctx.beginPath();\n//                       ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 4, 0, 2 * Math.PI);\n//                       ctx.fill();\n//                     }\n//                   }\n\n//                   ctx.strokeStyle = '#3B82F6';\n//                   ctx.lineWidth = 3;\n//                   ctx.lineCap = 'round';\n//                   currentPattern.lines.forEach(([x1, y1, x2, y2]) => {\n//                     ctx.beginPath();\n//                     ctx.moveTo(cellSize * x1, cellSize * y1);\n//                     ctx.lineTo(cellSize * x2, cellSize * y2);\n//                     ctx.stroke();\n//                   });\n//                 }\n//               }}\n//               width={300}\n//               height={300}\n//               className=\"border-4 border-blue-300 rounded-lg mx-auto\"\n//             />\n//           </div>\n\n//           <div>\n//             <h3 className=\"text-xl font-bold mb-3 text-center\">Your Drawing</h3>\n//             <canvas\n//               ref={(canvas) => {\n//                 if (canvas) {\n//                   const ctx = canvas.getContext('2d');\n//                   ctx.fillStyle = 'white';\n//                   ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n//                   const cellSize = canvas.width / 6;\n//                   ctx.fillStyle = '#CBD5E1';\n//                   for (let i = 0; i < 6; i++) {\n//                     for (let j = 0; j < 6; j++) {\n//                       ctx.beginPath();\n//                       ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 4, 0, 2 * Math.PI);\n//                       ctx.fill();\n//                     }\n//                   }\n\n//                   ctx.strokeStyle = '#10B981';\n//                   ctx.lineWidth = 3;\n//                   ctx.lineCap = 'round';\n//                   drawnLines.forEach(([x1, y1, x2, y2]) => {\n//                     ctx.beginPath();\n//                     ctx.moveTo(cellSize * x1, cellSize * y1);\n//                     ctx.lineTo(cellSize * x2, cellSize * y2);\n//                     ctx.stroke();\n//                   });\n//                 }\n//               }}\n//               width={300}\n//               height={300}\n//               className=\"border-4 border-green-300 rounded-lg mx-auto\"\n//             />\n//           </div>\n//         </div>\n\n//         <div className=\"flex gap-4\">\n//           <button\n//             onClick={() => {\n//               setGameState('setup');\n//               setCurrentPattern(null);\n//               setDrawnLines([]);\n//               setResult(null);\n//             }}\n//             className=\"flex-1 bg-purple-500 text-white py-4 rounded-lg font-bold hover:bg-purple-600 flex items-center justify-center gap-2\"\n//           >\n//             <RefreshCw size={24} /> Again\n//           </button>\n//           <button onClick={() => setCurrentGame('menu')} className=\"flex-1 bg-gray-500 text-white py-4 rounded-lg font-bold hover:bg-gray-600 flex items-center justify-center gap-2\">\n//             <Home size={24} /> Menu\n//           </button>\n//         </div>\n//       </div>\n//     );\n//   }\n// };\n\n// export default ThreeGames;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"ThreeGames\");\n$RefreshReg$(_c2, \"GameMenu\");\n$RefreshReg$(_c3, \"GameCard\");\n$RefreshReg$(_c4, \"TableGame\");\n$RefreshReg$(_c5, \"CircleGame\");\n$RefreshReg$(_c6, \"PatternGame\");\n$RefreshReg$(_c7, \"ShapeGamesMenu\");\n$RefreshReg$(_c8, \"RectangleGame\");\n$RefreshReg$(_c9, \"SquareGame\");\n$RefreshReg$(_c10, \"TriangleGame\");\n$RefreshReg$(_c11, \"UpdatedGameMenu\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Home","Check","X","RefreshCw","Play","axios","useNavigate","bdaLogo","jsxDEV","_jsxDEV","Fragment","_Fragment","ThreeGames","_s","currentGame","setCurrentGame","userId","setUserId","isLoading","setIsLoading","error","setError","performanceData","setPerformanceData","totalGames","totalCorrect","totalScore","gameTypes","dailyStats","history","navigate","API_URL","token","localStorage","getItem","deviceId","get","headers","Authorization","then","response","data","fetchUserData","console","log","catch","err","removeItem","loadLocalData","savedData","JSON","parse","e","uid","setItem","stringify","timerId","setTimeout","post","clearTimeout","PageLoader","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getCurrentDateString","now","Date","getFullYear","String","getMonth","padStart","getDate","updatePerformanceData","gameType","correct","score","additionalData","today","prevData","newData","plays","totalQuestions","correctAnswers","unshift","date","timestamp","toISOString","difficulty","speed","count","maxScore","accuracy","length","slice","onClick","UpdatedGameMenu","TableGame","ShapeGamesMenu","CircleGame","RectangleGame","SquareGame","TriangleGame","PatternGame","_c","GameMenu","GameCard","title","description","icon","_c2","_c3","_s2","gameState","setGameState","setDifficulty","totalTime","setTotalTime","currentNumber","setCurrentNumber","userAnswers","setUserAnswers","Array","fill","timeLeft","setTimeLeft","result","setResult","timer","setInterval","prev","clearInterval","checkAnswers","startGame","num","Math","floor","random","map","_","i","userNumAnswers","ans","parseInt","correctCount","filter","idx","isCorrect","toFixed","handleAnswerChange","index","value","newAnswers","size","src","alt","onChange","target","type","min","max","step","style","minWidth","_c4","_s3","canvasRef","isDrawing","setIsDrawing","points","setPoints","canvas","current","ctx","getContext","fillStyle","fillRect","width","height","startDrawing","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","draw","strokeStyle","lineWidth","lineCap","beginPath","moveTo","lineTo","stroke","stopDrawing","calculateCircleAccuracy","centerX","reduce","sum","p","centerY","radii","sqrt","pow","avgRadius","r","variance","stdDev","perfect","good","setLineDash","arc","PI","clearCanvas","handleTouchStart","preventDefault","touch","touches","handleTouchMove","handleTouchEnd","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","touchAction","maxWidth","_c5","_s4","timeLimit","setTimeLimit","currentPattern","setCurrentPattern","startDot","setStartDot","currentMousePos","setCurrentMousePos","drawnLines","setDrawnLines","patterns","name","lines","checkPattern","drawGrid","drawPattern","redrawCanvas","cellSize","j","dot","getNearestDot","nearestDot","dotPos","getDotPosition","changedTouches","endDot","col","row","newLine","color","lineJoin","forEach","x1","y1","x2","y2","minDistance","Infinity","dotX","dotY","distance","handleMouseDown","handleMouseMove","handleMouseUp","normalizeLine","line","normalizedPattern","sort","l","join","normalizedDrawn","matchedLines","includes","totalLines","clearDrawing","_c6","shapeGames","id","gridTemplateColumns","game","minHeight","toLowerCase","_c7","_s5","calculateRectangleAccuracy","xs","ys","minX","maxX","minY","maxY","aspectRatio","isRectangular","corners","totalDeviation","point","distToTop","abs","distToBottom","distToLeft","distToRight","minDist","avgDeviation","avgSize","deviationRatio","strokeRect","_c8","_s6","calculateSquareAccuracy","difference","averageSize","sizeRatio","_c9","_s7","calculateTriangleAccuracy","topIdx","indexOf","topPoint","lowerHalf","leftIdx","findIndex","pt","leftPoint","rightIdx","rightPoint","dist","p1","p2","side1","side2","side3","sides","a","b","isValidTriangle","distToSide1","pointToLineDistance","distToSide2","distToSide3","avgSideLength","avgSide","symmetryRatio","closePath","lineStart","lineEnd","A","B","C","D","lenSq","param","xx","yy","dx","dy","_c10","_c11","$RefreshReg$"],"sources":["A:/AI_LOGS/hosting_1/GIT_H3/FrontendX/src/components/home/8GP.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Home, Check, X, RefreshCw, Play } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport bdaLogo from '../resources/BDA-avc.png';\r\n\r\nconst ThreeGames = () => {\r\n  const [currentGame, setCurrentGame] = useState('menu');\r\n  const [userId, setUserId] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [performanceData, setPerformanceData] = useState({\r\n    totalGames: 0,\r\n    totalCorrect: 0,\r\n    totalScore: 0,\r\n    gameTypes: {},\r\n    dailyStats: {},\r\n    history: []\r\n  });\r\n  \r\n  const navigate = useNavigate();\r\n  const API_URL = 'http://localhost:5000/api';\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const deviceId = localStorage.getItem('deviceId');\r\n\r\n    if (token) {\r\n      axios.get(`${API_URL}/auth/verify`, {\r\n        headers: { \r\n          Authorization: `${token}`,\r\n          'X-Device-Id': deviceId \r\n        }\r\n      })\r\n      .then(response => {\r\n        setUserId(response.data.userId);\r\n        fetchUserData(response.data.userId);\r\n        console.log(\"User authenticated:\", response.data.userId);\r\n        console.log(\"user\", response.userId)\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Authentication error:\", err);\r\n        localStorage.removeItem('token');\r\n        setIsLoading(false);\r\n        loadLocalData();\r\n      });\r\n    } else {\r\n      loadLocalData();\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n\r\n  const loadLocalData = () => {\r\n    const savedData = localStorage.getItem('threeGamesPerformance');\r\n    if (savedData) {\r\n      try {\r\n        setPerformanceData(JSON.parse(savedData));\r\n      } catch (e) {\r\n        console.error(\"Error parsing saved performance data\", e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchUserData = (uid) => {\r\n    const token = localStorage.getItem('token');\r\n    const deviceId = localStorage.getItem('deviceId');\r\n\r\n    setIsLoading(true);\r\n    axios.get(`${API_URL}/performance/${uid}`, {\r\n      headers: { \r\n        Authorization: `${token}`,\r\n        'X-Device-Id': deviceId \r\n      }\r\n    })\r\n    .then(response => {\r\n      if (response.data) {\r\n        setPerformanceData(response.data);\r\n      }\r\n      setIsLoading(false);\r\n    })\r\n    .catch(err => {\r\n      console.error(\"Error fetching user data:\", err);\r\n      setError(\"Could not load your data. Using local data instead.\");\r\n      loadLocalData();\r\n      setIsLoading(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoading) return;\r\n    \r\n    localStorage.setItem('threeGamesPerformance', JSON.stringify(performanceData));\r\n    \r\n    const deviceId = localStorage.getItem('deviceId');\r\n    if (userId) {\r\n      const timerId = setTimeout(() => {\r\n        axios.post(`${API_URL}/performance/${userId}`, performanceData, {\r\n          headers: { \r\n            'Content-Type': 'application/json',\r\n            'Authorization': `${localStorage.getItem('token')}`,\r\n            'X-Device-Id': deviceId\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log(\"Successfully saved to server:\", response.data);\r\n        })\r\n        .catch(err => {\r\n          console.error(\"Error saving data to server:\", err);\r\n        });\r\n      }, 2000);\r\n      \r\n      return () => clearTimeout(timerId);\r\n    }\r\n  }, [performanceData, userId, isLoading]);\r\n\r\n\r\n\r\n  const PageLoader = ({ message = \"Loading...\" }) => {\r\n  return (\r\n    <div className=\"page-loader-overlay\">\r\n      <div className=\"page-loader-content\">\r\n        <div className=\"page-loader-spinner\">\r\n          <div className=\"spinner-ring\"></div>\r\n          <div className=\"spinner-ring\"></div>\r\n          <div className=\"spinner-ring\"></div>\r\n        </div>\r\n        <div className=\"page-loader-text\">{message}</div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .page-loader-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(102, 126, 234, 0.95);\r\n          backdrop-filter: blur(10px);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 9999;\r\n          animation: page-loader-fadeIn 0.3s ease;\r\n        }\r\n\r\n        @keyframes page-loader-fadeIn {\r\n          from { opacity: 0; }\r\n          to { opacity: 1; }\r\n        }\r\n\r\n        .page-loader-content {\r\n          text-align: center;\r\n        }\r\n\r\n        .page-loader-spinner {\r\n          position: relative;\r\n          width: 80px;\r\n          height: 80px;\r\n          margin: 0 auto 1.5rem;\r\n        }\r\n\r\n        .spinner-ring {\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          border: 4px solid transparent;\r\n          border-top-color: white;\r\n          border-radius: 50%;\r\n          animation: spinner-rotate 1.5s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n        }\r\n\r\n        .spinner-ring:nth-child(1) {\r\n          animation-delay: -0.45s;\r\n        }\r\n\r\n        .spinner-ring:nth-child(2) {\r\n          animation-delay: -0.3s;\r\n          opacity: 0.7;\r\n        }\r\n\r\n        .spinner-ring:nth-child(3) {\r\n          animation-delay: -0.15s;\r\n          opacity: 0.5;\r\n        }\r\n\r\n        @keyframes spinner-rotate {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        .page-loader-text {\r\n          color: white;\r\n          font-size: 1.25rem;\r\n          font-weight: 600;\r\n          letter-spacing: 1px;\r\n          animation: text-pulse 1.5s ease-in-out infinite;\r\n        }\r\n\r\n        @keyframes text-pulse {\r\n          0%, 100% { opacity: 1; }\r\n          50% { opacity: 0.6; }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\n  const getCurrentDateString = () => {\r\n    const now = new Date();\r\n    return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\r\n  };\r\n\r\n  const updatePerformanceData = (gameType, correct, score, additionalData = {}) => {\r\n    const today = getCurrentDateString();\r\n    \r\n    setPerformanceData(prevData => {\r\n      const newData = JSON.parse(JSON.stringify(prevData));\r\n      \r\n      newData.totalGames = (newData.totalGames || 0) + 1;\r\n      newData.totalCorrect = (newData.totalCorrect || 0) + (correct ? 1 : 0);\r\n      newData.totalScore = (newData.totalScore || 0) + score;\r\n      \r\n      if (!newData.gameTypes[gameType]) {\r\n        newData.gameTypes[gameType] = {\r\n          plays: 0,\r\n          correct: 0,\r\n          score: 0,\r\n          totalQuestions: 0,\r\n          correctAnswers: 0\r\n        };\r\n      }\r\n      newData.gameTypes[gameType].plays += 1;\r\n      newData.gameTypes[gameType].correct += correct ? 1 : 0;\r\n      newData.gameTypes[gameType].score += score;\r\n      newData.gameTypes[gameType].totalQuestions += (additionalData.totalQuestions || 1);\r\n      newData.gameTypes[gameType].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\r\n      \r\n      if (!newData.dailyStats[today]) {\r\n        newData.dailyStats[today] = {\r\n          plays: 0,\r\n          correct: 0,\r\n          score: 0,\r\n          totalQuestions: 0,\r\n          correctAnswers: 0,\r\n          gameTypes: {}\r\n        };\r\n      }\r\n      newData.dailyStats[today].plays += 1;\r\n      newData.dailyStats[today].correct += correct ? 1 : 0;\r\n      newData.dailyStats[today].score += score;\r\n      newData.dailyStats[today].totalQuestions += (additionalData.totalQuestions || 1);\r\n      newData.dailyStats[today].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\r\n      \r\n      if (!newData.dailyStats[today].gameTypes[gameType]) {\r\n        newData.dailyStats[today].gameTypes[gameType] = {\r\n          plays: 0,\r\n          correct: 0,\r\n          score: 0,\r\n          totalQuestions: 0,\r\n          correctAnswers: 0\r\n        };\r\n      }\r\n      newData.dailyStats[today].gameTypes[gameType].plays += 1;\r\n      newData.dailyStats[today].gameTypes[gameType].correct += correct ? 1 : 0;\r\n      newData.dailyStats[today].gameTypes[gameType].score += score;\r\n      newData.dailyStats[today].gameTypes[gameType].totalQuestions += (additionalData.totalQuestions || 1);\r\n      newData.dailyStats[today].gameTypes[gameType].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\r\n      \r\n      newData.history = newData.history || [];\r\n      newData.history.unshift({\r\n        date: today,\r\n        timestamp: new Date().toISOString(),\r\n        gameType,\r\n        difficulty: additionalData.difficulty || 'N/A',\r\n        speed: additionalData.speed || 0,\r\n        count: additionalData.count || 1,\r\n        correct,\r\n        score,\r\n        maxScore: additionalData.maxScore || score,\r\n        totalQuestions: additionalData.totalQuestions || 1,\r\n        correctAnswers: additionalData.correctAnswers || (correct ? 1 : 0),\r\n        accuracy: additionalData.accuracy || (correct ? '100%' : '0%'),\r\n        userId\r\n      });\r\n      \r\n      if (newData.history.length > 100) {\r\n        newData.history = newData.history.slice(0, 100);\r\n      }\r\n      \r\n      return newData;\r\n    });\r\n  };\r\n\r\n  // if (isLoading) {\r\n  //   return(\r\n  //     <div className=\"edugame-loader-wrapper\">\r\n  //       <div className=\"edugame-spinner-circle\"></div>\r\n  //       <div className=\"edugame-loading-text\">Loading Your Games...</div>\r\n  //     </div>\r\n  //   );\r\n   \r\n  // }\r\n\r\n  if (isLoading) {\r\n    return <PageLoader message=\"Loading Your Games...\" />;\r\n  }\r\n  \r\nreturn (\r\n  <div className=\"edugame-main-container\">\r\n    {error && (\r\n      <div className=\"edugame-error-banner\">\r\n        <span className=\"edugame-error-message\">{error}</span>\r\n        <button onClick={() => setError(null)} className=\"edugame-error-dismiss\">Ã—</button>\r\n      </div>\r\n    )}\r\n    \r\n    {currentGame === 'menu' && <UpdatedGameMenu setCurrentGame={setCurrentGame} navigate={navigate} userId={userId} />}\r\n    {currentGame === 'table' && <TableGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n    {currentGame === 'shape-menu' && <ShapeGamesMenu setCurrentGame={setCurrentGame} />}\r\n    {currentGame === 'circle' && <CircleGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n    {currentGame === 'rectangle' && <RectangleGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n    {currentGame === 'square' && <SquareGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n    {currentGame === 'triangle' && <TriangleGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n    {currentGame === 'pattern' && <PatternGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n    \r\n      <style>{`\r\n        .edugame-main-container {\r\n          min-height: 100vh;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          padding: 1rem;\r\n        }\r\n        \r\n        .edugame-loader-wrapper {\r\n          min-height: 100vh;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 1.5rem;\r\n        }\r\n        \r\n        .edugame-spinner-circle {\r\n          width: 60px;\r\n          height: 60px;\r\n          border: 4px solid rgba(255, 255, 255, 0.3);\r\n          border-top-color: white;\r\n          border-radius: 50%;\r\n          animation: edugame-spin 1s linear infinite;\r\n        }\r\n        \r\n        @keyframes edugame-spin {\r\n          to { transform: rotate(360deg); }\r\n        }\r\n        \r\n        .edugame-loading-text {\r\n          font-size: 1.25rem;\r\n          font-weight: 600;\r\n          color: white;\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .edugame-error-banner {\r\n          max-width: 90%;\r\n          margin: 0 auto 1rem;\r\n          background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);\r\n          color: white;\r\n          padding: 1rem 1.25rem;\r\n          border-radius: 12px;\r\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n        }\r\n        \r\n        .edugame-error-message {\r\n          font-size: 0.9rem;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .edugame-error-dismiss {\r\n          background: transparent;\r\n          border: none;\r\n          color: white;\r\n          font-size: 1.5rem;\r\n          font-weight: bold;\r\n          cursor: pointer;\r\n          padding: 0 0.5rem;\r\n          transition: transform 0.2s;\r\n        }\r\n        \r\n        .edugame-error-dismiss:hover {\r\n          transform: scale(1.2);\r\n        }\r\n        \r\n        .edugame-menu-wrapper {\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .edugame-header-bar {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 1rem;\r\n          margin-bottom: 2rem;\r\n        }\r\n        \r\n        .edugame-title-main {\r\n          font-size: 1.75rem;\r\n          font-weight: 800;\r\n          color: white;\r\n          text-align: center;\r\n          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .edugame-header-actions {\r\n          display: flex;\r\n          gap: 0.75rem;\r\n          justify-content: center;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .edugame-sync-indicator {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n          background: rgba(255, 255, 255, 0.25);\r\n          backdrop-filter: blur(10px);\r\n          padding: 0.5rem 1rem;\r\n          border-radius: 20px;\r\n          font-size: 0.85rem;\r\n          color: white;\r\n          font-weight: 600;\r\n          border: 1px solid rgba(255, 255, 255, 0.3);\r\n        }\r\n        \r\n        .edugame-btn-login,\r\n        .edugame-btn-dashboard {\r\n          padding: 0.6rem 1.25rem;\r\n          border-radius: 20px;\r\n          font-size: 0.85rem;\r\n          font-weight: 600;\r\n          border: none;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n        }\r\n        \r\n        .edugame-btn-login {\r\n          background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);\r\n          color: white;\r\n        }\r\n        \r\n        .edugame-btn-dashboard {\r\n          background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\r\n          color: white;\r\n        }\r\n        \r\n        .edugame-btn-login:hover,\r\n        .edugame-btn-dashboard:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n        }\r\n        \r\n        .edugame-cards-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr;\r\n          gap: 1.25rem;\r\n        }\r\n        \r\n        .edugame-game-card {\r\n          background: rgba(255, 255, 255, 0.95);\r\n          backdrop-filter: blur(10px);\r\n          border-radius: 20px;\r\n          padding: 2rem 1.5rem;\r\n          cursor: pointer;\r\n          transition: all 0.4s ease;\r\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);\r\n          border: 2px solid transparent;\r\n        }\r\n        \r\n        .edugame-game-card:hover {\r\n          transform: translateY(-8px) scale(1.02);\r\n          box-shadow: 0 16px 40px rgba(0, 0, 0, 0.2);\r\n          border-color: white;\r\n        }\r\n        \r\n        .edugame-card-icon {\r\n          font-size: 4rem;\r\n          text-align: center;\r\n          margin-bottom: 1rem;\r\n          filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\r\n        }\r\n        \r\n        .edugame-card-title {\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          text-align: center;\r\n          margin-bottom: 0.5rem;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          background-clip: text;\r\n        }\r\n        \r\n        .edugame-card-desc {\r\n          text-align: center;\r\n          color: #64748b;\r\n          font-size: 0.95rem;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .edugame-activity-container {\r\n          background: rgba(255, 255, 255, 0.98);\r\n          backdrop-filter: blur(10px);\r\n          border-radius: 24px;\r\n          padding: 1.5rem;\r\n          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);\r\n          max-width: 900px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .edugame-back-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n          background: transparent;\r\n          border: none;\r\n          color: #64748b;\r\n          font-size: 0.95rem;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          margin-bottom: 1.5rem;\r\n          padding: 0.5rem;\r\n          border-radius: 8px;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .edugame-back-button:hover {\r\n          background: rgba(100, 116, 139, 0.1);\r\n          color: #334155;\r\n        }\r\n        \r\n        .edugame-activity-header {\r\n          font-size: 2rem;\r\n          font-weight: 800;\r\n          text-align: center;\r\n          margin-bottom: 1.5rem;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          background-clip: text;\r\n        }\r\n        \r\n        .edugame-settings-group {\r\n          margin-bottom: 1.5rem;\r\n        }\r\n        \r\n        .edugame-setting-label {\r\n          display: block;\r\n          font-size: 1.05rem;\r\n          font-weight: 700;\r\n          color: #334155;\r\n          margin-bottom: 0.75rem;\r\n        }\r\n        \r\n        .edugame-select-input,\r\n        .edugame-range-input {\r\n          width: 100%;\r\n          padding: 0.875rem;\r\n          border: 2px solid #e2e8f0;\r\n          border-radius: 12px;\r\n          font-size: 1rem;\r\n          transition: all 0.3s ease;\r\n          background: white;\r\n        }\r\n        \r\n        .edugame-select-input:focus {\r\n          outline: none;\r\n          border-color: #667eea;\r\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n        }\r\n        \r\n        .edugame-range-input {\r\n          padding: 0.5rem 0;\r\n          accent-color: #667eea;\r\n        }\r\n        \r\n        .edugame-btn-primary,\r\n        .edugame-btn-success,\r\n        .edugame-btn-warning,\r\n        .edugame-btn-secondary {\r\n          width: 100%;\r\n          padding: 1rem;\r\n          border-radius: 14px;\r\n          font-size: 1.05rem;\r\n          font-weight: 700;\r\n          border: none;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 0.75rem;\r\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);\r\n        }\r\n        \r\n        .edugame-btn-primary {\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          color: white;\r\n        }\r\n        \r\n        .edugame-btn-success {\r\n          background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);\r\n          color: white;\r\n        }\r\n        \r\n        .edugame-btn-warning {\r\n          background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\r\n          color: white;\r\n        }\r\n        \r\n        .edugame-btn-secondary {\r\n          background: linear-gradient(135deg, #868f96 0%, #596164 100%);\r\n          color: white;\r\n        }\r\n        \r\n        .edugame-btn-primary:hover,\r\n        .edugame-btn-success:hover,\r\n        .edugame-btn-warning:hover,\r\n        .edugame-btn-secondary:hover {\r\n          transform: translateY(-3px);\r\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\r\n        }\r\n        \r\n        .edugame-gameplay-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 1.5rem;\r\n          flex-wrap: wrap;\r\n          gap: 1rem;\r\n        }\r\n        \r\n        .edugame-gameplay-title {\r\n          font-size: 1.75rem;\r\n          font-weight: 800;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          background-clip: text;\r\n        }\r\n        \r\n        .edugame-timer-display {\r\n          font-size: 1.5rem;\r\n          font-weight: 800;\r\n          padding: 0.5rem 1.25rem;\r\n          border-radius: 12px;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          color: white;\r\n          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\r\n        }\r\n        \r\n        .edugame-timer-critical {\r\n          background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);\r\n          animation: edugame-pulse 1s infinite;\r\n        }\r\n        \r\n        @keyframes edugame-pulse {\r\n          0%, 100% { transform: scale(1); }\r\n          50% { transform: scale(1.05); }\r\n        }\r\n        \r\n        .edugame-questions-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr;\r\n          gap: 1rem;\r\n          margin-bottom: 1.5rem;\r\n        }\r\n        \r\n        .edugame-question-row {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.75rem;\r\n            min-width: 0; /* Allow shrinking */\r\n\r\n        }\r\n        \r\n        .edugame-question-text {\r\n          font-size: 1.1rem;\r\n          font-weight: 700;\r\n          color: #334155;\r\n          min-width: 120px;\r\n           flex-shrink: 0; /* Don't shrink the question */\r\n  white-space: nowrap;\r\n        }\r\n\r\n        @media (max-width: 639px) {\r\n  .edugame-question-text {\r\n    min-width: 90px;\r\n    font-size: 0.95rem;\r\n  }\r\n  \r\n  .edugame-answer-input {\r\n    padding: 0.625rem;\r\n    font-size: 0.95rem;\r\n  }\r\n  \r\n  .edugame-questions-grid {\r\n    gap: 0.75rem;\r\n  }\r\n}\r\n        \r\n        .edugame-answer-input {\r\n          flex: 1;\r\n            min-width: 0; /* Critical: allows input to shrink */\r\n\r\n          padding: 0.875rem;\r\n          border: 2px solid #e2e8f0;\r\n          border-radius: 12px;\r\n          font-size: 1rem;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .edugame-answer-input:focus {\r\n          outline: none;\r\n          border-color: #667eea;\r\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n        }\r\n        \r\n        .edugame-result-panel {\r\n          text-align: center;\r\n          margin-bottom: 1.5rem;\r\n          padding: 2rem 1.5rem;\r\n          border-radius: 20px;\r\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n        }\r\n        \r\n        .edugame-result-success {\r\n          background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);\r\n        }\r\n        \r\n        .edugame-result-failure {\r\n          background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);\r\n        }\r\n        \r\n        .edugame-result-emoji {\r\n          font-size: 4rem;\r\n          margin-bottom: 1rem;\r\n          filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\r\n        }\r\n        \r\n        .edugame-result-status {\r\n          font-size: 1.75rem;\r\n          font-weight: 800;\r\n          color: #334155;\r\n          margin-bottom: 0.75rem;\r\n        }\r\n        \r\n        .edugame-result-stats {\r\n          font-size: 1.25rem;\r\n          color: #475569;\r\n          font-weight: 600;\r\n          margin-bottom: 0.5rem;\r\n        }\r\n        \r\n        .edugame-result-score {\r\n          font-size: 1.1rem;\r\n          color: #64748b;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .edugame-answers-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr;\r\n          gap: 0.875rem;\r\n          margin-bottom: 1.5rem;\r\n        }\r\n        \r\n        .edugame-answer-item {\r\n          padding: 1rem;\r\n          border-radius: 12px;\r\n          border: 2px solid;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .edugame-answer-correct {\r\n          background: rgba(209, 250, 229, 0.5);\r\n          border-color: #10b981;\r\n        }\r\n        \r\n        .edugame-answer-incorrect {\r\n          background: rgba(254, 226, 226, 0.5);\r\n          border-color: #ef4444;\r\n        }\r\n        \r\n        .edugame-answer-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 0.25rem;\r\n        }\r\n        \r\n        .edugame-answer-equation {\r\n          font-weight: 600;\r\n          color: #334155;\r\n        }\r\n        \r\n        .edugame-answer-detail {\r\n          font-size: 0.9rem;\r\n          color: #64748b;\r\n        }\r\n        \r\n        .edugame-action-buttons {\r\n          display: flex;\r\n          gap: 1rem;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .edugame-action-buttons > button {\r\n          flex: 1;\r\n          min-width: 140px;\r\n        }\r\n        \r\n        .edugame-canvas-wrapper {\r\n          margin-bottom: 1.5rem;\r\n          text-align: center;\r\n        }\r\n        \r\n        .edugame-canvas-hint {\r\n          margin-bottom: 1rem;\r\n          font-size: 1rem;\r\n          color: #64748b;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .edugame-drawing-canvas {\r\n          border: 4px solid #e2e8f0;\r\n          border-radius: 16px;\r\n          cursor: crosshair;\r\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n          background: white;\r\n          max-width: 100%;\r\n          height: auto;\r\n        }\r\n        \r\n        .edugame-result-perfect {\r\n          background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);\r\n        }\r\n        \r\n        .edugame-result-good {\r\n          background: linear-gradient(135deg, #fff1b8 0%, #f9d976 100%);\r\n        }\r\n        \r\n        .edugame-result-try {\r\n          background: linear-gradient(135deg, #ffdde1 0%, #ee9ca7 100%);\r\n        }\r\n        \r\n        .edugame-pattern-instruction {\r\n          text-align: center;\r\n          margin-bottom: 1.5rem;\r\n        }\r\n        \r\n        .edugame-pattern-name {\r\n          font-size: 1.5rem;\r\n          font-weight: 800;\r\n          margin-bottom: 0.75rem;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          background-clip: text;\r\n        }\r\n        \r\n        .edugame-pattern-hint {\r\n          color: #64748b;\r\n          font-size: 1rem;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .edugame-comparison-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr;\r\n          gap: 1.5rem;\r\n          margin-bottom: 1.5rem;\r\n        }\r\n        \r\n        .edugame-comparison-item {\r\n          text-align: center;\r\n        }\r\n        \r\n        .edugame-comparison-label {\r\n          font-size: 1.1rem;\r\n          font-weight: 700;\r\n          color: #334155;\r\n          margin-bottom: 0.75rem;\r\n        }\r\n        \r\n        .edugame-comparison-canvas {\r\n          border: 4px solid;\r\n          border-radius: 16px;\r\n          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\r\n          max-width: 100%;\r\n          height: auto;\r\n        }\r\n        \r\n        .edugame-canvas-original {\r\n          border-color: #667eea;\r\n        }\r\n        \r\n        .edugame-canvas-user {\r\n          border-color: #56ab2f;\r\n        }\r\n        \r\n        @media (min-width: 640px) {\r\n          .edugame-title-main {\r\n            font-size: 2.5rem;\r\n          }\r\n          \r\n          .edugame-header-bar {\r\n            flex-direction: row;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n          }\r\n          \r\n          .edugame-header-actions {\r\n            justify-content: flex-end;\r\n          }\r\n          \r\n          .edugame-cards-grid {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n          \r\n          .edugame-questions-grid {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n          \r\n          .edugame-answers-grid {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n          \r\n          .edugame-comparison-grid {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n        }\r\n        \r\n        @media (min-width: 1024px) {\r\n          .edugame-cards-grid {\r\n            grid-template-columns: repeat(3, 1fr);\r\n          }\r\n          \r\n          .edugame-activity-container {\r\n            padding: 2.5rem;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 639px) {\r\n  .edugame-drawing-canvas {\r\n    width: 100% !important;\r\n    height: auto !important;\r\n    aspect-ratio: 1;\r\n  }\r\n  \r\n  .edugame-comparison-canvas {\r\n    width: 100% !important;\r\n    height: auto !important;\r\n    aspect-ratio: 1;\r\n  }\r\n  \r\n  .edugame-answer-input,\r\n  .edugame-select-input {\r\n    font-size: 16px !important; /* Prevents zoom on iOS */\r\n  }\r\n  \r\n  .edugame-canvas-wrapper {\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  .edugame-title-main {\r\n    font-size: 1.5rem;\r\n  }\r\n  \r\n  .edugame-activity-header {\r\n    font-size: 1.5rem;\r\n  }\r\n}\r\n\r\n/* Prevent text selection while drawing */\r\n.edugame-drawing-canvas {\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  -webkit-touch-callout: none;\r\n}\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GameMenu = ({ setCurrentGame, navigate, userId }) => {\r\n  return (\r\n    <div className=\"edugame-menu-wrapper\">\r\n      <div className=\"edugame-header-bar\">\r\n\r\n   \r\n\r\n\r\n\r\n\r\n        <h1 className=\"edugame-title-main\">Educational Games</h1>\r\n        <div className=\"edugame-header-actions\">\r\n          {userId ? (\r\n            <div className=\"edugame-sync-indicator\">\r\n              âœ“ Data syncing\r\n            </div>\r\n          ) : (\r\n            <button\r\n              onClick={() => navigate('/login')}\r\n              className=\"edugame-btn-login\"\r\n            >\r\n              Login\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => navigate('/')}\r\n            className=\"edugame-btn-dashboard\"\r\n          >\r\n            Dashboard\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"edugame-cards-grid\">\r\n        <GameCard\r\n          title=\"Table Game\"\r\n          description=\"Practice multiplication tables\"\r\n          icon=\"ðŸ“Š\"\r\n          onClick={() => setCurrentGame('table')}\r\n        />\r\n        \r\n        <GameCard\r\n          title=\"Circle Accuracy\"\r\n          description=\"Draw perfect circles\"\r\n          icon=\"â­•\"\r\n          onClick={() => setCurrentGame('circle')}\r\n        />\r\n        \r\n        <GameCard\r\n          title=\"Pattern Matching\"\r\n          description=\"Replicate patterns on grid\"\r\n          icon=\"ðŸŽ¨\"\r\n          onClick={() => setCurrentGame('pattern')}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GameCard = ({ title, description, icon, onClick }) => {\r\n  return (\r\n    <div onClick={onClick} className=\"edugame-game-card\">\r\n      <div className=\"edugame-card-icon\">{icon}</div>\r\n      <h3 className=\"edugame-card-title\">{title}</h3>\r\n      <p className=\"edugame-card-desc\">{description}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n  const [gameState, setGameState] = useState('setup');\r\n  const [difficulty, setDifficulty] = useState('single');\r\n  const [totalTime, setTotalTime] = useState(60);\r\n  const [currentNumber, setCurrentNumber] = useState(null);\r\n  const [userAnswers, setUserAnswers] = useState(Array(10).fill(''));\r\n  const [timeLeft, setTimeLeft] = useState(60);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (gameState === 'playing' && timeLeft > 0) {\r\n      const timer = setInterval(() => {\r\n        setTimeLeft(prev => {\r\n          if (prev <= 1) {\r\n            clearInterval(timer);\r\n            checkAnswers();\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [gameState, timeLeft]);\r\n\r\n  const startGame = () => {\r\n    let num;\r\n    if (difficulty === 'single') num = Math.floor(Math.random() * 9) + 1; // 1-9\r\n    else if (difficulty === 'double') num = Math.floor(Math.random() * 90) + 10; // 10-99\r\n    else if (difficulty === 'triple') num = Math.floor(Math.random() * 900) + 100; // 100-999\r\n    else if (difficulty === 'four') num = Math.floor(Math.random() * 9000) + 1000; // 1000-9999\r\n    else if (difficulty === 'five') num = Math.floor(Math.random() * 90000) + 10000; // 10000-99999\r\n    \r\n    setCurrentNumber(num);\r\n    setTimeLeft(totalTime);\r\n    setUserAnswers(Array(10).fill(''));\r\n    setGameState('playing');\r\n    setResult(null);\r\n  };\r\n\r\n  const checkAnswers = () => {\r\n    const correctAnswers = Array(10).fill(0).map((_, i) => currentNumber * (i + 1));\r\n    const userNumAnswers = userAnswers.map(ans => parseInt(ans) || 0);\r\n    \r\n    const correctCount = userNumAnswers.filter((ans, idx) => ans === correctAnswers[idx]).length;\r\n    const accuracy = (correctCount / 10) * 100;\r\n    const isCorrect = accuracy >= 80;\r\n    const score = isCorrect ? 2 : -1;\r\n    \r\n    setResult({\r\n      correct: isCorrect,\r\n      accuracy: accuracy.toFixed(1),\r\n      correctAnswers,\r\n      correctCount,\r\n      score\r\n    });\r\n    \r\n    updatePerformanceData('tableGame', isCorrect, score, {\r\n      difficulty,\r\n      speed: totalTime,\r\n      count: 10,\r\n      totalQuestions: 10,\r\n      correctAnswers: correctCount,\r\n      accuracy: accuracy.toFixed(1) + '%',\r\n      maxScore: 2\r\n    });\r\n    \r\n    setGameState('result');\r\n  };\r\n\r\n  const handleAnswerChange = (index, value) => {\r\n    const newAnswers = [...userAnswers];\r\n    newAnswers[index] = value;\r\n    setUserAnswers(newAnswers);\r\n  };\r\n\r\n  if (gameState === 'setup') {\r\n    return (\r\n      <div className=\"edugame-activity-container\">\r\n        <button onClick={() => setCurrentGame('menu')} className=\"edugame-back-button\">\r\n          <Home size={20} /> Back to Menu\r\n        </button>\r\n\r\n        <div className=\"avc-logo-container\">\r\n          <img \r\n            src={bdaLogo} \r\n            alt=\"BDA Abacus Classes Logo\" \r\n            className=\"avc-logo\"\r\n          />\r\n        </div>\r\n\r\n        <h2 className=\"edugame-activity-header\">Table Game</h2>\r\n\r\n        <div className=\"edugame-settings-group\">\r\n          <label className=\"edugame-setting-label\">Difficulty Level:</label>\r\n          <select value={difficulty} onChange={(e) => setDifficulty(e.target.value)} className=\"edugame-select-input\">\r\n            <option value=\"single\">Single Digit (1-9)</option>\r\n            <option value=\"double\">Double Digit (10-99)</option>\r\n            <option value=\"triple\">Triple Digit (100-999)</option>\r\n            <option value=\"four\">4 Digits (1,000-9,999)</option>\r\n            <option value=\"five\">5 Digits (10,000-99,999)</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"edugame-settings-group\">\r\n          <label className=\"edugame-setting-label\">Time Limit: {totalTime}s</label>\r\n          <input type=\"range\" min=\"30\" max=\"180\" step=\"10\" value={totalTime} onChange={(e) => setTotalTime(parseInt(e.target.value))} className=\"edugame-range-input\" />\r\n        </div>\r\n\r\n        <button onClick={startGame} className=\"edugame-btn-primary\">\r\n          <Play size={24} /> Start Game\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameState === 'playing') {\r\n    return (\r\n      <div className=\"edugame-activity-container\">\r\n        <div className=\"edugame-gameplay-header\">\r\n          <h2 className=\"edugame-gameplay-title\">Table of {currentNumber}</h2>\r\n          <div className={`edugame-timer-display ${timeLeft <= 10 ? 'edugame-timer-critical' : ''}`}>\r\n            {timeLeft}s\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"edugame-questions-grid\">\r\n          {Array(10).fill(0).map((_, i) => (\r\n            <div key={i} className=\"edugame-question-row\">\r\n              <span className=\"edugame-question-text\">{currentNumber} Ã— {i + 1} =</span>\r\n              <input\r\n                type=\"number\"\r\n                value={userAnswers[i]}\r\n                onChange={(e) => handleAnswerChange(i, e.target.value)}\r\n                className=\"edugame-answer-input\"\r\n\r\n                style={{ minWidth: 0 }} // This fixes overflow\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button onClick={checkAnswers} className=\"edugame-btn-success\">\r\n          Submit Answers\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameState === 'result') {\r\n    return (\r\n      <div className=\"edugame-activity-container\">\r\n        <h2 className=\"edugame-activity-header\">Your Results</h2>\r\n\r\n        <div className={`edugame-result-panel ${result.correct ? 'edugame-result-success' : 'edugame-result-failure'}`}>\r\n          <div className=\"edugame-result-emoji\">{result.correct ? 'ðŸŽ‰' : 'ðŸ˜¢'}</div>\r\n          <div className=\"edugame-result-status\">{result.correct ? 'Excellent Work!' : 'Keep Practicing!'}</div>\r\n          <div className=\"edugame-result-stats\">Accuracy: {result.accuracy}% ({result.correctCount}/10)</div>\r\n          <div className=\"edugame-result-score\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n        </div>\r\n\r\n        <div className=\"edugame-answers-grid\">\r\n          {Array(10).fill(0).map((_, i) => {\r\n            const isCorrect = parseInt(userAnswers[i]) === result.correctAnswers[i];\r\n            return (\r\n              <div key={i} className={`edugame-answer-item ${isCorrect ? 'edugame-answer-correct' : 'edugame-answer-incorrect'}`}>\r\n                <div className=\"edugame-answer-header\">\r\n                  <span className=\"edugame-answer-equation\">{currentNumber} Ã— {i + 1} = {result.correctAnswers[i]}</span>\r\n                  {isCorrect ? <Check className=\"text-green-600\" /> : <X className=\"text-red-600\" />}\r\n                </div>\r\n                {!isCorrect && <div className=\"edugame-answer-detail\">Your answer: {userAnswers[i] || 'None'}</div>}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <div className=\"edugame-action-buttons\">\r\n          <button onClick={() => setGameState('setup')} className=\"edugame-btn-primary\">\r\n            <RefreshCw size={24} /> Play Again\r\n          </button>\r\n          <button onClick={() => setCurrentGame('menu')} className=\"edugame-btn-secondary\">\r\n            <Home size={24} /> Main Menu\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst CircleGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [points, setPoints] = useState([]);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (canvas) {\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = 'white';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n  }, []);\r\n\r\n  const startDrawing = (e) => {\r\n    setIsDrawing(true);\r\n    setPoints([]);\r\n    setResult(null);\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    setPoints([{ x: e.clientX - rect.left, y: e.clientY - rect.top }]);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing) return;\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    ctx.strokeStyle = '#667eea';\r\n    ctx.lineWidth = 3;\r\n    ctx.lineCap = 'round';\r\n\r\n    if (points.length > 0) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n      ctx.lineTo(x, y);\r\n      ctx.stroke();\r\n    }\r\n    setPoints([...points, { x, y }]);\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (isDrawing && points.length > 10) calculateCircleAccuracy();\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  const calculateCircleAccuracy = () => {\r\n    if (points.length < 10) return;\r\n\r\n    const centerX = points.reduce((sum, p) => sum + p.x, 0) / points.length;\r\n    const centerY = points.reduce((sum, p) => sum + p.y, 0) / points.length;\r\n    const radii = points.map(p => Math.sqrt(Math.pow(p.x - centerX, 2) + Math.pow(p.y - centerY, 2)));\r\n    const avgRadius = radii.reduce((sum, r) => sum + r, 0) / radii.length;\r\n    const variance = radii.reduce((sum, r) => sum + Math.pow(r - avgRadius, 2), 0) / radii.length;\r\n    const stdDev = Math.sqrt(variance);\r\n    const accuracy = Math.max(0, Math.min(100, 100 - (stdDev / avgRadius) * 100));\r\n    const isCorrect = accuracy >= 70;\r\n    const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\r\n\r\n    setResult({\r\n      accuracy: accuracy.toFixed(1),\r\n      perfect: accuracy >= 90,\r\n      good: accuracy >= 70,\r\n      correct: isCorrect,\r\n      score,\r\n      centerX,\r\n      centerY,\r\n      avgRadius\r\n    });\r\n\r\n    updatePerformanceData('circleAccuracy', isCorrect, score, {\r\n      difficulty: 'N/A',\r\n      totalQuestions: 1,\r\n      correctAnswers: isCorrect ? 1 : 0,\r\n      accuracy: accuracy.toFixed(1) + '%',\r\n      maxScore: 2\r\n    });\r\n\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\r\n    ctx.lineWidth = 2;\r\n    ctx.setLineDash([5, 5]);\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, avgRadius, 0, 2 * Math.PI);\r\n    ctx.stroke();\r\n    ctx.setLineDash([]);\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    setPoints([]);\r\n    setResult(null);\r\n  };\r\n\r\n\r\n  const handleTouchStart = (e) => {\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  \r\n  setIsDrawing(true);\r\n  setPoints([]);\r\n  setResult(null);\r\n  setPoints([{ x, y }]);\r\n};\r\n\r\nconst handleTouchMove = (e) => {\r\n  if (!isDrawing) return;\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const ctx = canvas.getContext('2d');\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n\r\n  ctx.strokeStyle = '#667eea';\r\n  ctx.lineWidth = 3;\r\n  ctx.lineCap = 'round';\r\n\r\n  if (points.length > 0) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  }\r\n  setPoints([...points, { x, y }]);\r\n};\r\n\r\nconst handleTouchEnd = () => {\r\n  if (isDrawing && points.length > 10) calculateCircleAccuracy();\r\n  setIsDrawing(false);\r\n};\r\n  return (\r\n    <div className=\"edugame-activity-container\">\r\n      <button onClick={() => setCurrentGame('menu')} className=\"edugame-back-button\">\r\n        <Home size={20} /> Back to Menu\r\n      </button>\r\n\r\n         <div className=\"avc-logo-container\">\r\n                <img \r\n                  src={bdaLogo} \r\n                  alt=\"BDA Abacus Classes Logo\" \r\n                  className=\"avc-logo\"\r\n                />\r\n              </div>\r\n\r\n      <h2 className=\"edugame-activity-header\">Circle Accuracy</h2>\r\n      \r\n      <div className=\"edugame-canvas-wrapper\">\r\n        <div className=\"edugame-canvas-hint\">Draw a perfect circle!</div>\r\n<canvas\r\n  ref={canvasRef}\r\n  width={600}\r\n  height={600}\r\n  onMouseDown={startDrawing}\r\n  onMouseMove={draw}\r\n  onMouseUp={stopDrawing}\r\n  onMouseLeave={stopDrawing}\r\n  onTouchStart={handleTouchStart}\r\n  onTouchMove={handleTouchMove}\r\n  onTouchEnd={handleTouchEnd}\r\n  className=\"edugame-drawing-canvas\"\r\n  style={{ touchAction: 'none', maxWidth: '100%', height: 'auto' }}\r\n/>\r\n      </div>\r\n\r\n      {result && (\r\n        <div className={`edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`}>\r\n          <div className=\"edugame-result-emoji\">{result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'}</div>\r\n          <div className=\"edugame-result-status\">Accuracy: {result.accuracy}%</div>\r\n          <div className=\"edugame-result-stats\">{result.perfect ? 'Perfect Circle!' : result.good ? 'Good Job!' : 'Keep Trying!'}</div>\r\n          <div className=\"edugame-result-score\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"edugame-action-buttons\">\r\n        <button onClick={clearCanvas} className=\"edugame-btn-warning\">\r\n          <RefreshCw size={24} /> Clear Canvas\r\n        </button>\r\n        <button onClick={() => setCurrentGame('menu')} className=\"edugame-btn-secondary\">\r\n          <Home size={24} /> Main Menu\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n// UPDATED PATTERN GAME - Dot to Dot Connection with Live Preview\r\n// UPDATED PATTERN GAME - Dot to Dot Connection with Live Preview\r\nconst PatternGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n  const canvasRef = useRef(null);\r\n  const [gameState, setGameState] = useState('setup');\r\n  const [timeLimit, setTimeLimit] = useState(60);\r\n  const [timeLeft, setTimeLeft] = useState(60);\r\n  const [currentPattern, setCurrentPattern] = useState(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [startDot, setStartDot] = useState(null);\r\n  const [currentMousePos, setCurrentMousePos] = useState(null);\r\n  const [drawnLines, setDrawnLines] = useState([]);\r\n  const [result, setResult] = useState(null);\r\n\r\n  const patterns = [\r\n    { name: 'Stairs', lines: [[1,5,1,3], [1,3,3,3], [3,3,3,1], [3,1,5,1]] },\r\n    { name: 'House', lines: [[2,1,4,3], [4,3,4,5], [4,5,2,5], [2,5,2,3], [2,3,2,1]] },\r\n    { name: 'Arrow', lines: [[3,1,1,3], [3,1,5,3], [3,1,3,5]] },\r\n    { name: 'Star', lines: [[3,1,2,5], [3,1,4,5], [1,2,5,2], [1,4,5,4], [2,2,4,4], [2,4,4,2]] },\r\n    { name: 'Triangle', lines: [[3,1,1,5], [3,1,5,5], [1,5,5,5]] },\r\n    { name: 'Diamond', lines: [[3,1,1,3], [1,3,3,5], [3,5,5,3], [5,3,3,1]] },\r\n  { name: 'Cross', lines: [[3,1,3,5], [1,3,5,3]] },\r\n  { name: 'Rectangle', lines: [[1,1,5,1], [5,1,5,5], [5,5,1,5], [1,5,1,1]] },\r\n  { name: 'Lightning', lines: [[2,1,3,2], [3,2,2,3], [2,3,3,4], [3,4,2,5]] },\r\n  { name: 'Flag', lines: [[1,1,1,5], [1,1,4,2], [4,2,1,3]] },\r\n  { name: 'Pentagon', lines: [[3,1,1,2], [1,2,1,4], [1,4,3,5], [3,5,5,4], [5,4,5,2], [5,2,3,1]] }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (gameState === 'playing' && timeLeft > 0) {\r\n      const timer = setInterval(() => {\r\n        setTimeLeft(prev => {\r\n          if (prev <= 1) {\r\n            clearInterval(timer);\r\n            checkPattern();\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [gameState, timeLeft]);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (canvas && currentPattern) {\r\n      drawGrid(canvas);\r\n      if (gameState === 'setup') drawPattern(canvas, currentPattern.lines);\r\n    }\r\n  }, [currentPattern, gameState]);\r\n\r\n  // Redraw canvas when drawing or mouse moves\r\n  useEffect(() => {\r\n    if (gameState === 'playing') {\r\n      const canvas = canvasRef.current;\r\n      if (canvas) {\r\n        redrawCanvas();\r\n      }\r\n    }\r\n  }, [drawnLines, isDrawing, startDot, currentMousePos, gameState]);\r\n\r\n  const drawGrid = (canvas) => {\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    const cellSize = canvas.width / 6;\r\n    \r\n    // Draw dots\r\n    for (let i = 0; i < 6; i++) {\r\n      for (let j = 0; j < 6; j++) {\r\n        ctx.fillStyle = '#94A3B8';\r\n        ctx.beginPath();\r\n        ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 6, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n      }\r\n    }\r\n  // Add touch support for mobile devices\r\nconst handleTouchStart = (e) => {\r\n  if (gameState !== 'playing') return;\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  const dot = getNearestDot(x, y, canvas);\r\n  \r\n  setStartDot(dot);\r\n  setIsDrawing(true);\r\n  setCurrentMousePos({ x, y });\r\n};\r\n\r\nconst handleTouchMove = (e) => {\r\n  if (!isDrawing || gameState !== 'playing') return;\r\n  e.preventDefault();\r\n  \r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  \r\n  const nearestDot = getNearestDot(x, y, canvas);\r\n  const dotPos = getDotPosition(nearestDot, canvas);\r\n  \r\n  setCurrentMousePos(dotPos);\r\n};\r\n\r\nconst handleTouchEnd = (e) => {\r\n  if (!isDrawing || !startDot || gameState !== 'playing') return;\r\n  e.preventDefault();\r\n  \r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.changedTouches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  const endDot = getNearestDot(x, y, canvas);\r\n  \r\n  if (startDot.col !== endDot.col || startDot.row !== endDot.row) {\r\n    const newLine = [startDot.col, startDot.row, endDot.col, endDot.row];\r\n    setDrawnLines([...drawnLines, newLine]);\r\n  }\r\n  \r\n  setIsDrawing(false);\r\n  setStartDot(null);\r\n  setCurrentMousePos(null);\r\n};\r\n\r\n\r\n{/* <canvas\r\n  ref={canvasRef}\r\n  width={400}\r\n  height={400}\r\n  onMouseDown={handleMouseDown}\r\n  onMouseMove={handleMouseMove}\r\n  onMouseUp={handleMouseUp}\r\n  onMouseLeave={handleMouseUp}\r\n  onTouchStart={handleTouchStart}\r\n  onTouchMove={handleTouchMove}\r\n  onTouchEnd={handleTouchEnd}\r\n  className=\"edugame-drawing-canvas\"\r\n  style={{ touchAction: 'none', maxWidth: '100%', height: 'auto' }}\r\n/> */}\r\n\r\n  \r\n\r\n  // Update the canvas in playing state to include touch events:\r\n  // Replace the canvas element in 'playing' state with this:\r\n  /*\r\n  <canvas\r\n    ref={canvasRef}\r\n    width={400}\r\n    height={400}\r\n    onMouseDown={handleMouseDown}\r\n    onMouseMove={handleMouseMove}\r\n    onMouseUp={handleMouseUp}\r\n    onMouseLeave={handleMouseUp}\r\n    onTouchStart={handleTouchStart}\r\n    onTouchMove={handleTouchMove}\r\n    onTouchEnd={handleTouchEnd}\r\n    className=\"edugame-drawing-canvas\"\r\n    style={{ touchAction: 'none' }}\r\n  />\r\n  */\r\n};\r\n\r\n  const drawPattern = (canvas, lines, color = '#667eea') => {\r\n    const ctx = canvas.getContext('2d');\r\n    const cellSize = canvas.width / 6;\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = 4;\r\n    ctx.lineCap = 'round';\r\n    ctx.lineJoin = 'round';\r\n    \r\n    lines.forEach(([x1, y1, x2, y2]) => {\r\n      ctx.beginPath();\r\n      ctx.moveTo(cellSize * (x1 + 0.5), cellSize * (y1 + 0.5));\r\n      ctx.lineTo(cellSize * (x2 + 0.5), cellSize * (y2 + 0.5));\r\n      ctx.stroke();\r\n    });\r\n  };\r\n\r\n  const redrawCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    const cellSize = canvas.width / 6;\r\n    \r\n    // Clear and draw grid\r\n    drawGrid(canvas);\r\n    \r\n    // Draw completed lines\r\n    if (drawnLines.length > 0) {\r\n      drawPattern(canvas, drawnLines, '#56ab2f');\r\n    }\r\n    \r\n    // Draw preview line while dragging\r\n    if (isDrawing && startDot && currentMousePos) {\r\n      ctx.strokeStyle = 'rgba(102, 126, 234, 0.6)';\r\n      ctx.lineWidth = 4;\r\n      ctx.lineCap = 'round';\r\n      ctx.setLineDash([8, 4]); // Dashed line for preview\r\n      \r\n      ctx.beginPath();\r\n      ctx.moveTo(cellSize * (startDot.col + 0.5), cellSize * (startDot.row + 0.5));\r\n      ctx.lineTo(currentMousePos.x, currentMousePos.y);\r\n      ctx.stroke();\r\n      \r\n      ctx.setLineDash([]); // Reset dash\r\n    }\r\n    \r\n    // Highlight start dot when dragging\r\n    if (isDrawing && startDot) {\r\n      ctx.fillStyle = '#667eea';\r\n      ctx.beginPath();\r\n      ctx.arc(\r\n        cellSize * (startDot.col + 0.5), \r\n        cellSize * (startDot.row + 0.5), \r\n        10, \r\n        0, \r\n        2 * Math.PI\r\n      );\r\n      ctx.fill();\r\n    }\r\n  };\r\n\r\n  const startGame = () => {\r\n    setTimeLeft(timeLimit);\r\n    setGameState('playing');\r\n    setDrawnLines([]);\r\n    setResult(null);\r\n  };\r\n\r\n  const getNearestDot = (x, y, canvas) => {\r\n    const cellSize = canvas.width / 6;\r\n    \r\n    // Find the closest dot by checking distance to all dots\r\n    let minDistance = Infinity;\r\n    let nearestDot = { col: 0, row: 0 };\r\n    \r\n    for (let col = 0; col < 6; col++) {\r\n      for (let row = 0; row < 6; row++) {\r\n        const dotX = cellSize * (col + 0.5);\r\n        const dotY = cellSize * (row + 0.5);\r\n        const distance = Math.sqrt(Math.pow(x - dotX, 2) + Math.pow(y - dotY, 2));\r\n        \r\n        if (distance < minDistance) {\r\n          minDistance = distance;\r\n          nearestDot = { col, row };\r\n        }\r\n      }\r\n    }\r\n    \r\n    return nearestDot;\r\n  };\r\n\r\n  const getDotPosition = (dot, canvas) => {\r\n    const cellSize = canvas.width / 6;\r\n    return {\r\n      x: cellSize * (dot.col + 0.5),\r\n      y: cellSize * (dot.row + 0.5)\r\n    };\r\n  };\r\n\r\n  const handleMouseDown = (e) => {\r\n    if (gameState !== 'playing') return;\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    const dot = getNearestDot(x, y, canvas);\r\n    \r\n    setStartDot(dot);\r\n    setIsDrawing(true);\r\n    setCurrentMousePos({ x, y });\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDrawing || gameState !== 'playing') return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    // Find nearest dot and snap preview to it\r\n    const nearestDot = getNearestDot(x, y, canvas);\r\n    const dotPos = getDotPosition(nearestDot, canvas);\r\n    \r\n    setCurrentMousePos(dotPos); // Snap to nearest dot position\r\n  };\r\n\r\n  const handleMouseUp = (e) => {\r\n    if (!isDrawing || !startDot || gameState !== 'playing') return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    const endDot = getNearestDot(x, y, canvas);\r\n    \r\n    // Only draw if it's a different dot\r\n    if (startDot.col !== endDot.col || startDot.row !== endDot.row) {\r\n      const newLine = [startDot.col, startDot.row, endDot.col, endDot.row];\r\n      setDrawnLines([...drawnLines, newLine]);\r\n    }\r\n    \r\n    setIsDrawing(false);\r\n    setStartDot(null);\r\n    setCurrentMousePos(null);\r\n  };\r\n\r\n  const checkPattern = () => {\r\n    if (!currentPattern) return;\r\n\r\n    const normalizeLine = (line) => {\r\n      const [x1, y1, x2, y2] = line;\r\n      return x1 > x2 || (x1 === x2 && y1 > y2) ? [x2, y2, x1, y1] : line;\r\n    };\r\n\r\n    const normalizedPattern = currentPattern.lines.map(normalizeLine).sort().map(l => l.join(','));\r\n    const normalizedDrawn = drawnLines.map(normalizeLine).sort().map(l => l.join(','));\r\n    const matchedLines = normalizedDrawn.filter(line => normalizedPattern.includes(line)).length;\r\n    const accuracy = (matchedLines / normalizedPattern.length) * 100;\r\n    const isCorrect = accuracy >= 80;\r\n    const score = isCorrect ? 2 : -1;\r\n\r\n    setResult({\r\n      accuracy: accuracy.toFixed(1),\r\n      correct: isCorrect,\r\n      matchedLines,\r\n      totalLines: normalizedPattern.length,\r\n      score\r\n    });\r\n    \r\n    updatePerformanceData('patternMatching', isCorrect, score, {\r\n      difficulty: currentPattern.name,\r\n      speed: timeLimit,\r\n      count: currentPattern.lines.length,\r\n      totalQuestions: currentPattern.lines.length,\r\n      correctAnswers: matchedLines,\r\n      accuracy: accuracy.toFixed(1) + '%',\r\n      maxScore: 2\r\n    });\r\n    \r\n    setGameState('result');\r\n  };\r\n\r\n\r\n\r\n  const handleTouchStart = (e) => {\r\n  if (gameState !== 'playing') return;\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  const dot = getNearestDot(x, y, canvas);\r\n  \r\n  setStartDot(dot);\r\n  setIsDrawing(true);\r\n  setCurrentMousePos({ x, y });\r\n};\r\n\r\nconst handleTouchMove = (e) => {\r\n  if (!isDrawing || gameState !== 'playing') return;\r\n  e.preventDefault();\r\n  \r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  \r\n  const nearestDot = getNearestDot(x, y, canvas);\r\n  const dotPos = getDotPosition(nearestDot, canvas);\r\n  \r\n  setCurrentMousePos(dotPos);\r\n};\r\n\r\nconst handleTouchEnd = (e) => {\r\n  if (!isDrawing || !startDot || gameState !== 'playing') return;\r\n  e.preventDefault();\r\n  \r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.changedTouches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  const endDot = getNearestDot(x, y, canvas);\r\n  \r\n  if (startDot.col !== endDot.col || startDot.row !== endDot.row) {\r\n    const newLine = [startDot.col, startDot.row, endDot.col, endDot.row];\r\n    setDrawnLines([...drawnLines, newLine]);\r\n  }\r\n  \r\n  setIsDrawing(false);\r\n  setStartDot(null);\r\n  setCurrentMousePos(null);\r\n};\r\n\r\n  const clearDrawing = () => {\r\n    setDrawnLines([]);\r\n    setIsDrawing(false);\r\n    setStartDot(null);\r\n    setCurrentMousePos(null);\r\n    const canvas = canvasRef.current;\r\n    if (canvas) drawGrid(canvas);\r\n  };\r\n\r\n  if (gameState === 'setup') {\r\n    return (\r\n      <div className=\"edugame-activity-container\">\r\n        <button onClick={() => setCurrentGame('menu')} className=\"edugame-back-button\">\r\n          <Home size={20} /> Back to Menu\r\n        </button>\r\n\r\n           <div className=\"avc-logo-container\">\r\n                <img \r\n                  src={bdaLogo} \r\n                  alt=\"BDA Abacus Classes Logo\" \r\n                  className=\"avc-logo\"\r\n                />\r\n              </div>\r\n\r\n        <h2 className=\"edugame-activity-header\">Pattern Matching</h2>\r\n\r\n        {!currentPattern ? (\r\n          <>\r\n            <div className=\"edugame-settings-group\">\r\n              <label className=\"edugame-setting-label\">Time Limit: {timeLimit}s</label>\r\n              <input type=\"range\" min=\"30\" max=\"120\" step=\"10\" value={timeLimit} onChange={(e) => setTimeLimit(parseInt(e.target.value))} className=\"edugame-range-input\" />\r\n            </div>\r\n            <button\r\n              onClick={() => setCurrentPattern(patterns[Math.floor(Math.random() * patterns.length)])}\r\n              className=\"edugame-btn-primary\"\r\n            >\r\n              Show Pattern\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"edugame-pattern-instruction\">\r\n              <h3 className=\"edugame-pattern-name\">Memorize: {currentPattern.name}</h3>\r\n              <p className=\"edugame-pattern-hint\">Connect dots to replicate pattern - {timeLimit}s</p>\r\n            </div>\r\n            <div className=\"edugame-canvas-wrapper\">\r\n              <canvas ref={canvasRef} width={400} height={400} className=\"edugame-drawing-canvas\" />\r\n            </div>\r\n            <button onClick={startGame} className=\"edugame-btn-success\">\r\n              <Play size={24} /> Start Drawing\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameState === 'playing') {\r\n    return (\r\n      <div className=\"edugame-activity-container\">\r\n        <div className=\"edugame-gameplay-header\">\r\n          <h2 className=\"edugame-gameplay-title\">Draw the Pattern</h2>\r\n          <div className={`edugame-timer-display ${timeLeft <= 10 ? 'edugame-timer-critical' : ''}`}>\r\n            {timeLeft}s\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"edugame-canvas-wrapper\">\r\n          <div className=\"edugame-canvas-hint\">Click and drag from dot to dot to connect them</div>\r\n          <canvas\r\n  ref={canvasRef}\r\n  width={400}\r\n  height={400}\r\n  onMouseDown={handleMouseDown}\r\n  onMouseMove={handleMouseMove}\r\n  onMouseUp={handleMouseUp}\r\n  onMouseLeave={handleMouseUp}\r\n  onTouchStart={handleTouchStart}\r\n  onTouchMove={handleTouchMove}\r\n  onTouchEnd={handleTouchEnd}\r\n  className=\"edugame-drawing-canvas\"\r\n  style={{ touchAction: 'none', maxWidth: '100%', height: 'auto' }}\r\n/>\r\n        </div>\r\n\r\n        <div className=\"edugame-action-buttons\">\r\n          <button onClick={clearDrawing} className=\"edugame-btn-warning\">\r\n            Clear\r\n          </button>\r\n          <button onClick={checkPattern} className=\"edugame-btn-success\">\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (gameState === 'result') {\r\n    return (\r\n      <div className=\"edugame-activity-container\">\r\n        <h2 className=\"edugame-activity-header\">Your Results</h2>\r\n\r\n        <div className={`edugame-result-panel ${result.correct ? 'edugame-result-success' : 'edugame-result-failure'}`}>\r\n          <div className=\"edugame-result-emoji\">{result.correct ? 'ðŸŽ‰' : 'ðŸ˜”'}</div>\r\n          <div className=\"edugame-result-status\">{result.correct ? 'Well Done!' : 'Keep Trying!'}</div>\r\n          <div className=\"edugame-result-stats\">Accuracy: {result.accuracy}%</div>\r\n          <div className=\"edugame-result-stats\">Matched {result.matchedLines}/{result.totalLines} lines</div>\r\n          <div className=\"edugame-result-score\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n        </div>\r\n\r\n        <div className=\"edugame-comparison-grid\">\r\n          <div className=\"edugame-comparison-item\">\r\n            <h3 className=\"edugame-comparison-label\">Original</h3>\r\n            <canvas\r\n              ref={(canvas) => {\r\n                if (canvas && currentPattern) {\r\n                  const ctx = canvas.getContext('2d');\r\n                  ctx.fillStyle = 'white';\r\n                  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n                  \r\n                  const cellSize = canvas.width / 6;\r\n                  ctx.fillStyle = '#94A3B8';\r\n                  for (let i = 0; i < 6; i++) {\r\n                    for (let j = 0; j < 6; j++) {\r\n                      ctx.beginPath();\r\n                      ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 6, 0, 2 * Math.PI);\r\n                      ctx.fill();\r\n                    }\r\n                  }\r\n                  \r\n                  ctx.strokeStyle = '#667eea';\r\n                  ctx.lineWidth = 4;\r\n                  ctx.lineCap = 'round';\r\n                  ctx.lineJoin = 'round';\r\n                  currentPattern.lines.forEach(([x1, y1, x2, y2]) => {\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(cellSize * (x1 + 0.5), cellSize * (y1 + 0.5));\r\n                    ctx.lineTo(cellSize * (x2 + 0.5), cellSize * (y2 + 0.5));\r\n                    ctx.stroke();\r\n                  });\r\n                }\r\n              }}\r\n              width={300}\r\n              height={300}\r\n              className=\"edugame-comparison-canvas edugame-canvas-original\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"edugame-comparison-item\">\r\n            <h3 className=\"edugame-comparison-label\">Your Drawing</h3>\r\n            <canvas\r\n              ref={(canvas) => {\r\n                if (canvas) {\r\n                  const ctx = canvas.getContext('2d');\r\n                  ctx.fillStyle = 'white';\r\n                  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n                  \r\n                  const cellSize = canvas.width / 6;\r\n                  ctx.fillStyle = '#94A3B8';\r\n                  for (let i = 0; i < 6; i++) {\r\n                    for (let j = 0; j < 6; j++) {\r\n                      ctx.beginPath();\r\n                      ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 6, 0, 2 * Math.PI);\r\n                      ctx.fill();\r\n                    }\r\n                  }\r\n                  \r\n                  ctx.strokeStyle = '#56ab2f';\r\n                  ctx.lineWidth = 4;\r\n                  ctx.lineCap = 'round';\r\n                  ctx.lineJoin = 'round';\r\n                  drawnLines.forEach(([x1, y1, x2, y2]) => {\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(cellSize * (x1 + 0.5), cellSize * (y1 + 0.5));\r\n                    ctx.lineTo(cellSize * (x2 + 0.5), cellSize * (y2 + 0.5));\r\n                    ctx.stroke();\r\n                  });\r\n                }\r\n              }}\r\n              width={300}\r\n              height={300}\r\n              className=\"edugame-comparison-canvas edugame-canvas-user\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"edugame-action-buttons\">\r\n          <button\r\n            onClick={() => {\r\n              setGameState('setup');\r\n              setCurrentPattern(null);\r\n              setDrawnLines([]);\r\n              setResult(null);\r\n            }}\r\n            className=\"edugame-btn-primary\"\r\n          >\r\n            <RefreshCw size={24} /> Play Again\r\n          </button>\r\n          <button onClick={() => setCurrentGame('menu')} className=\"edugame-btn-secondary\">\r\n            <Home size={24} /> Main Menu\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n// NEW SHAPE GAMES MENU\r\nconst ShapeGamesMenu = ({ setCurrentGame }) => {\r\n  const shapeGames = [\r\n    { id: 'circle', name: 'Circle', icon: 'â­•', color: 'from-blue-400 to-blue-600' },\r\n    { id: 'rectangle', name: 'Rectangle', icon: 'â–­', color: 'from-green-400 to-green-600' },\r\n    { id: 'square', name: 'Square', icon: 'â—»ï¸', color: 'from-purple-400 to-purple-600' },\r\n    { id: 'triangle', name: 'Triangle', icon: 'â–²', color: 'from-orange-400 to-orange-600' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"edugame-activity-container\">\r\n      <button onClick={() => setCurrentGame('menu')} className=\"edugame-back-button\">\r\n        <Home size={20} /> Back to Menu\r\n      </button>\r\n\r\n      <h2 className=\"edugame-activity-header\">Choose Shape to Draw</h2>\r\n\r\n      <div className=\"edugame-cards-grid\" style={{ gridTemplateColumns: 'repeat(2, 1fr)' }}>\r\n        {shapeGames.map((game) => (\r\n          <div\r\n            key={game.id}\r\n            onClick={() => setCurrentGame(game.id)}\r\n            className=\"edugame-game-card\"\r\n            style={{ minHeight: '180px' }}\r\n          >\r\n            <div className=\"edugame-card-icon\">{game.icon}</div>\r\n            <h3 className=\"edugame-card-title\">{game.name}</h3>\r\n            <p className=\"edugame-card-desc\">Draw a perfect {game.name.toLowerCase()}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// RECTANGLE GAME\r\nconst RectangleGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [points, setPoints] = useState([]);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (canvas) {\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = 'white';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n  }, []);\r\n\r\n  const startDrawing = (e) => {\r\n    setIsDrawing(true);\r\n    setPoints([]);\r\n    setResult(null);\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    // Clear canvas\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    setPoints([{ x, y }]);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing) return;\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    ctx.strokeStyle = '#667eea';\r\n    ctx.lineWidth = 3;\r\n    ctx.lineCap = 'round';\r\n    ctx.lineJoin = 'round';\r\n\r\n    if (points.length > 0) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n      ctx.lineTo(x, y);\r\n      ctx.stroke();\r\n    }\r\n    setPoints([...points, { x, y }]);\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (isDrawing && points.length > 20) calculateRectangleAccuracy();\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  const calculateRectangleAccuracy = () => {\r\n    if (points.length < 20) return;\r\n\r\n    // Find bounding box\r\n    const xs = points.map(p => p.x);\r\n    const ys = points.map(p => p.y);\r\n    const minX = Math.min(...xs);\r\n    const maxX = Math.max(...xs);\r\n    const minY = Math.min(...ys);\r\n    const maxY = Math.max(...ys);\r\n\r\n    const width = maxX - minX;\r\n    const height = maxY - minY;\r\n\r\n    // Check if it's rectangular (not square-ish)\r\n    const aspectRatio = Math.max(width, height) / Math.min(width, height);\r\n    const isRectangular = aspectRatio >= 1.3; // Should be elongated\r\n\r\n    // Calculate how well points follow the rectangle perimeter\r\n    const corners = [\r\n      { x: minX, y: minY }, // top-left\r\n      { x: maxX, y: minY }, // top-right\r\n      { x: maxX, y: maxY }, // bottom-right\r\n      { x: minX, y: maxY }  // bottom-left\r\n    ];\r\n\r\n    // Check distance from points to nearest rectangle edge\r\n    let totalDeviation = 0;\r\n    points.forEach(point => {\r\n      const distToTop = Math.abs(point.y - minY);\r\n      const distToBottom = Math.abs(point.y - maxY);\r\n      const distToLeft = Math.abs(point.x - minX);\r\n      const distToRight = Math.abs(point.x - maxX);\r\n      \r\n      const minDist = Math.min(distToTop, distToBottom, distToLeft, distToRight);\r\n      totalDeviation += minDist;\r\n    });\r\n\r\n    const avgDeviation = totalDeviation / points.length;\r\n    const avgSize = (width + height) / 2;\r\n    const deviationRatio = avgDeviation / avgSize;\r\n\r\n    // Calculate accuracy\r\n    let accuracy = Math.max(0, Math.min(100, 100 - (deviationRatio * 200)));\r\n    \r\n    // Penalty if too square-ish\r\n    if (!isRectangular) {\r\n      accuracy = Math.min(accuracy, 60);\r\n    }\r\n\r\n    const isCorrect = accuracy >= 70;\r\n    const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\r\n\r\n    setResult({\r\n      accuracy: accuracy.toFixed(1),\r\n      perfect: accuracy >= 90,\r\n      good: accuracy >= 70,\r\n      correct: isCorrect,\r\n      score\r\n    });\r\n\r\n    updatePerformanceData('rectangleAccuracy', isCorrect, score, {\r\n      difficulty: 'N/A',\r\n      totalQuestions: 1,\r\n      correctAnswers: isCorrect ? 1 : 0,\r\n      accuracy: accuracy.toFixed(1) + '%',\r\n      maxScore: 2\r\n    });\r\n\r\n    // Draw ideal rectangle overlay\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\r\n    ctx.lineWidth = 2;\r\n    ctx.setLineDash([5, 5]);\r\n    ctx.strokeRect(minX, minY, width, height);\r\n    ctx.setLineDash([]);\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    setPoints([]);\r\n    setResult(null);\r\n  };\r\n\r\n\r\n  const handleTouchStart = (e) => {\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  \r\n  setIsDrawing(true);\r\n  setPoints([]);\r\n  setResult(null);\r\n  setPoints([{ x, y }]);\r\n};\r\n\r\nconst handleTouchMove = (e) => {\r\n  if (!isDrawing) return;\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const ctx = canvas.getContext('2d');\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n\r\n  ctx.strokeStyle = '#667eea';\r\n  ctx.lineWidth = 3;\r\n  ctx.lineCap = 'round';\r\n\r\n  if (points.length > 0) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  }\r\n  setPoints([...points, { x, y }]);\r\n};\r\n\r\nconst handleTouchEnd = () => {\r\n  if (isDrawing && points.length > 10) calculateRectangleAccuracy();\r\n  setIsDrawing(false);\r\n};\r\n\r\n  return (\r\n    <div className=\"edugame-activity-container\">\r\n      <button onClick={() => setCurrentGame('shape-menu')} className=\"edugame-back-button\">\r\n        <Home size={20} /> Back\r\n      </button>\r\n\r\n      <div className=\"avc-logo-container\">\r\n        <img \r\n          src={bdaLogo} \r\n          alt=\"BDA Abacus Classes Logo\" \r\n          className=\"avc-logo\"\r\n        />\r\n      </div>\r\n\r\n      <h2 className=\"edugame-activity-header\">Rectangle Accuracy</h2>\r\n      \r\n      <div className=\"edugame-canvas-wrapper\">\r\n        <div className=\"edugame-canvas-hint\">Draw a perfect rectangle!</div>\r\n        {/* <canvas\r\n          ref={canvasRef}\r\n          width={600}\r\n          height={600}\r\n          onMouseDown={startDrawing}\r\n          onMouseMove={draw}\r\n          onMouseUp={stopDrawing}\r\n          onMouseLeave={stopDrawing}\r\n          className=\"edugame-drawing-canvas\"\r\n        /> */}\r\n\r\n        <canvas\r\n  ref={canvasRef}\r\n  width={600}\r\n  height={600}\r\n  onMouseDown={startDrawing}\r\n  onMouseMove={draw}\r\n  onMouseUp={stopDrawing}\r\n  onMouseLeave={stopDrawing}\r\n  onTouchStart={handleTouchStart}\r\n  onTouchMove={handleTouchMove}\r\n  onTouchEnd={handleTouchEnd}\r\n  className=\"edugame-drawing-canvas\"\r\n  style={{ touchAction: 'none', maxWidth: '100%', height: 'auto' }}\r\n/>\r\n      </div>\r\n\r\n      {result && (\r\n        <div className={`edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`}>\r\n          <div className=\"edugame-result-emoji\">{result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'}</div>\r\n          <div className=\"edugame-result-status\">Accuracy: {result.accuracy}%</div>\r\n          <div className=\"edugame-result-stats\">{result.perfect ? 'Perfect Rectangle!' : result.good ? 'Good Job!' : 'Keep Trying!'}</div>\r\n          <div className=\"edugame-result-score\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"edugame-action-buttons\">\r\n        <button onClick={clearCanvas} className=\"edugame-btn-warning\">\r\n          <RefreshCw size={24} /> Clear Canvas\r\n        </button>\r\n        <button onClick={() => setCurrentGame('shape-menu')} className=\"edugame-btn-secondary\">\r\n          <Home size={24} /> Shape Menu\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// SQUARE GAME\r\nconst SquareGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [points, setPoints] = useState([]);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (canvas) {\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = 'white';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n  }, []);\r\n\r\n  const startDrawing = (e) => {\r\n    setIsDrawing(true);\r\n    setPoints([]);\r\n    setResult(null);\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    setPoints([{ x, y }]);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing) return;\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    ctx.strokeStyle = '#667eea';\r\n    ctx.lineWidth = 3;\r\n    ctx.lineCap = 'round';\r\n    ctx.lineJoin = 'round';\r\n\r\n    if (points.length > 0) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n      ctx.lineTo(x, y);\r\n      ctx.stroke();\r\n    }\r\n    setPoints([...points, { x, y }]);\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (isDrawing && points.length > 20) calculateSquareAccuracy();\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  const calculateSquareAccuracy = () => {\r\n    if (points.length < 20) return;\r\n\r\n    // Find bounding box\r\n    const xs = points.map(p => p.x);\r\n    const ys = points.map(p => p.y);\r\n    const minX = Math.min(...xs);\r\n    const maxX = Math.max(...xs);\r\n    const minY = Math.min(...ys);\r\n    const maxY = Math.max(...ys);\r\n\r\n    const width = maxX - minX;\r\n    const height = maxY - minY;\r\n\r\n    // Check how close to square (width â‰ˆ height)\r\n    const difference = Math.abs(width - height);\r\n    const averageSize = (width + height) / 2;\r\n    const sizeRatio = difference / averageSize;\r\n\r\n    // Calculate how well points follow the square perimeter\r\n    let totalDeviation = 0;\r\n    points.forEach(point => {\r\n      const distToTop = Math.abs(point.y - minY);\r\n      const distToBottom = Math.abs(point.y - maxY);\r\n      const distToLeft = Math.abs(point.x - minX);\r\n      const distToRight = Math.abs(point.x - maxX);\r\n      \r\n      const minDist = Math.min(distToTop, distToBottom, distToLeft, distToRight);\r\n      totalDeviation += minDist;\r\n    });\r\n\r\n    const avgDeviation = totalDeviation / points.length;\r\n    const deviationRatio = avgDeviation / averageSize;\r\n\r\n    // Calculate accuracy\r\n    let accuracy = Math.max(0, Math.min(100, 100 - (deviationRatio * 200) - (sizeRatio * 100)));\r\n\r\n    const isCorrect = accuracy >= 70;\r\n    const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\r\n\r\n    setResult({\r\n      accuracy: accuracy.toFixed(1),\r\n      perfect: accuracy >= 90,\r\n      good: accuracy >= 70,\r\n      correct: isCorrect,\r\n      score\r\n    });\r\n\r\n    updatePerformanceData('squareAccuracy', isCorrect, score, {\r\n      difficulty: 'N/A',\r\n      totalQuestions: 1,\r\n      correctAnswers: isCorrect ? 1 : 0,\r\n      accuracy: accuracy.toFixed(1) + '%',\r\n      maxScore: 2\r\n    });\r\n\r\n    // Draw ideal square overlay\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const size = Math.min(width, height);\r\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\r\n    ctx.lineWidth = 2;\r\n    ctx.setLineDash([5, 5]);\r\n    ctx.strokeRect(minX, minY, size, size);\r\n    ctx.setLineDash([]);\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    setPoints([]);\r\n    setResult(null);\r\n  };\r\n\r\n\r\n  const handleTouchStart = (e) => {\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  \r\n  setIsDrawing(true);\r\n  setPoints([]);\r\n  setResult(null);\r\n  setPoints([{ x, y }]);\r\n};\r\n\r\nconst handleTouchMove = (e) => {\r\n  if (!isDrawing) return;\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const ctx = canvas.getContext('2d');\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n\r\n  ctx.strokeStyle = '#667eea';\r\n  ctx.lineWidth = 3;\r\n  ctx.lineCap = 'round';\r\n\r\n  if (points.length > 0) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  }\r\n  setPoints([...points, { x, y }]);\r\n};\r\n\r\nconst handleTouchEnd = () => {\r\n  if (isDrawing && points.length > 10) calculateSquareAccuracy();\r\n  setIsDrawing(false);\r\n};\r\n\r\n  return (\r\n    <div className=\"edugame-activity-container\">\r\n      <button onClick={() => setCurrentGame('shape-menu')} className=\"edugame-back-button\">\r\n        <Home size={20} /> Back\r\n      </button>\r\n\r\n      <div className=\"avc-logo-container\">\r\n        <img \r\n          src={bdaLogo} \r\n          alt=\"BDA Abacus Classes Logo\" \r\n          className=\"avc-logo\"\r\n        />\r\n      </div>\r\n\r\n      <h2 className=\"edugame-activity-header\">Square Accuracy</h2>\r\n      \r\n      <div className=\"edugame-canvas-wrapper\">\r\n        <div className=\"edugame-canvas-hint\">Draw a perfect square!</div>\r\n        {/* <canvas\r\n          ref={canvasRef}\r\n          width={600}\r\n          height={600}\r\n          onMouseDown={startDrawing}\r\n          onMouseMove={draw}\r\n          onMouseUp={stopDrawing}\r\n          onMouseLeave={stopDrawing}\r\n          className=\"edugame-drawing-canvas\"\r\n        /> */}\r\n\r\n        <canvas\r\n  ref={canvasRef}\r\n  width={600}\r\n  height={600}\r\n  onMouseDown={startDrawing}\r\n  onMouseMove={draw}\r\n  onMouseUp={stopDrawing}\r\n  onMouseLeave={stopDrawing}\r\n  onTouchStart={handleTouchStart}\r\n  onTouchMove={handleTouchMove}\r\n  onTouchEnd={handleTouchEnd}\r\n  className=\"edugame-drawing-canvas\"\r\n  style={{ touchAction: 'none', maxWidth: '100%', height: 'auto' }}\r\n/>\r\n      </div>\r\n\r\n      {result && (\r\n        <div className={`edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`}>\r\n          <div className=\"edugame-result-emoji\">{result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'}</div>\r\n          <div className=\"edugame-result-status\">Accuracy: {result.accuracy}%</div>\r\n          <div className=\"edugame-result-stats\">{result.perfect ? 'Perfect Square!' : result.good ? 'Good Job!' : 'Keep Trying!'}</div>\r\n          <div className=\"edugame-result-score\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"edugame-action-buttons\">\r\n        <button onClick={clearCanvas} className=\"edugame-btn-warning\">\r\n          <RefreshCw size={24} /> Clear Canvas\r\n        </button>\r\n        <button onClick={() => setCurrentGame('shape-menu')} className=\"edugame-btn-secondary\">\r\n          <Home size={24} /> Shape Menu\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// TRIANGLE GAME\r\nconst TriangleGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [points, setPoints] = useState([]);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (canvas) {\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = 'white';\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    }\r\n  }, []);\r\n\r\n  const startDrawing = (e) => {\r\n    setIsDrawing(true);\r\n    setPoints([]);\r\n    setResult(null);\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    setPoints([{ x, y }]);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing) return;\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    ctx.strokeStyle = '#667eea';\r\n    ctx.lineWidth = 3;\r\n    ctx.lineCap = 'round';\r\n    ctx.lineJoin = 'round';\r\n\r\n    if (points.length > 0) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n      ctx.lineTo(x, y);\r\n      ctx.stroke();\r\n    }\r\n    setPoints([...points, { x, y }]);\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (isDrawing && points.length > 20) calculateTriangleAccuracy();\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  const calculateTriangleAccuracy = () => {\r\n    if (points.length < 20) return;\r\n\r\n    // Find the 3 extreme points (likely triangle corners)\r\n    const xs = points.map(p => p.x);\r\n    const ys = points.map(p => p.y);\r\n    \r\n    // Top point (minimum y)\r\n    const topIdx = ys.indexOf(Math.min(...ys));\r\n    const topPoint = points[topIdx];\r\n    \r\n    // Bottom-left point (minimum x among lower half)\r\n    const lowerHalf = points.filter(p => p.y > topPoint.y);\r\n    const leftIdx = lowerHalf.findIndex(p => p.x === Math.min(...lowerHalf.map(pt => pt.x)));\r\n    const leftPoint = lowerHalf[leftIdx];\r\n    \r\n    // Bottom-right point (maximum x among lower half)\r\n    const rightIdx = lowerHalf.findIndex(p => p.x === Math.max(...lowerHalf.map(pt => pt.x)));\r\n    const rightPoint = lowerHalf[rightIdx];\r\n\r\n    // Calculate triangle formed by these 3 points\r\n    const corners = [topPoint, leftPoint, rightPoint];\r\n\r\n    // Calculate side lengths\r\n    const dist = (p1, p2) => Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n    const side1 = dist(corners[0], corners[1]);\r\n    const side2 = dist(corners[1], corners[2]);\r\n    const side3 = dist(corners[2], corners[0]);\r\n    \r\n    const sides = [side1, side2, side3].sort((a, b) => a - b);\r\n    \r\n    // Check if it's a valid triangle\r\n    const isValidTriangle = sides[0] + sides[1] > sides[2];\r\n    \r\n    if (!isValidTriangle) {\r\n      setResult({\r\n        accuracy: 0,\r\n        perfect: false,\r\n        good: false,\r\n        correct: false,\r\n        score: -1\r\n      });\r\n      updatePerformanceData('triangleAccuracy', false, -1, {\r\n        difficulty: 'N/A',\r\n        totalQuestions: 1,\r\n        correctAnswers: 0,\r\n        accuracy: '0%',\r\n        maxScore: 2\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Calculate how well drawn points follow the triangle edges\r\n    let totalDeviation = 0;\r\n    \r\n    points.forEach(point => {\r\n      // Calculate distance from point to each of the 3 triangle sides\r\n      const distToSide1 = pointToLineDistance(point, corners[0], corners[1]);\r\n      const distToSide2 = pointToLineDistance(point, corners[1], corners[2]);\r\n      const distToSide3 = pointToLineDistance(point, corners[2], corners[0]);\r\n      \r\n      const minDist = Math.min(distToSide1, distToSide2, distToSide3);\r\n      totalDeviation += minDist;\r\n    });\r\n\r\n    const avgDeviation = totalDeviation / points.length;\r\n    const avgSideLength = (side1 + side2 + side3) / 3;\r\n    const deviationRatio = avgDeviation / avgSideLength;\r\n\r\n    // Calculate how close to equilateral\r\n    const avgSide = (side1 + side2 + side3) / 3;\r\n    const variance = (Math.pow(side1 - avgSide, 2) + Math.pow(side2 - avgSide, 2) + Math.pow(side3 - avgSide, 2)) / 3;\r\n    const stdDev = Math.sqrt(variance);\r\n    const symmetryRatio = stdDev / avgSide;\r\n\r\n    // Calculate accuracy\r\n    let accuracy = Math.max(0, Math.min(100, 100 - (deviationRatio * 150) - (symmetryRatio * 50)));\r\n\r\n    const isCorrect = accuracy >= 60;\r\n    const score = accuracy >= 85 ? 2 : accuracy >= 60 ? 1 : -1;\r\n\r\n    setResult({\r\n      accuracy: accuracy.toFixed(1),\r\n      perfect: accuracy >= 85,\r\n      good: accuracy >= 60,\r\n      correct: isCorrect,\r\n      score\r\n    });\r\n\r\n    updatePerformanceData('triangleAccuracy', isCorrect, score, {\r\n      difficulty: 'N/A',\r\n      totalQuestions: 1,\r\n      correctAnswers: isCorrect ? 1 : 0,\r\n      accuracy: accuracy.toFixed(1) + '%',\r\n      maxScore: 2\r\n    });\r\n\r\n    // Draw ideal triangle overlay\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\r\n    ctx.lineWidth = 2;\r\n    ctx.setLineDash([5, 5]);\r\n    ctx.beginPath();\r\n    ctx.moveTo(corners[0].x, corners[0].y);\r\n    ctx.lineTo(corners[1].x, corners[1].y);\r\n    ctx.lineTo(corners[2].x, corners[2].y);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    ctx.setLineDash([]);\r\n  };\r\n\r\n  // Helper function: calculate distance from point to line segment\r\n  const pointToLineDistance = (point, lineStart, lineEnd) => {\r\n    const A = point.x - lineStart.x;\r\n    const B = point.y - lineStart.y;\r\n    const C = lineEnd.x - lineStart.x;\r\n    const D = lineEnd.y - lineStart.y;\r\n\r\n    const dot = A * C + B * D;\r\n    const lenSq = C * C + D * D;\r\n    let param = -1;\r\n\r\n    if (lenSq !== 0) param = dot / lenSq;\r\n\r\n    let xx, yy;\r\n\r\n    if (param < 0) {\r\n      xx = lineStart.x;\r\n      yy = lineStart.y;\r\n    } else if (param > 1) {\r\n      xx = lineEnd.x;\r\n      yy = lineEnd.y;\r\n    } else {\r\n      xx = lineStart.x + param * C;\r\n      yy = lineStart.y + param * D;\r\n    }\r\n\r\n    const dx = point.x - xx;\r\n    const dy = point.y - yy;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n  };\r\n\r\n  const clearCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    setPoints([]);\r\n    setResult(null);\r\n  };\r\n\r\n  const handleTouchStart = (e) => {\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n  \r\n  setIsDrawing(true);\r\n  setPoints([]);\r\n  setResult(null);\r\n  setPoints([{ x, y }]);\r\n};\r\n\r\nconst handleTouchMove = (e) => {\r\n  if (!isDrawing) return;\r\n  e.preventDefault();\r\n  const canvas = canvasRef.current;\r\n  const ctx = canvas.getContext('2d');\r\n  const rect = canvas.getBoundingClientRect();\r\n  const touch = e.touches[0];\r\n  const x = (touch.clientX - rect.left) * (canvas.width / rect.width);\r\n  const y = (touch.clientY - rect.top) * (canvas.height / rect.height);\r\n\r\n  ctx.strokeStyle = '#667eea';\r\n  ctx.lineWidth = 3;\r\n  ctx.lineCap = 'round';\r\n\r\n  if (points.length > 0) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n    ctx.lineTo(x, y);\r\n    ctx.stroke();\r\n  }\r\n  setPoints([...points, { x, y }]);\r\n};\r\n\r\nconst handleTouchEnd = () => {\r\n  if (isDrawing && points.length > 10) calculateTriangleAccuracy();\r\n  setIsDrawing(false);\r\n};\r\n\r\n  return (\r\n    <div className=\"edugame-activity-container\">\r\n      <button onClick={() => setCurrentGame('shape-menu')} className=\"edugame-back-button\">\r\n        <Home size={20} /> Back\r\n      </button>\r\n\r\n      <div className=\"avc-logo-container\">\r\n        <img \r\n          src={bdaLogo} \r\n          alt=\"BDA Abacus Classes Logo\" \r\n          className=\"avc-logo\"\r\n        />\r\n      </div>\r\n\r\n      <h2 className=\"edugame-activity-header\">Triangle Accuracy</h2>\r\n      \r\n      <div className=\"edugame-canvas-wrapper\">\r\n        <div className=\"edugame-canvas-hint\">Draw a perfect triangle!</div>\r\n        {/* <canvas\r\n          ref={canvasRef}\r\n          width={600}\r\n          height={600}\r\n          onMouseDown={startDrawing}\r\n          onMouseMove={draw}\r\n          onMouseUp={stopDrawing}\r\n          onMouseLeave={stopDrawing}\r\n          className=\"edugame-drawing-canvas\"\r\n        /> */}\r\n\r\n        <canvas\r\n  ref={canvasRef}\r\n  width={600}\r\n  height={600}\r\n  onMouseDown={startDrawing}\r\n  onMouseMove={draw}\r\n  onMouseUp={stopDrawing}\r\n  onMouseLeave={stopDrawing}\r\n  onTouchStart={handleTouchStart}\r\n  onTouchMove={handleTouchMove}\r\n  onTouchEnd={handleTouchEnd}\r\n  className=\"edugame-drawing-canvas\"\r\n  style={{ touchAction: 'none', maxWidth: '100%', height: 'auto' }}\r\n/>\r\n      </div>\r\n\r\n      {result && (\r\n        <div className={`edugame-result-panel ${result.perfect ? 'edugame-result-perfect' : result.good ? 'edugame-result-good' : 'edugame-result-try'}`}>\r\n          <div className=\"edugame-result-emoji\">{result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'}</div>\r\n          <div className=\"edugame-result-status\">Accuracy: {result.accuracy}%</div>\r\n          <div className=\"edugame-result-stats\">{result.perfect ? 'Perfect Triangle!' : result.good ? 'Good Job!' : 'Keep Trying!'}</div>\r\n          <div className=\"edugame-result-score\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"edugame-action-buttons\">\r\n        <button onClick={clearCanvas} className=\"edugame-btn-warning\">\r\n          <RefreshCw size={24} /> Clear Canvas\r\n        </button>\r\n        <button onClick={() => setCurrentGame('shape-menu')} className=\"edugame-btn-secondary\">\r\n          <Home size={24} /> Shape Menu\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Update the main GameMenu to include shape games option\r\nconst UpdatedGameMenu = ({ setCurrentGame, navigate, userId }) => {\r\n  return (\r\n    <div className=\"edugame-menu-wrapper\">\r\n      <div className=\"edugame-header-bar\">\r\n\r\n           <div className=\"avc-logo-container\">\r\n                <img \r\n                  src={bdaLogo} \r\n                  alt=\"BDA Abacus Classes Logo\" \r\n                  className=\"avc-logo\"\r\n                />\r\n              </div>\r\n        <h1 className=\"edugame-title-main\">Educational Games</h1>\r\n        <div className=\"edugame-header-actions\">\r\n          {userId ? (\r\n            <div className=\"edugame-sync-indicator\">\r\n              âœ“ Data syncing\r\n            </div>\r\n          ) : (\r\n            <button\r\n              onClick={() => navigate('/signin')}\r\n              className=\"edugame-btn-login\"\r\n            >\r\n              Login\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => navigate('/')}\r\n            className=\"edugame-btn-dashboard\"\r\n          >\r\n            Dashboard\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"edugame-cards-grid\">\r\n        <GameCard\r\n          title=\"Table Game\"\r\n          description=\"Practice multiplication tables\"\r\n          icon=\"ðŸ“Š\"\r\n          onClick={() => setCurrentGame('table')}\r\n        />\r\n        \r\n        <GameCard\r\n          title=\"Shape Drawing\"\r\n          description=\"Draw perfect shapes\"\r\n          icon=\"ðŸ”·\"\r\n          onClick={() => setCurrentGame('shape-menu')}\r\n        />\r\n        \r\n        <GameCard\r\n          title=\"Pattern Matching\"\r\n          description=\"Replicate patterns on grid\"\r\n          icon=\"ðŸŽ¨\"\r\n          onClick={() => setCurrentGame('pattern')}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThreeGames;\r\n\r\n// import React, { useState, useRef, useEffect } from 'react';\r\n// import { Home, Check, X, RefreshCw, Play } from 'lucide-react';\r\n// import axios from 'axios';\r\n// import { useNavigate } from 'react-router-dom';\r\n\r\n// const ThreeGames = () => {\r\n//   const [currentGame, setCurrentGame] = useState('menu');\r\n//   const [userId, setUserId] = useState(null);\r\n//   const [isLoading, setIsLoading] = useState(true);\r\n//   const [error, setError] = useState(null);\r\n//   const [performanceData, setPerformanceData] = useState({\r\n//     totalGames: 0,\r\n//     totalCorrect: 0,\r\n//     totalScore: 0,\r\n//     gameTypes: {},\r\n//     dailyStats: {},\r\n//     history: []\r\n//   });\r\n  \r\n//   const navigate = useNavigate();\r\n//   const API_URL = 'http://localhost:5000/api';\r\n\r\n//   useEffect(() => {\r\n//     const token = localStorage.getItem('token');\r\n//     const deviceId = localStorage.getItem('deviceId');\r\n\r\n//     if (token) {\r\n//       axios.get(`${API_URL}/auth/verify`, {\r\n//         headers: { \r\n//           Authorization: `${token}`,\r\n//           'X-Device-Id': deviceId \r\n//         }\r\n//       })\r\n//       .then(response => {\r\n//         setUserId(response.data.userId);\r\n//         fetchUserData(response.data.userId);\r\n//       })\r\n//       .catch(err => {\r\n//         console.error(\"Authentication error:\", err);\r\n//         localStorage.removeItem('token');\r\n//         setIsLoading(false);\r\n//         loadLocalData();\r\n//       });\r\n//     } else {\r\n//       loadLocalData();\r\n//       setIsLoading(false);\r\n//     }\r\n//   }, []);\r\n\r\n//   const loadLocalData = () => {\r\n//     const savedData = localStorage.getItem('threeGamesPerformance');\r\n//     if (savedData) {\r\n//       try {\r\n//         setPerformanceData(JSON.parse(savedData));\r\n//       } catch (e) {\r\n//         console.error(\"Error parsing saved performance data\", e);\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   const fetchUserData = (uid) => {\r\n//     const token = localStorage.getItem('token');\r\n//     const deviceId = localStorage.getItem('deviceId');\r\n\r\n//     setIsLoading(true);\r\n//     axios.get(`${API_URL}/performance/${uid}`, {\r\n//       headers: { \r\n//         Authorization: `${token}`,\r\n//         'X-Device-Id': deviceId \r\n//       }\r\n//     })\r\n//     .then(response => {\r\n//       if (response.data) {\r\n//         setPerformanceData(response.data);\r\n//       }\r\n//       setIsLoading(false);\r\n//     })\r\n//     .catch(err => {\r\n//       console.error(\"Error fetching user data:\", err);\r\n//       setError(\"Could not load your data. Using local data instead.\");\r\n//       loadLocalData();\r\n//       setIsLoading(false);\r\n//     });\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (isLoading) return;\r\n    \r\n//     localStorage.setItem('threeGamesPerformance', JSON.stringify(performanceData));\r\n    \r\n//     const deviceId = localStorage.getItem('deviceId');\r\n//     if (userId) {\r\n//       const timerId = setTimeout(() => {\r\n//         axios.post(`${API_URL}/performance/${userId}`, performanceData, {\r\n//           headers: { \r\n//             'Content-Type': 'application/json',\r\n//             'Authorization': `${localStorage.getItem('token')}`,\r\n//             'X-Device-Id': deviceId\r\n//           }\r\n//         })\r\n//         .then(response => {\r\n//           console.log(\"Successfully saved to server:\", response.data);\r\n//         })\r\n//         .catch(err => {\r\n//           console.error(\"Error saving data to server:\", err);\r\n//         });\r\n//       }, 2000);\r\n      \r\n//       return () => clearTimeout(timerId);\r\n//     }\r\n//   }, [performanceData, userId, isLoading]);\r\n\r\n//   const getCurrentDateString = () => {\r\n//     const now = new Date();\r\n//     return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\r\n//   };\r\n\r\n//   const updatePerformanceData = (gameType, correct, score, additionalData = {}) => {\r\n//     const today = getCurrentDateString();\r\n    \r\n//     setPerformanceData(prevData => {\r\n//       const newData = JSON.parse(JSON.stringify(prevData));\r\n      \r\n//       newData.totalGames = (newData.totalGames || 0) + 1;\r\n//       newData.totalCorrect = (newData.totalCorrect || 0) + (correct ? 1 : 0);\r\n//       newData.totalScore = (newData.totalScore || 0) + score;\r\n      \r\n//       if (!newData.gameTypes[gameType]) {\r\n//         newData.gameTypes[gameType] = {\r\n//           plays: 0,\r\n//           correct: 0,\r\n//           score: 0,\r\n//           totalQuestions: 0,\r\n//           correctAnswers: 0\r\n//         };\r\n//       }\r\n//       newData.gameTypes[gameType].plays += 1;\r\n//       newData.gameTypes[gameType].correct += correct ? 1 : 0;\r\n//       newData.gameTypes[gameType].score += score;\r\n//       newData.gameTypes[gameType].totalQuestions += (additionalData.totalQuestions || 1);\r\n//       newData.gameTypes[gameType].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\r\n      \r\n//       if (!newData.dailyStats[today]) {\r\n//         newData.dailyStats[today] = {\r\n//           plays: 0,\r\n//           correct: 0,\r\n//           score: 0,\r\n//           totalQuestions: 0,\r\n//           correctAnswers: 0,\r\n//           gameTypes: {}\r\n//         };\r\n//       }\r\n//       newData.dailyStats[today].plays += 1;\r\n//       newData.dailyStats[today].correct += correct ? 1 : 0;\r\n//       newData.dailyStats[today].score += score;\r\n//       newData.dailyStats[today].totalQuestions += (additionalData.totalQuestions || 1);\r\n//       newData.dailyStats[today].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\r\n      \r\n//       if (!newData.dailyStats[today].gameTypes[gameType]) {\r\n//         newData.dailyStats[today].gameTypes[gameType] = {\r\n//           plays: 0,\r\n//           correct: 0,\r\n//           score: 0,\r\n//           totalQuestions: 0,\r\n//           correctAnswers: 0\r\n//         };\r\n//       }\r\n//       newData.dailyStats[today].gameTypes[gameType].plays += 1;\r\n//       newData.dailyStats[today].gameTypes[gameType].correct += correct ? 1 : 0;\r\n//       newData.dailyStats[today].gameTypes[gameType].score += score;\r\n//       newData.dailyStats[today].gameTypes[gameType].totalQuestions += (additionalData.totalQuestions || 1);\r\n//       newData.dailyStats[today].gameTypes[gameType].correctAnswers += (additionalData.correctAnswers || (correct ? 1 : 0));\r\n      \r\n//       newData.history = newData.history || [];\r\n//       newData.history.unshift({\r\n//         date: today,\r\n//         timestamp: new Date().toISOString(),\r\n//         gameType,\r\n//         difficulty: additionalData.difficulty || 'N/A',\r\n//         speed: additionalData.speed || 0,\r\n//         count: additionalData.count || 1,\r\n//         correct,\r\n//         score,\r\n//         maxScore: additionalData.maxScore || score,\r\n//         totalQuestions: additionalData.totalQuestions || 1,\r\n//         correctAnswers: additionalData.correctAnswers || (correct ? 1 : 0),\r\n//         accuracy: additionalData.accuracy || (correct ? '100%' : '0%'),\r\n//         userId\r\n//       });\r\n      \r\n//       if (newData.history.length > 100) {\r\n//         newData.history = newData.history.slice(0, 100);\r\n//       }\r\n      \r\n//       return newData;\r\n//     });\r\n//   };\r\n\r\n//   if (isLoading) {\r\n//     return (\r\n//       <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center\">\r\n//         <div className=\"text-2xl font-bold text-gray-700\">Loading...</div>\r\n//       </div>\r\n//     );\r\n//   }\r\n  \r\n//   return (\r\n//     <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4\">\r\n//       {error && (\r\n//         <div className=\"max-w-4xl mx-auto mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n//           {error}\r\n//           <button onClick={() => setError(null)} className=\"float-right font-bold\">Ã—</button>\r\n//         </div>\r\n//       )}\r\n      \r\n//       {currentGame === 'menu' && <GameMenu setCurrentGame={setCurrentGame} navigate={navigate} userId={userId} />}\r\n//       {currentGame === 'table' && <TableGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n//       {currentGame === 'circle' && <CircleGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n//       {currentGame === 'pattern' && <PatternGame setCurrentGame={setCurrentGame} updatePerformanceData={updatePerformanceData} />}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// const GameMenu = ({ setCurrentGame, navigate, userId }) => {\r\n//   return (\r\n//     <div className=\"max-w-4xl mx-auto\">\r\n//       <div className=\"flex justify-between items-center mb-8\">\r\n//         <h1 className=\"text-4xl font-bold text-gray-800\">Educational Games</h1>\r\n//         <div className=\"flex gap-4\">\r\n//           {userId ? (\r\n//             <div className=\"text-sm text-green-600 flex items-center gap-2\">\r\n//               âœ“ Data syncing\r\n//             </div>\r\n//           ) : (\r\n//             <button\r\n//               onClick={() => navigate('/login')}\r\n//               className=\"bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 text-sm\"\r\n//             >\r\n//               Login\r\n//             </button>\r\n//           )}\r\n//           <button\r\n//             onClick={() => navigate('/')}\r\n//             className=\"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 text-sm\"\r\n//           >\r\n//             Dashboard\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n      \r\n//       <div className=\"grid md:grid-cols-3 gap-6\">\r\n//         <GameCard\r\n//           title=\"Table Game\"\r\n//           description=\"Practice multiplication tables\"\r\n//           icon=\"ðŸ“Š\"\r\n//           onClick={() => setCurrentGame('table')}\r\n//           color=\"from-blue-400 to-blue-600\"\r\n//         />\r\n        \r\n//         <GameCard\r\n//           title=\"Circle Accuracy\"\r\n//           description=\"Draw perfect circles\"\r\n//           icon=\"â­•\"\r\n//           onClick={() => setCurrentGame('circle')}\r\n//           color=\"from-green-400 to-green-600\"\r\n//         />\r\n        \r\n//         <GameCard\r\n//           title=\"Pattern Matching\"\r\n//           description=\"Replicate patterns on grid\"\r\n//           icon=\"ðŸŽ¨\"\r\n//           onClick={() => setCurrentGame('pattern')}\r\n//           color=\"from-purple-400 to-purple-600\"\r\n//         />\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// const GameCard = ({ title, description, icon, onClick, color }) => {\r\n//   return (\r\n//     <div\r\n//       onClick={onClick}\r\n//       className={`bg-gradient-to-br ${color} rounded-xl p-6 cursor-pointer transform transition hover:scale-105 hover:shadow-xl text-white`}\r\n//     >\r\n//       <div className=\"text-6xl mb-4 text-center\">{icon}</div>\r\n//       <h3 className=\"text-2xl font-bold mb-2 text-center\">{title}</h3>\r\n//       <p className=\"text-center text-white/90\">{description}</p>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // TABLE GAME\r\n// const TableGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n//   const [gameState, setGameState] = useState('setup');\r\n//   const [difficulty, setDifficulty] = useState('single');\r\n//   const [totalTime, setTotalTime] = useState(60);\r\n//   const [currentNumber, setCurrentNumber] = useState(null);\r\n//   const [userAnswers, setUserAnswers] = useState(Array(10).fill(''));\r\n//   const [timeLeft, setTimeLeft] = useState(60);\r\n//   const [result, setResult] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     if (gameState === 'playing' && timeLeft > 0) {\r\n//       const timer = setInterval(() => {\r\n//         setTimeLeft(prev => {\r\n//           if (prev <= 1) {\r\n//             clearInterval(timer);\r\n//             checkAnswers();\r\n//             return 0;\r\n//           }\r\n//           return prev - 1;\r\n//         });\r\n//       }, 1000);\r\n//       return () => clearInterval(timer);\r\n//     }\r\n//   }, [gameState, timeLeft]);\r\n\r\n//   const startGame = () => {\r\n//     let num;\r\n//     if (difficulty === 'single') num = Math.floor(Math.random() * 9) + 1;\r\n//     else if (difficulty === 'double') num = Math.floor(Math.random() * 90) + 10;\r\n//     else num = Math.floor(Math.random() * 900) + 100;\r\n    \r\n//     setCurrentNumber(num);\r\n//     setTimeLeft(totalTime);\r\n//     setUserAnswers(Array(10).fill(''));\r\n//     setGameState('playing');\r\n//     setResult(null);\r\n//   };\r\n\r\n//   const checkAnswers = () => {\r\n//     const correctAnswers = Array(10).fill(0).map((_, i) => currentNumber * (i + 1));\r\n//     const userNumAnswers = userAnswers.map(ans => parseInt(ans) || 0);\r\n    \r\n//     const correctCount = userNumAnswers.filter((ans, idx) => ans === correctAnswers[idx]).length;\r\n//     const accuracy = (correctCount / 10) * 100;\r\n//     const isCorrect = accuracy >= 80;\r\n//     const score = isCorrect ? 2 : -1;\r\n    \r\n//     setResult({\r\n//       correct: isCorrect,\r\n//       accuracy: accuracy.toFixed(1),\r\n//       correctAnswers,\r\n//       correctCount,\r\n//       score\r\n//     });\r\n    \r\n//     updatePerformanceData('tableGame', isCorrect, score, {\r\n//       difficulty,\r\n//       speed: totalTime,\r\n//       count: 10,\r\n//       totalQuestions: 10,\r\n//       correctAnswers: correctCount,\r\n//       accuracy: accuracy.toFixed(1) + '%',\r\n//       maxScore: 2\r\n//     });\r\n    \r\n//     setGameState('result');\r\n//   };\r\n\r\n//   const handleAnswerChange = (index, value) => {\r\n//     const newAnswers = [...userAnswers];\r\n//     newAnswers[index] = value;\r\n//     setUserAnswers(newAnswers);\r\n//   };\r\n\r\n//   if (gameState === 'setup') {\r\n//     return (\r\n//       <div className=\"max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n//         <button onClick={() => setCurrentGame('menu')} className=\"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-800\">\r\n//           <Home size={20} /> Back\r\n//         </button>\r\n\r\n//         <h2 className=\"text-3xl font-bold mb-6 text-center text-gray-800\">Table Game</h2>\r\n\r\n//         <div className=\"space-y-6\">\r\n//           <div>\r\n//             <label className=\"block text-lg font-semibold mb-2\">Difficulty:</label>\r\n//             <select value={difficulty} onChange={(e) => setDifficulty(e.target.value)} className=\"w-full p-3 border-2 rounded-lg\">\r\n//               <option value=\"single\">Single (1-9)</option>\r\n//               <option value=\"double\">Double (10-99)</option>\r\n//               <option value=\"triple\">Triple (100-999)</option>\r\n//             </select>\r\n//           </div>\r\n\r\n//           <div>\r\n//             <label className=\"block text-lg font-semibold mb-2\">Time: {totalTime}s</label>\r\n//             <input type=\"range\" min=\"30\" max=\"180\" step=\"10\" value={totalTime} onChange={(e) => setTotalTime(parseInt(e.target.value))} className=\"w-full\" />\r\n//           </div>\r\n\r\n//           <button onClick={startGame} className=\"w-full bg-blue-500 text-white py-4 rounded-lg font-bold hover:bg-blue-600 flex items-center justify-center gap-2\">\r\n//             <Play size={24} /> Start\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   if (gameState === 'playing') {\r\n//     return (\r\n//       <div className=\"max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n//         <div className=\"mb-6 flex justify-between items-center\">\r\n//           <h2 className=\"text-3xl font-bold\">Table of {currentNumber}</h2>\r\n//           <div className={`text-2xl font-bold ${timeLeft <= 10 ? 'text-red-600' : 'text-blue-600'}`}>\r\n//             {timeLeft}s\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n//           {Array(10).fill(0).map((_, i) => (\r\n//             <div key={i} className=\"flex items-center gap-3\">\r\n//               <span className=\"text-xl font-semibold w-32\">{currentNumber} Ã— {i + 1} =</span>\r\n//               <input\r\n//                 type=\"number\"\r\n//                 value={userAnswers[i]}\r\n//                 onChange={(e) => handleAnswerChange(i, e.target.value)}\r\n//                 className=\"flex-1 p-3 border-2 rounded-lg\"\r\n//               />\r\n//             </div>\r\n//           ))}\r\n//         </div>\r\n\r\n//         <button onClick={checkAnswers} className=\"w-full bg-green-500 text-white py-4 rounded-lg font-bold hover:bg-green-600\">\r\n//           Submit\r\n//         </button>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   if (gameState === 'result') {\r\n//     return (\r\n//       <div className=\"max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n//         <h2 className=\"text-3xl font-bold mb-6 text-center\">Results</h2>\r\n\r\n//         <div className={`text-center mb-6 p-6 rounded-lg ${result.correct ? 'bg-green-100' : 'bg-red-100'}`}>\r\n//           <div className=\"text-6xl mb-4\">{result.correct ? 'ðŸŽ‰' : 'ðŸ˜”'}</div>\r\n//           <div className=\"text-2xl font-bold mb-2\">{result.correct ? 'Excellent!' : 'Keep Practicing!'}</div>\r\n//           <div className=\"text-xl\">Accuracy: {result.accuracy}% ({result.correctCount}/10)</div>\r\n//           <div className=\"text-lg mt-2\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n//         </div>\r\n\r\n//         <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n//           {Array(10).fill(0).map((_, i) => {\r\n//             const isCorrect = parseInt(userAnswers[i]) === result.correctAnswers[i];\r\n//             return (\r\n//               <div key={i} className={`p-3 rounded-lg ${isCorrect ? 'bg-green-50 border-2 border-green-500' : 'bg-red-50 border-2 border-red-500'}`}>\r\n//                 <div className=\"flex justify-between\">\r\n//                   <span>{currentNumber} Ã— {i + 1} = {result.correctAnswers[i]}</span>\r\n//                   {isCorrect ? <Check className=\"text-green-600\" /> : <X className=\"text-red-600\" />}\r\n//                 </div>\r\n//                 {!isCorrect && <div className=\"text-sm text-gray-600\">Your: {userAnswers[i] || 'None'}</div>}\r\n//               </div>\r\n//             );\r\n//           })}\r\n//         </div>\r\n\r\n//         <div className=\"flex gap-4\">\r\n//           <button onClick={() => setGameState('setup')} className=\"flex-1 bg-blue-500 text-white py-4 rounded-lg font-bold hover:bg-blue-600 flex items-center justify-center gap-2\">\r\n//             <RefreshCw size={24} /> Again\r\n//           </button>\r\n//           <button onClick={() => setCurrentGame('menu')} className=\"flex-1 bg-gray-500 text-white py-4 rounded-lg font-bold hover:bg-gray-600 flex items-center justify-center gap-2\">\r\n//             <Home size={24} /> Menu\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n// };\r\n\r\n// // CIRCLE GAME\r\n// const CircleGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n//   const canvasRef = useRef(null);\r\n//   const [isDrawing, setIsDrawing] = useState(false);\r\n//   const [points, setPoints] = useState([]);\r\n//   const [result, setResult] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     const canvas = canvasRef.current;\r\n//     if (canvas) {\r\n//       const ctx = canvas.getContext('2d');\r\n//       ctx.fillStyle = 'white';\r\n//       ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n//     }\r\n//   }, []);\r\n\r\n//   const startDrawing = (e) => {\r\n//     setIsDrawing(true);\r\n//     setPoints([]);\r\n//     setResult(null);\r\n//     const canvas = canvasRef.current;\r\n//     const rect = canvas.getBoundingClientRect();\r\n//     setPoints([{ x: e.clientX - rect.left, y: e.clientY - rect.top }]);\r\n//   };\r\n\r\n//   const draw = (e) => {\r\n//     if (!isDrawing) return;\r\n//     const canvas = canvasRef.current;\r\n//     const ctx = canvas.getContext('2d');\r\n//     const rect = canvas.getBoundingClientRect();\r\n//     const x = e.clientX - rect.left;\r\n//     const y = e.clientY - rect.top;\r\n\r\n//     ctx.strokeStyle = '#3B82F6';\r\n//     ctx.lineWidth = 3;\r\n//     ctx.lineCap = 'round';\r\n\r\n//     if (points.length > 0) {\r\n//       ctx.beginPath();\r\n//       ctx.moveTo(points[points.length - 1].x, points[points.length - 1].y);\r\n//       ctx.lineTo(x, y);\r\n//       ctx.stroke();\r\n//     }\r\n//     setPoints([...points, { x, y }]);\r\n//   };\r\n\r\n//   const stopDrawing = () => {\r\n//     if (isDrawing && points.length > 10) calculateCircleAccuracy();\r\n//     setIsDrawing(false);\r\n//   };\r\n\r\n//   const calculateCircleAccuracy = () => {\r\n//     if (points.length < 10) return;\r\n\r\n//     const centerX = points.reduce((sum, p) => sum + p.x, 0) / points.length;\r\n//     const centerY = points.reduce((sum, p) => sum + p.y, 0) / points.length;\r\n//     const radii = points.map(p => Math.sqrt(Math.pow(p.x - centerX, 2) + Math.pow(p.y - centerY, 2)));\r\n//     const avgRadius = radii.reduce((sum, r) => sum + r, 0) / radii.length;\r\n//     const variance = radii.reduce((sum, r) => sum + Math.pow(r - avgRadius, 2), 0) / radii.length;\r\n//     const stdDev = Math.sqrt(variance);\r\n//     const accuracy = Math.max(0, Math.min(100, 100 - (stdDev / avgRadius) * 100));\r\n//     const isCorrect = accuracy >= 70;\r\n//     const score = accuracy >= 90 ? 2 : accuracy >= 70 ? 1 : -1;\r\n\r\n//     setResult({\r\n//       accuracy: accuracy.toFixed(1),\r\n//       perfect: accuracy >= 90,\r\n//       good: accuracy >= 70,\r\n//       correct: isCorrect,\r\n//       score,\r\n//       centerX,\r\n//       centerY,\r\n//       avgRadius\r\n//     });\r\n\r\n//     updatePerformanceData('circleAccuracy', isCorrect, score, {\r\n//       difficulty: 'N/A',\r\n//       totalQuestions: 1,\r\n//       correctAnswers: isCorrect ? 1 : 0,\r\n//       accuracy: accuracy.toFixed(1) + '%',\r\n//       maxScore: 2\r\n//     });\r\n\r\n//     const canvas = canvasRef.current;\r\n//     const ctx = canvas.getContext('2d');\r\n//     ctx.strokeStyle = 'rgba(34, 197, 94, 0.5)';\r\n//     ctx.lineWidth = 2;\r\n//     ctx.setLineDash([5, 5]);\r\n//     ctx.beginPath();\r\n//     ctx.arc(centerX, centerY, avgRadius, 0, 2 * Math.PI);\r\n//     ctx.stroke();\r\n//     ctx.setLineDash([]);\r\n//   };\r\n\r\n//   const clearCanvas = () => {\r\n//     const canvas = canvasRef.current;\r\n//     const ctx = canvas.getContext('2d');\r\n//     ctx.fillStyle = 'white';\r\n//     ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n//     setPoints([]);\r\n//     setResult(null);\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n//       <button onClick={() => setCurrentGame('menu')} className=\"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-800\">\r\n//         <Home size={20} /> Back\r\n//       </button>\r\n\r\n//       <h2 className=\"text-3xl font-bold mb-6 text-center\">Circle Accuracy</h2>\r\n//       <div className=\"mb-6 text-center text-gray-600\">Draw a perfect circle!</div>\r\n\r\n//       <canvas\r\n//         ref={canvasRef}\r\n//         width={600}\r\n//         height={600}\r\n//         onMouseDown={startDrawing}\r\n//         onMouseMove={draw}\r\n//         onMouseUp={stopDrawing}\r\n//         onMouseLeave={stopDrawing}\r\n//         className=\"border-4 border-gray-300 rounded-lg cursor-crosshair mx-auto block bg-white mb-6\"\r\n//       />\r\n\r\n//       {result && (\r\n//         <div className={`mb-6 p-6 rounded-lg text-center ${result.perfect ? 'bg-green-100' : result.good ? 'bg-yellow-100' : 'bg-orange-100'}`}>\r\n//           <div className=\"text-5xl mb-3\">{result.perfect ? 'ðŸŽ¯' : result.good ? 'ðŸ‘' : 'ðŸ’ª'}</div>\r\n//           <div className=\"text-2xl font-bold mb-2\">Accuracy: {result.accuracy}%</div>\r\n//           <div className=\"text-lg\">{result.perfect ? 'Perfect!' : result.good ? 'Good!' : 'Keep Trying!'}</div>\r\n//           <div className=\"text-lg mt-2\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n//         </div>\r\n//       )}\r\n\r\n//       <div className=\"flex gap-4\">\r\n//         <button onClick={clearCanvas} className=\"flex-1 bg-orange-500 text-white py-4 rounded-lg font-bold hover:bg-orange-600 flex items-center justify-center gap-2\">\r\n//           <RefreshCw size={24} /> Clear\r\n//         </button>\r\n//         <button onClick={() => setCurrentGame('menu')} className=\"flex-1 bg-gray-500 text-white py-4 rounded-lg font-bold hover:bg-gray-600 flex items-center justify-center gap-2\">\r\n//           <Home size={24} /> Menu\r\n//         </button>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // PATTERN GAME\r\n// const PatternGame = ({ setCurrentGame, updatePerformanceData }) => {\r\n//   const canvasRef = useRef(null);\r\n//   const [gameState, setGameState] = useState('setup');\r\n//   const [timeLimit, setTimeLimit] = useState(60);\r\n//   const [timeLeft, setTimeLeft] = useState(60);\r\n//   const [currentPattern, setCurrentPattern] = useState(null);\r\n//   const [isDrawing, setIsDrawing] = useState(false);\r\n//   const [lastPoint, setLastPoint] = useState(null);\r\n//   const [drawnLines, setDrawnLines] = useState([]);\r\n//   const [result, setResult] = useState(null);\r\n\r\n//   const patterns = [\r\n//     { name: 'Stairs', lines: [[1,5,1,3], [1,3,3,3], [3,3,3,1], [3,1,5,1]] },\r\n//     { name: 'House', lines: [[2,1,4,3], [4,3,4,5], [4,5,2,5], [2,5,2,3], [2,3,2,1]] },\r\n//     { name: 'Arrow', lines: [[3,1,1,3], [3,1,5,3], [3,1,3,5]] },\r\n//     { name: 'Star', lines: [[3,1,2,5], [3,1,4,5], [1,2,5,2], [1,4,5,4], [2,2,4,4], [2,4,4,2]] },\r\n//     { name: 'Triangle', lines: [[3,1,1,5], [3,1,5,5], [1,5,5,5]] },\r\n//   ];\r\n\r\n//   useEffect(() => {\r\n//     if (gameState === 'playing' && timeLeft > 0) {\r\n//       const timer = setInterval(() => {\r\n//         setTimeLeft(prev => {\r\n//           if (prev <= 1) {\r\n//             clearInterval(timer);\r\n//             checkPattern();\r\n//             return 0;\r\n//           }\r\n//           return prev - 1;\r\n//         });\r\n//       }, 1000);\r\n//       return () => clearInterval(timer);\r\n//     }\r\n//   }, [gameState, timeLeft]);\r\n\r\n//   useEffect(() => {\r\n//     const canvas = canvasRef.current;\r\n//     if (canvas && currentPattern) {\r\n//       drawGrid(canvas);\r\n//       if (gameState === 'setup') drawPattern(canvas, currentPattern.lines);\r\n//     }\r\n//   }, [currentPattern, gameState]);\r\n\r\n//   const drawGrid = (canvas) => {\r\n//     const ctx = canvas.getContext('2d');\r\n//     ctx.fillStyle = 'white';\r\n//     ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    \r\n//     const cellSize = canvas.width / 6;\r\n//     ctx.fillStyle = '#CBD5E1';\r\n//     for (let i = 0; i < 6; i++) {\r\n//       for (let j = 0; j < 6; j++) {\r\n//         ctx.beginPath();\r\n//         ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 4, 0, 2 * Math.PI);\r\n//         ctx.fill();\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   const drawPattern = (canvas, lines, color = '#3B82F6') => {\r\n//     const ctx = canvas.getContext('2d');\r\n//     const cellSize = canvas.width / 6;\r\n//     ctx.strokeStyle = color;\r\n//     ctx.lineWidth = 3;\r\n//     ctx.lineCap = 'round';\r\n//     lines.forEach(([x1, y1, x2, y2]) => {\r\n//       ctx.beginPath();\r\n//       ctx.moveTo(cellSize * x1, cellSize * y1);\r\n//       ctx.lineTo(cellSize * x2, cellSize * y2);\r\n//       ctx.stroke();\r\n//     });\r\n//   };\r\n\r\n//   const startGame = () => {\r\n//     setTimeLeft(timeLimit);\r\n//     setGameState('playing');\r\n//     setDrawnLines([]);\r\n//     setResult(null);\r\n//   };\r\n\r\n//   const getGridPoint = (x, y, canvas) => {\r\n//     const cellSize = canvas.width / 6;\r\n//     return { x: Math.round(x / cellSize), y: Math.round(y / cellSize) };\r\n//   };\r\n\r\n//   const handleMouseDown = (e) => {\r\n//     if (gameState !== 'playing') return;\r\n//     const canvas = canvasRef.current;\r\n//     const rect = canvas.getBoundingClientRect();\r\n//     const point = getGridPoint(e.clientX - rect.left, e.clientY - rect.top, canvas);\r\n//     setIsDrawing(true);\r\n//     setLastPoint(point);\r\n//   };\r\n\r\n//   const handleMouseMove = (e) => {\r\n//     if (!isDrawing || gameState !== 'playing') return;\r\n//     const canvas = canvasRef.current;\r\n//     const rect = canvas.getBoundingClientRect();\r\n//     const point = getGridPoint(e.clientX - rect.left, e.clientY - rect.top, canvas);\r\n    \r\n//     if (point.x !== lastPoint.x || point.y !== lastPoint.y) {\r\n//       const newLines = [...drawnLines, [lastPoint.x, lastPoint.y, point.x, point.y]];\r\n//       setDrawnLines(newLines);\r\n//       drawGrid(canvas);\r\n//       drawPattern(canvas, newLines, '#10B981');\r\n//       setLastPoint(point);\r\n//     }\r\n//   };\r\n\r\n//   const handleMouseUp = () => {\r\n//     setIsDrawing(false);\r\n//     setLastPoint(null);\r\n//   };\r\n\r\n//   const checkPattern = () => {\r\n//     if (!currentPattern) return;\r\n\r\n//     const normalizeLine = (line) => {\r\n//       const [x1, y1, x2, y2] = line;\r\n//       return x1 > x2 || (x1 === x2 && y1 > y2) ? [x2, y2, x1, y1] : line;\r\n//     };\r\n\r\n//     const normalizedPattern = currentPattern.lines.map(normalizeLine).sort().map(l => l.join(','));\r\n//     const normalizedDrawn = drawnLines.map(normalizeLine).sort().map(l => l.join(','));\r\n//     const matchedLines = normalizedDrawn.filter(line => normalizedPattern.includes(line)).length;\r\n//     const accuracy = (matchedLines / normalizedPattern.length) * 100;\r\n//     const isCorrect = accuracy >= 80;\r\n//     const score = isCorrect ? 2 : -1;\r\n\r\n//     setResult({\r\n//       accuracy: accuracy.toFixed(1),\r\n//       correct: isCorrect,\r\n//       matchedLines,\r\n//       totalLines: normalizedPattern.length,\r\n//       score\r\n//     });\r\n    \r\n//     updatePerformanceData('patternMatching', isCorrect, score, {\r\n//       difficulty: currentPattern.name,\r\n//       speed: timeLimit,\r\n//       count: currentPattern.lines.length,\r\n//       totalQuestions: currentPattern.lines.length,\r\n//       correctAnswers: matchedLines,\r\n//       accuracy: accuracy.toFixed(1) + '%',\r\n//       maxScore: 2\r\n//     });\r\n    \r\n//     setGameState('result');\r\n//   };\r\n\r\n//   const clearDrawing = () => {\r\n//     setDrawnLines([]);\r\n//     const canvas = canvasRef.current;\r\n//     if (canvas) drawGrid(canvas);\r\n//   };\r\n\r\n//   if (gameState === 'setup') {\r\n//     return (\r\n//       <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n//         <button onClick={() => setCurrentGame('menu')} className=\"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-800\">\r\n//           <Home size={20} /> Back\r\n//         </button>\r\n\r\n//         <h2 className=\"text-3xl font-bold mb-6 text-center\">Pattern Matching</h2>\r\n\r\n//         {!currentPattern ? (\r\n//           <>\r\n//             <div className=\"mb-6\">\r\n//               <label className=\"block text-lg font-semibold mb-2\">Time: {timeLimit}s</label>\r\n//               <input type=\"range\" min=\"30\" max=\"120\" step=\"10\" value={timeLimit} onChange={(e) => setTimeLimit(parseInt(e.target.value))} className=\"w-full\" />\r\n//             </div>\r\n//             <button\r\n//               onClick={() => setCurrentPattern(patterns[Math.floor(Math.random() * patterns.length)])}\r\n//               className=\"w-full bg-purple-500 text-white py-4 rounded-lg font-bold hover:bg-purple-600\"\r\n//             >\r\n//               Show Pattern\r\n//             </button>\r\n//           </>\r\n//         ) : (\r\n//           <>\r\n//             <div className=\"text-center mb-6\">\r\n//               <h3 className=\"text-2xl font-bold mb-4\">Memorize: {currentPattern.name}</h3>\r\n//               <p className=\"text-gray-600\">You have {timeLimit}s to replicate it</p>\r\n//             </div>\r\n//             <canvas ref={canvasRef} width={400} height={400} className=\"border-4 border-gray-300 rounded-lg mx-auto block mb-6\" />\r\n//             <button onClick={startGame} className=\"w-full bg-green-500 text-white py-4 rounded-lg font-bold hover:bg-green-600 flex items-center justify-center gap-2\">\r\n//               <Play size={24} /> Start Drawing\r\n//             </button>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   if (gameState === 'playing') {\r\n//     return (\r\n//       <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n//         <div className=\"mb-6 flex justify-between items-center\">\r\n//           <h2 className=\"text-3xl font-bold\">Draw the Pattern</h2>\r\n//           <div className={`text-2xl font-bold ${timeLeft <= 10 ? 'text-red-600' : 'text-blue-600'}`}>\r\n//             {timeLeft}s\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"text-center mb-4 text-gray-600\">Click and drag to connect dots</div>\r\n\r\n//         <canvas\r\n//           ref={canvasRef}\r\n//           width={400}\r\n//           height={400}\r\n//           onMouseDown={handleMouseDown}\r\n//           onMouseMove={handleMouseMove}\r\n//           onMouseUp={handleMouseUp}\r\n//           onMouseLeave={handleMouseUp}\r\n//           className=\"border-4 border-gray-300 rounded-lg cursor-crosshair mx-auto block mb-6\"\r\n//         />\r\n\r\n//         <div className=\"flex gap-4\">\r\n//           <button onClick={clearDrawing} className=\"flex-1 bg-orange-500 text-white py-3 rounded-lg font-bold hover:bg-orange-600\">\r\n//             Clear\r\n//           </button>\r\n//           <button onClick={checkPattern} className=\"flex-1 bg-green-500 text-white py-3 rounded-lg font-bold hover:bg-green-600\">\r\n//             Submit\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   if (gameState === 'result') {\r\n//     return (\r\n//       <div className=\"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n//         <h2 className=\"text-3xl font-bold mb-6 text-center\">Results</h2>\r\n\r\n//         <div className={`text-center mb-6 p-6 rounded-lg ${result.correct ? 'bg-green-100' : 'bg-red-100'}`}>\r\n//           <div className=\"text-6xl mb-4\">{result.correct ? 'ðŸŽ‰' : 'ðŸ˜”'}</div>\r\n//           <div className=\"text-2xl font-bold mb-2\">{result.correct ? 'Well Done!' : 'Keep Trying!'}</div>\r\n//           <div className=\"text-xl\">Accuracy: {result.accuracy}%</div>\r\n//           <div className=\"text-lg mt-2\">Matched {result.matchedLines}/{result.totalLines} lines</div>\r\n//           <div className=\"text-lg mt-2\">Score: {result.score > 0 ? '+' : ''}{result.score}</div>\r\n//         </div>\r\n\r\n//         <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\r\n//           <div>\r\n//             <h3 className=\"text-xl font-bold mb-3 text-center\">Original</h3>\r\n//             <canvas\r\n//               ref={(canvas) => {\r\n//                 if (canvas && currentPattern) {\r\n//                   const ctx = canvas.getContext('2d');\r\n//                   ctx.fillStyle = 'white';\r\n//                   ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n                  \r\n//                   const cellSize = canvas.width / 6;\r\n//                   ctx.fillStyle = '#CBD5E1';\r\n//                   for (let i = 0; i < 6; i++) {\r\n//                     for (let j = 0; j < 6; j++) {\r\n//                       ctx.beginPath();\r\n//                       ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 4, 0, 2 * Math.PI);\r\n//                       ctx.fill();\r\n//                     }\r\n//                   }\r\n                  \r\n//                   ctx.strokeStyle = '#3B82F6';\r\n//                   ctx.lineWidth = 3;\r\n//                   ctx.lineCap = 'round';\r\n//                   currentPattern.lines.forEach(([x1, y1, x2, y2]) => {\r\n//                     ctx.beginPath();\r\n//                     ctx.moveTo(cellSize * x1, cellSize * y1);\r\n//                     ctx.lineTo(cellSize * x2, cellSize * y2);\r\n//                     ctx.stroke();\r\n//                   });\r\n//                 }\r\n//               }}\r\n//               width={300}\r\n//               height={300}\r\n//               className=\"border-4 border-blue-300 rounded-lg mx-auto\"\r\n//             />\r\n//           </div>\r\n          \r\n//           <div>\r\n//             <h3 className=\"text-xl font-bold mb-3 text-center\">Your Drawing</h3>\r\n//             <canvas\r\n//               ref={(canvas) => {\r\n//                 if (canvas) {\r\n//                   const ctx = canvas.getContext('2d');\r\n//                   ctx.fillStyle = 'white';\r\n//                   ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n                  \r\n//                   const cellSize = canvas.width / 6;\r\n//                   ctx.fillStyle = '#CBD5E1';\r\n//                   for (let i = 0; i < 6; i++) {\r\n//                     for (let j = 0; j < 6; j++) {\r\n//                       ctx.beginPath();\r\n//                       ctx.arc(cellSize * (i + 0.5), cellSize * (j + 0.5), 4, 0, 2 * Math.PI);\r\n//                       ctx.fill();\r\n//                     }\r\n//                   }\r\n                  \r\n//                   ctx.strokeStyle = '#10B981';\r\n//                   ctx.lineWidth = 3;\r\n//                   ctx.lineCap = 'round';\r\n//                   drawnLines.forEach(([x1, y1, x2, y2]) => {\r\n//                     ctx.beginPath();\r\n//                     ctx.moveTo(cellSize * x1, cellSize * y1);\r\n//                     ctx.lineTo(cellSize * x2, cellSize * y2);\r\n//                     ctx.stroke();\r\n//                   });\r\n//                 }\r\n//               }}\r\n//               width={300}\r\n//               height={300}\r\n//               className=\"border-4 border-green-300 rounded-lg mx-auto\"\r\n//             />\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"flex gap-4\">\r\n//           <button\r\n//             onClick={() => {\r\n//               setGameState('setup');\r\n//               setCurrentPattern(null);\r\n//               setDrawnLines([]);\r\n//               setResult(null);\r\n//             }}\r\n//             className=\"flex-1 bg-purple-500 text-white py-4 rounded-lg font-bold hover:bg-purple-600 flex items-center justify-center gap-2\"\r\n//           >\r\n//             <RefreshCw size={24} /> Again\r\n//           </button>\r\n//           <button onClick={() => setCurrentGame('menu')} className=\"flex-1 bg-gray-500 text-white py-4 rounded-lg font-bold hover:bg-gray-600 flex items-center justify-center gap-2\">\r\n//             <Home size={24} /> Menu\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n// };\r\n\r\n// export default ThreeGames;"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAA+F,EAAA,EAAAM,GAAA,EAAAC,GAAA,EAAAqD,GAAA,EAAAoE,GAAA,EAAAyD,GAAA,EAAAO,GAAA,EAAAwB,GAAA,EAAAM,GAAA,EAAA2C,IAAA,EAAAC,IAAA;AAAAC,YAAA,CAAA3Q,EAAA;AAAA2Q,YAAA,CAAArQ,GAAA;AAAAqQ,YAAA,CAAApQ,GAAA;AAAAoQ,YAAA,CAAA/M,GAAA;AAAA+M,YAAA,CAAA3I,GAAA;AAAA2I,YAAA,CAAAlF,GAAA;AAAAkF,YAAA,CAAA3E,GAAA;AAAA2E,YAAA,CAAAnD,GAAA;AAAAmD,YAAA,CAAA7C,GAAA;AAAA6C,YAAA,CAAAF,IAAA;AAAAE,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}